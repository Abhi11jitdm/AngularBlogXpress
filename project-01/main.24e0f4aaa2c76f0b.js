"use strict";(self.webpackChunkProject_01=self.webpackChunkProject_01||[]).push([[179],{2011:(bt,Te,F)=>{F.d(Te,{Dh:()=>we,GT:()=>ie,cc:()=>De,hO:()=>ze,on:()=>z,pX:()=>ue,xv:()=>he});var d=F(4650),X=F(9260),O=F(4976);bt=F.hmd(bt);const ae=["ngOnDestroy"],ue=(Pe,Ne,Be,Oe={})=>new Proxy(Pe,{get:(Ee,Ie)=>Be.runOutsideAngular(()=>{var Ge;if(Pe[Ie])return!(null===(Ge=Oe?.spy)||void 0===Ge)&&Ge.get&&Oe.spy.get(Ie,Pe[Ie]),Pe[Ie];if(ae.indexOf(Ie)>-1)return()=>{};const ke=Ne.toPromise().then(ot=>{const se=ot&&ot[Ie];return"function"==typeof se?se.bind(ot):se&&se.then?se.then(Rt=>Be.run(()=>Rt)):Be.run(()=>se)});return new Proxy(()=>{},{get:(ot,se)=>ke[se],apply:(ot,se,Rt)=>ke.then(rt=>{var Xt;const ht=rt&&rt(...Rt);return!(null===(Xt=Oe?.spy)||void 0===Xt)&&Xt.apply&&Oe.spy.apply(Ie,Rt,ht),ht})})})}),ie=(Pe,Ne)=>{Ne.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Oe=>{Object.defineProperty(Pe.prototype,Oe,Object.getOwnPropertyDescriptor(Be.prototype||Be,Oe))})})};class ye{constructor(Ne){return Ne}}const we=new d.OlP("angularfire2.app.options"),he=new d.OlP("angularfire2.app.name");function z(Pe,Ne,Be){const Ee="object"==typeof Be&&Be||{};Ee.name=Ee.name||"string"==typeof Be&&Be||"[DEFAULT]";const Ge=X.Z.apps.filter(ke=>ke&&ke.name===Ee.name)[0]||Ne.runOutsideAngular(()=>X.Z.initializeApp(Pe,Ee));try{JSON.stringify(Pe)!==JSON.stringify(Ge.options)&&H("error",`${Ge.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(Ge)}const H=(Pe,...Ne)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Pe](...Ne)},Z={provide:ye,useFactory:z,deps:[we,d.R0b,[new d.FiY,he]]};let ze=(()=>{class Pe{constructor(Be){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",d.q4F.full,Be.toString())}static initializeApp(Be,Oe){return{ngModule:Pe,providers:[{provide:we,useValue:Be},{provide:he,useValue:Oe}]}}}return Pe.\u0275fac=function(Be){return new(Be||Pe)(d.LFG(d.Lbi))},Pe.\u0275mod=d.oAB({type:Pe}),Pe.\u0275inj=d.cJS({providers:[Z]}),Pe})();function De(Pe,Ne,Be,Oe,Ee){const[,Ie,Ge]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===Pe)||[];if(Ie)return function Qe(Pe,Ne){try{return Pe.toString()===Ne.toString()}catch{return Pe===Ne}}(Ee,Ge)||(pe("error",`${Ne} was already initialized on the ${Be} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Ee,was:Ge})),Ie;{const ke=Oe();return globalThis.\u0275AngularfireInstanceCache.push([Pe,ke,Ee]),ke}}const pt=!!bt.hot,pe=(Pe,...Ne)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Pe](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(bt,Te,F)=>{F.d(Te,{q4:()=>ri,iC:()=>Qi,fc:()=>Th,HU:()=>Dt,vb:()=>Ul,JM:()=>Vl});var d=F(4650),X=F(259),O=F(5861),ae=F(6881),ue=F(2090),ie=F(4859),ye=F(1877);const we=(I,D)=>D.some(A=>I instanceof A);let he,z;const ze=new WeakMap,De=new WeakMap,Qe=new WeakMap,pt=new WeakMap,pe=new WeakMap;let Be={get(I,D,A){if(I instanceof IDBTransaction){if("done"===D)return De.get(I);if("objectStoreNames"===D)return I.objectStoreNames||Qe.get(I);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Ge(I[D])},set:(I,D,A)=>(I[D]=A,!0),has:(I,D)=>I instanceof IDBTransaction&&("done"===D||"store"===D)||D in I};function Ie(I){return"function"==typeof I?function Ee(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...D){return I.apply(ke(this),D),Ge(ze.get(this))}:function(...D){return Ge(I.apply(ke(this),D))}:function(D,...A){const N=I.call(ke(this),D,...A);return Qe.set(N,D.sort?D.sort():[D]),Ge(N)}}(I):(I instanceof IDBTransaction&&function Ne(I){if(De.has(I))return;const D=new Promise((A,N)=>{const G=()=>{I.removeEventListener("complete",K),I.removeEventListener("error",re),I.removeEventListener("abort",re)},K=()=>{A(),G()},re=()=>{N(I.error||new DOMException("AbortError","AbortError")),G()};I.addEventListener("complete",K),I.addEventListener("error",re),I.addEventListener("abort",re)});De.set(I,D)}(I),we(I,function H(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Be):I)}function Ge(I){if(I instanceof IDBRequest)return function Pe(I){const D=new Promise((A,N)=>{const G=()=>{I.removeEventListener("success",K),I.removeEventListener("error",re)},K=()=>{A(Ge(I.result)),G()},re=()=>{N(I.error),G()};I.addEventListener("success",K),I.addEventListener("error",re)});return D.then(A=>{A instanceof IDBCursor&&ze.set(A,I)}).catch(()=>{}),pe.set(D,I),D}(I);if(pt.has(I))return pt.get(I);const D=Ie(I);return D!==I&&(pt.set(I,D),pe.set(D,I)),D}const ke=I=>pe.get(I),Rt=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],Xt=new Map;function ht(I,D){if(!(I instanceof IDBDatabase)||D in I||"string"!=typeof D)return;if(Xt.get(D))return Xt.get(D);const A=D.replace(/FromIndex$/,""),N=D!==A,G=rt.includes(A);if(!(A in(N?IDBIndex:IDBObjectStore).prototype)||!G&&!Rt.includes(A))return;const K=function(){var re=(0,O.Z)(function*(We,...$e){const ct=this.transaction(We,G?"readwrite":"readonly");let Nt=ct.store;return N&&(Nt=Nt.index($e.shift())),(yield Promise.all([Nt[A](...$e),G&&ct.done]))[0]});return function($e){return re.apply(this,arguments)}}();return Xt.set(D,K),K}!function Oe(I){Be=I(Be)}(I=>({...I,get:(D,A,N)=>ht(D,A)||I.get(D,A,N),has:(D,A)=>!!ht(D,A)||I.has(D,A)}));const fe="@firebase/installations",ge="0.6.4",be=1e4,Se=`w:${ge}`,qe="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",mt=36e5,Kt=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Mt(I){return I instanceof ue.ZR&&I.code.includes("request-failed")}function ln({projectId:I}){return`${je}/projects/${I}/installations`}function Cn(I){return{token:I.token,requestStatus:2,expiresIn:aa(I.expiresIn),creationTime:Date.now()}}function Rn(I,D){return Or.apply(this,arguments)}function Or(){return(Or=(0,O.Z)(function*(I,D){const N=(yield D.json()).error;return Kt.create("request-failed",{requestName:I,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function Zr({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Ws(I){return bi.apply(this,arguments)}function bi(){return(bi=(0,O.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function aa(I){return Number(I.replace("s","000"))}function _t(){return(_t=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:A}){const N=ln(I),G=Zr(I),K=D.getImmediate({optional:!0});if(K){const ct=yield K.getHeartbeatsHeader();ct&&G.append("x-firebase-client",ct)}const We={method:"POST",headers:G,body:JSON.stringify({fid:A,authVersion:qe,appId:I.appId,sdkVersion:Se})},$e=yield Ws(()=>fetch(N,We));if($e.ok){const ct=yield $e.json();return{fid:ct.fid||A,registrationStatus:2,refreshToken:ct.refreshToken,authToken:Cn(ct.authToken)}}throw yield Rn("Create Installation",$e)})).apply(this,arguments)}function fi(I){return new Promise(D=>{setTimeout(D,I)})}const Ar=/^[cdef][\w-]{21}$/,Kr="";function rs(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const A=function on(I){return function vc(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Ar.test(A)?A:Kr}catch{return Kr}}function cn(I){return`${I.appName}!${I.appId}`}const at=new Map;function Lt(I,D){const A=cn(I);yr(A,D),function Yr(I,D){const A=function gi(){return!kn&&"BroadcastChannel"in self&&(kn=new BroadcastChannel("[Firebase] FID Change"),kn.onmessage=I=>{yr(I.data.key,I.data.fid)}),kn}();A&&A.postMessage({key:I,fid:D}),function vn(){0===at.size&&kn&&(kn.close(),kn=null)}()}(A,D)}function yr(I,D){const A=at.get(I);if(A)for(const N of A)N(D)}let kn=null;const Zs="firebase-installations-database",en=1,is="firebase-installations-store";let dn=null;function Ci(){return dn||(dn=function ot(I,D,{blocked:A,upgrade:N,blocking:G,terminated:K}={}){const re=indexedDB.open(I,D),We=Ge(re);return N&&re.addEventListener("upgradeneeded",$e=>{N(Ge(re.result),$e.oldVersion,$e.newVersion,Ge(re.transaction))}),A&&re.addEventListener("blocked",()=>A()),We.then($e=>{K&&$e.addEventListener("close",()=>K()),G&&$e.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}(Zs,en,{upgrade:(I,D)=>{0===D&&I.createObjectStore(is)}})),dn}function Bn(I,D){return er.apply(this,arguments)}function er(){return(er=(0,O.Z)(function*(I,D){const A=cn(I),G=(yield Ci()).transaction(is,"readwrite"),K=G.objectStore(is),re=yield K.get(A);return yield K.put(D,A),yield G.done,(!re||re.fid!==D.fid)&&Lt(I,D.fid),D})).apply(this,arguments)}function Hi(I){return An.apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(I){const D=cn(I),N=(yield Ci()).transaction(is,"readwrite");yield N.objectStore(is).delete(D),yield N.done})).apply(this,arguments)}function zi(I,D){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,O.Z)(function*(I,D){const A=cn(I),G=(yield Ci()).transaction(is,"readwrite"),K=G.objectStore(is),re=yield K.get(A),We=D(re);return void 0===We?yield K.delete(A):yield K.put(We,A),yield G.done,We&&(!re||re.fid!==We.fid)&&Lt(I,We.fid),We})).apply(this,arguments)}function j(I){return U.apply(this,arguments)}function U(){return U=(0,O.Z)(function*(I){let D;const A=yield zi(I.appConfig,N=>{const G=function W(I){return xn(I||{fid:rs(),registrationStatus:0})}(N),K=function _e(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Kt.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},N=function J(I,D){return Le.apply(this,arguments)}(I,A);return{installationEntry:A,registrationPromise:N}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:xt(I)}:{installationEntry:D}}(I,G);return D=K.registrationPromise,K.installationEntry});return A.fid===Kr?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}}),U.apply(this,arguments)}function Le(){return Le=(0,O.Z)(function*(I,D){try{const A=yield function Fr(I,D){return _t.apply(this,arguments)}(I,D);return Bn(I.appConfig,A)}catch(A){throw Mt(A)&&409===A.customData.serverCode?yield Hi(I.appConfig):yield Bn(I.appConfig,{fid:D.fid,registrationStatus:0}),A}}),Le.apply(this,arguments)}function xt(I){return nn.apply(this,arguments)}function nn(){return(nn=(0,O.Z)(function*(I){let D=yield Wn(I.appConfig);for(;1===D.registrationStatus;)yield fi(100),D=yield Wn(I.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:N}=yield j(I);return N||A}return D})).apply(this,arguments)}function Wn(I){return zi(I,D=>{if(!D)throw Kt.create("installation-not-found");return xn(D)})}function xn(I){return function gn(I){return 1===I.registrationStatus&&I.registrationTime+be<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Lr(){return(Lr=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},A){const N=function Gi(I,{fid:D}){return`${ln(I)}/${D}/authTokens:generate`}(I,A),G=function kr(I,{refreshToken:D}){const A=Zr(I);return A.append("Authorization",function mo(I){return`${qe} ${I}`}(D)),A}(I,A),K=D.getImmediate({optional:!0});if(K){const ct=yield K.getHeartbeatsHeader();ct&&G.append("x-firebase-client",ct)}const We={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:Se,appId:I.appId}})},$e=yield Ws(()=>fetch(N,We));if($e.ok)return Cn(yield $e.json());throw yield Rn("Generate Auth Token",$e)})).apply(this,arguments)}function ss(I){return Za.apply(this,arguments)}function Za(){return Za=(0,O.Z)(function*(I,D=!1){let A;const N=yield zi(I.appConfig,K=>{if(!Zt(K))throw Kt.create("not-registered");const re=K.authToken;if(!D&&function vt(I){return 2===I.requestStatus&&!function an(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+mt}(I)}(re))return K;if(1===re.requestStatus)return A=function ce(I,D){return te.apply(this,arguments)}(I,D),K;{if(!navigator.onLine)throw Kt.create("app-offline");const We=function rn(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}(K);return A=function yt(I,D){return Tt.apply(this,arguments)}(I,We),We}});return A?yield A:N.authToken}),Za.apply(this,arguments)}function te(){return(te=(0,O.Z)(function*(I,D){let A=yield xe(I.appConfig);for(;1===A.authToken.requestStatus;)yield fi(100),A=yield xe(I.appConfig);const N=A.authToken;return 0===N.requestStatus?ss(I,D):N})).apply(this,arguments)}function xe(I){return zi(I,D=>{if(!Zt(D))throw Kt.create("not-registered");return function _r(I){return 1===I.requestStatus&&I.requestTime+be<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Tt(){return Tt=(0,O.Z)(function*(I,D){try{const A=yield function Jt(I,D){return Lr.apply(this,arguments)}(I,D),N=Object.assign(Object.assign({},D),{authToken:A});return yield Bn(I.appConfig,N),A}catch(A){if(!Mt(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const N=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Bn(I.appConfig,N)}else yield Hi(I.appConfig);throw A}}),Tt.apply(this,arguments)}function Zt(I){return void 0!==I&&2===I.registrationStatus}function tl(){return(tl=(0,O.Z)(function*(I){const D=I,{installationEntry:A,registrationPromise:N}=yield j(D);return N?N.catch(console.error):ss(D).catch(console.error),A.fid})).apply(this,arguments)}function yo(){return yo=(0,O.Z)(function*(I,D=!1){const A=I;return yield function Ti(I){return Ye.apply(this,arguments)}(A),(yield ss(A,D)).token}),yo.apply(this,arguments)}function Ye(){return(Ye=(0,O.Z)(function*(I){const{registrationPromise:D}=yield j(I);D&&(yield D)})).apply(this,arguments)}function os(I){return Kt.create("missing-app-config-values",{valueName:I})}const qt="installations",_o=I=>{const D=I.getProvider("app").getImmediate(),A=function Ka(I){if(!I||!I.options)throw os("App Configuration");if(!I.name)throw os("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!I.options[A])throw os(A);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,ae._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Is=I=>{const D=I.getProvider("app").getImmediate(),A=(0,ae._getProvider)(D,qt).getImmediate();return{getId:()=>function tr(I){return tl.apply(this,arguments)}(A),getToken:G=>function lp(I){return yo.apply(this,arguments)}(A,G)}};(function vo(){(0,ae._registerComponent)(new ie.wA(qt,_o,"PUBLIC")),(0,ae._registerComponent)(new ie.wA("installations-internal",Is,"PRIVATE"))})(),(0,ae.registerVersion)(fe,ge),(0,ae.registerVersion)(fe,ge,"esm2017");const Zn="@firebase/remote-config",Mr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ds{constructor(D,A,N,G){this.client=D,this.storage=A,this.storageCache=N,this.logger=G}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-A,G=N<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${G}.`),G}fetch(D){var A=this;return(0,O.Z)(function*(){const[N,G]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(G&&A.isCachedDataFresh(D.cacheMaxAgeMillis,N))return G;D.eTag=G&&G.eTag;const K=yield A.client.fetch(D),re=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===K.status&&re.push(A.storage.setLastSuccessfulFetchResponse(K)),yield Promise.all(re),K})()}}function bm(I=navigator){return I.languages&&I.languages[0]||I.language}class Ic{constructor(D,A,N,G,K,re){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=N,this.projectId=G,this.apiKey=K,this.appId=re}fetch(D){var A=this;return(0,O.Z)(function*(){const[N,G]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},$e={sdk_version:A.sdkVersion,app_instance_id:N,app_instance_id_token:G,app_id:A.appId,language_code:bm()},ct={method:"POST",headers:We,body:JSON.stringify($e)},Nt=fetch(re,ct),Ot=new Promise((Dr,Xi)=>{D.signal.addEventListener(()=>{const oo=new Error("The operation was aborted.");oo.name="AbortError",Xi(oo)})});let jr;try{yield Promise.race([Nt,Ot]),jr=yield Nt}catch(Dr){let Xi="fetch-client-network";throw"AbortError"===Dr?.name&&(Xi="fetch-timeout"),Mr.create(Xi,{originalErrorMessage:Dr?.message})}let En=jr.status;const jt=jr.headers.get("ETag")||void 0;let so,zo;if(200===jr.status){let Dr;try{Dr=yield jr.json()}catch(Xi){throw Mr.create("fetch-client-parse",{originalErrorMessage:Xi?.message})}so=Dr.entries,zo=Dr.state}if("INSTANCE_STATE_UNSPECIFIED"===zo?En=500:"NO_CHANGE"===zo?En=304:("NO_TEMPLATE"===zo||"EMPTY_CONFIG"===zo)&&(so={}),304!==En&&200!==En)throw Mr.create("fetch-status",{httpStatus:En});return{status:En,eTag:jt,config:so}})()}}class Cm{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,O.Z)(function*(){const N=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,N)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:N}){var G=this;return(0,O.Z)(function*(){yield function Dm(I,D){return new Promise((A,N)=>{const G=Math.max(D-Date.now(),0),K=setTimeout(A,G);I.addEventListener(()=>{clearTimeout(K),N(Mr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const K=yield G.client.fetch(D);return yield G.storage.deleteThrottleMetadata(),K}catch(K){if(!function nh(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(K))throw K;const re={throttleEndTimeMillis:Date.now()+(0,ue.$s)(N),backoffCount:N+1};return yield G.storage.setThrottleMetadata(re),G.attemptFetch(D,re)}})()}}class j_{constructor(D,A,N,G,K){this.app=D,this._client=A,this._storageCache=N,this._storage=G,this._logger=K,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sl(I,D){const A=I.target.error||void 0;return Mr.create(D,{originalErrorMessage:A&&A?.message})}const Ai="app_namespace_store";class $_{constructor(D,A,N,G=function ha(){return new Promise((I,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=N=>{D(sl(N,"storage-open"))},A.onsuccess=N=>{I(N.target.result)},A.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(Ai,{keyPath:"compositeKey"})}}catch(A){D(Mr.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=N,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,O.Z)(function*(){const N=yield A.openDbPromise;return new Promise((G,K)=>{const We=N.transaction([Ai],"readonly").objectStore(Ai),$e=A.createCompositeKey(D);try{const ct=We.get($e);ct.onerror=Nt=>{K(sl(Nt,"storage-get"))},ct.onsuccess=Nt=>{const Ot=Nt.target.result;G(Ot?Ot.value:void 0)}}catch(ct){K(Mr.create("storage-get",{originalErrorMessage:ct?.message}))}})})()}set(D,A){var N=this;return(0,O.Z)(function*(){const G=yield N.openDbPromise;return new Promise((K,re)=>{const $e=G.transaction([Ai],"readwrite").objectStore(Ai),ct=N.createCompositeKey(D);try{const Nt=$e.put({compositeKey:ct,value:A});Nt.onerror=Ot=>{re(sl(Ot,"storage-set"))},Nt.onsuccess=()=>{K()}}catch(Nt){re(Mr.create("storage-set",{originalErrorMessage:Nt?.message}))}})})()}delete(D){var A=this;return(0,O.Z)(function*(){const N=yield A.openDbPromise;return new Promise((G,K)=>{const We=N.transaction([Ai],"readwrite").objectStore(Ai),$e=A.createCompositeKey(D);try{const ct=We.delete($e);ct.onerror=Nt=>{K(sl(Nt,"storage-delete"))},ct.onsuccess=()=>{G()}}catch(ct){K(Mr.create("storage-delete",{originalErrorMessage:ct?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class hp{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const A=D.storage.getLastFetchStatus(),N=D.storage.getLastSuccessfulFetchTimestampMillis(),G=D.storage.getActiveConfig(),K=yield A;K&&(D.lastFetchStatus=K);const re=yield N;re&&(D.lastSuccessfulFetchTimestampMillis=re);const We=yield G;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function bc(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,O.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Cs(){(0,ae._registerComponent)(new ie.wA("remote-config",function I(D,{instanceIdentifier:A}){const N=D.getProvider("app").getImmediate(),G=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!(0,ue.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:K,apiKey:re,appId:We}=N.options;if(!K)throw Mr.create("registration-project-id");if(!re)throw Mr.create("registration-api-key");if(!We)throw Mr.create("registration-app-id");const $e=new $_(We,N.name,A=A||"firebase"),ct=new hp($e),Nt=new ye.Yd(Zn);Nt.logLevel=ye.in.ERROR;const Ot=new Ic(G,ae.SDK_VERSION,A,K,re,We),jr=new Cm(Ot,$e),En=new Ds(jr,$e,ct,Nt),jt=new j_(N,En,ct,$e,Nt);return function yi(I){const D=(0,ue.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(jt),jt},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Zn,"0.4.4"),(0,ae.registerVersion)(Zn,"0.4.4","esm2017")}();const sh=(I,D)=>D.some(A=>I instanceof A);let Dc,Ys;const ol=new WeakMap,Qs=new WeakMap,Jr=new WeakMap,Vr=new WeakMap,tu=new WeakMap;let Ts={get(I,D,A){if(I instanceof IDBTransaction){if("done"===D)return Qs.get(I);if("objectStoreNames"===D)return I.objectStoreNames||Jr.get(I);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Ur(I[D])},set:(I,D,A)=>(I[D]=A,!0),has:(I,D)=>I instanceof IDBTransaction&&("done"===D||"store"===D)||D in I};function ah(I){return"function"==typeof I?function oh(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function eu(){return Ys||(Ys=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...D){return I.apply(lr(this),D),Ur(ol.get(this))}:function(...D){return Ur(I.apply(lr(this),D))}:function(D,...A){const N=I.call(lr(this),D,...A);return Jr.set(N,D.sort?D.sort():[D]),Ur(N)}}(I):(I instanceof IDBTransaction&&function fa(I){if(Qs.has(I))return;const D=new Promise((A,N)=>{const G=()=>{I.removeEventListener("complete",K),I.removeEventListener("error",re),I.removeEventListener("abort",re)},K=()=>{A(),G()},re=()=>{N(I.error||new DOMException("AbortError","AbortError")),G()};I.addEventListener("complete",K),I.addEventListener("error",re),I.addEventListener("abort",re)});Qs.set(I,D)}(I),sh(I,function fp(){return Dc||(Dc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Ts):I)}function Ur(I){if(I instanceof IDBRequest)return function wr(I){const D=new Promise((A,N)=>{const G=()=>{I.removeEventListener("success",K),I.removeEventListener("error",re)},K=()=>{A(Ur(I.result)),G()},re=()=>{N(I.error),G()};I.addEventListener("success",K),I.addEventListener("error",re)});return D.then(A=>{A instanceof IDBCursor&&ol.set(A,I)}).catch(()=>{}),tu.set(D,I),D}(I);if(Vr.has(I))return Vr.get(I);const D=ah(I);return D!==I&&(Vr.set(I,D),tu.set(D,I)),D}const lr=I=>tu.get(I);function al(I,D,{blocked:A,upgrade:N,blocking:G,terminated:K}={}){const re=indexedDB.open(I,D),We=Ur(re);return N&&re.addEventListener("upgradeneeded",$e=>{N(Ur(re.result),$e.oldVersion,$e.newVersion,Ur(re.transaction))}),A&&re.addEventListener("blocked",()=>A()),We.then($e=>{K&&$e.addEventListener("close",()=>K()),G&&$e.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}function Ss(I,{blocked:D}={}){const A=indexedDB.deleteDatabase(I);return D&&A.addEventListener("blocked",()=>D()),Ur(A).then(()=>{})}const Cc=["get","getKey","getAll","getAllKeys","count"],Xs=["put","add","delete","clear"],pa=new Map;function nu(I,D){if(!(I instanceof IDBDatabase)||D in I||"string"!=typeof D)return;if(pa.get(D))return pa.get(D);const A=D.replace(/FromIndex$/,""),N=D!==A,G=Xs.includes(A);if(!(A in(N?IDBIndex:IDBObjectStore).prototype)||!G&&!Cc.includes(A))return;const K=function(){var re=(0,O.Z)(function*(We,...$e){const ct=this.transaction(We,G?"readwrite":"readonly");let Nt=ct.store;return N&&(Nt=Nt.index($e.shift())),(yield Promise.all([Nt[A](...$e),G&&ct.done]))[0]});return function($e){return re.apply(this,arguments)}}();return pa.set(D,K),K}!function Er(I){Ts=I(Ts)}(I=>({...I,get:(D,A,N)=>nu(D,A)||I.get(D,A,N),has:(D,A)=>!!nu(D,A)||I.has(D,A)}));const Vt="/firebase-messaging-sw.js",ru="/firebase-cloud-messaging-push-scope",uh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lh="https://fcmregistrations.googleapis.com/v1",ul="google.c.a.c_id",ch="google.c.a.c_l",ll="google.c.a.ts",Tm="google.c.a.e";var de=(()=>{return(I=de||(de={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",de;var I})();function $t(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function iu(I){const A=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(A),G=new Uint8Array(N.length);for(let K=0;K<N.length;++K)G[K]=N.charCodeAt(K);return G}const su="fcm_token_details_db",cr=5,Io="fcm_token_object_Store";function ei(){return ei=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(K=>K.name).includes(su))return null;let D=null;return(yield al(su,cr,{upgrade:(N=(0,O.Z)(function*(G,K,re,We){var $e;if(K<2||!G.objectStoreNames.contains(Io))return;const ct=We.objectStore(Io),Nt=yield ct.index("fcmSenderId").get(I);if(yield ct.clear(),Nt)if(2===K){const Ot=Nt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;D={token:Ot.fcmToken,createTime:null!==($e=Ot.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:$t(Ot.vapidKey)}}}else if(3===K){const Ot=Nt;D={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:$t(Ot.auth),p256dh:$t(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:$t(Ot.vapidKey)}}}else if(4===K){const Ot=Nt;D={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:$t(Ot.auth),p256dh:$t(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:$t(Ot.vapidKey)}}}}),function(K,re,We,$e){return N.apply(this,arguments)})})).close(),yield Ss(su),yield Ss("fcm_vapid_details_db"),yield Ss("undefined"),function hh(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var N}),ei.apply(this,arguments)}const dl="firebase-messaging-database",Sm=1,As="firebase-messaging-store";let ou=null;function rr(){return ou||(ou=al(dl,Sm,{upgrade:(I,D)=>{0===D&&I.createObjectStore(As)}})),ou}function Mi(I){return ls.apply(this,arguments)}function ls(){return ls=(0,O.Z)(function*(I){const D=hl(I),N=yield(yield rr()).transaction(As).objectStore(As).get(D);if(N)return N;{const G=yield function cl(I){return ei.apply(this,arguments)}(I.appConfig.senderId);if(G)return yield bo(I,G),G}}),ls.apply(this,arguments)}function bo(I,D){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,O.Z)(function*(I,D){const A=hl(I),G=(yield rr()).transaction(As,"readwrite");return yield G.objectStore(As).put(D,A),yield G.done,D})).apply(this,arguments)}function au(){return(au=(0,O.Z)(function*(I){const D=hl(I),N=(yield rr()).transaction(As,"readwrite");yield N.objectStore(As).delete(D),yield N.done})).apply(this,arguments)}function hl({appConfig:I}){return I.appId}const ir=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ga(I,D){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,O.Z)(function*(I,D){const A=yield Sc(I),N=gh(D),G={method:"POST",headers:A,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(uu(I.appConfig),G)).json()}catch(re){throw ir.create("token-subscribe-failed",{errorInfo:re?.toString()})}if(K.error)throw ir.create("token-subscribe-failed",{errorInfo:K.error.message});if(!K.token)throw ir.create("token-subscribe-no-token");return K.token})).apply(this,arguments)}function ph(){return(ph=(0,O.Z)(function*(I,D){const A=yield Sc(I),N=gh(D.subscriptionOptions),G={method:"PATCH",headers:A,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(`${uu(I.appConfig)}/${D.token}`,G)).json()}catch(re){throw ir.create("token-update-failed",{errorInfo:re?.toString()})}if(K.error)throw ir.create("token-update-failed",{errorInfo:K.error.message});if(!K.token)throw ir.create("token-update-no-token");return K.token})).apply(this,arguments)}function pl(I,D){return gl.apply(this,arguments)}function gl(){return(gl=(0,O.Z)(function*(I,D){const N={method:"DELETE",headers:yield Sc(I)};try{const K=yield(yield fetch(`${uu(I.appConfig)}/${D}`,N)).json();if(K.error)throw ir.create("token-unsubscribe-failed",{errorInfo:K.error.message})}catch(G){throw ir.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function uu({projectId:I}){return`${lh}/projects/${I}/registrations`}function Sc(I){return lu.apply(this,arguments)}function lu(){return(lu=(0,O.Z)(function*({appConfig:I,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function gh({p256dh:I,auth:D,endpoint:A,vapidKey:N}){const G={web:{endpoint:A,auth:D,p256dh:I}};return N!==uh&&(G.web.applicationPubKey=N),G}const ml=6048e5;function yl(){return yl=(0,O.Z)(function*(I){const D=yield function mp(I,D){return mh.apply(this,arguments)}(I.swRegistration,I.vapidKey),A={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:$t(D.getKey("auth")),p256dh:$t(D.getKey("p256dh"))},N=yield Mi(I.firebaseDependencies);if(N){if(function Mm(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}(N.subscriptionOptions,A))return Date.now()>=N.createTime+ml?function Pn(I,D){return _l.apply(this,arguments)}(I,{token:N.token,createTime:Date.now(),subscriptionOptions:A}):N.token;try{yield pl(I.firebaseDependencies,N.token)}catch(G){console.warn(G)}return gp(I.firebaseDependencies,A)}return gp(I.firebaseDependencies,A)}),yl.apply(this,arguments)}function Ms(){return Ms=(0,O.Z)(function*(I){const D=yield Mi(I.firebaseDependencies);D&&(yield pl(I.firebaseDependencies,D.token),yield function fh(I){return au.apply(this,arguments)}(I.firebaseDependencies));const A=yield I.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Ms.apply(this,arguments)}function _l(){return _l=(0,O.Z)(function*(I,D){try{const A=yield function fl(I,D){return ph.apply(this,arguments)}(I.firebaseDependencies,D),N=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield bo(I.firebaseDependencies,N),A}catch(A){throw yield function Rr(I){return Ms.apply(this,arguments)}(I),A}}),_l.apply(this,arguments)}function gp(I,D){return Do.apply(this,arguments)}function Do(){return(Do=(0,O.Z)(function*(I,D){const N={token:yield ga(I,D),createTime:Date.now(),subscriptionOptions:D};return yield bo(I,N),N.token})).apply(this,arguments)}function mh(){return(mh=(0,O.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:iu(D)})})).apply(this,arguments)}function vl(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Ac(I,D){if(!D.notification)return;I.notification={};const A=D.notification.title;A&&(I.notification.title=A);const N=D.notification.body;N&&(I.notification.body=N);const G=D.notification.image;G&&(I.notification.image=G);const K=D.notification.icon;K&&(I.notification.icon=K)}(D,I),function Mc(I,D){D.data&&(I.data=D.data)}(D,I),function yh(I,D){var A,N,G,K,re;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;I.fcmOptions={};const We=null!==(G=null===(N=D.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==G?G:null===(K=D.notification)||void 0===K?void 0:K.click_action;We&&(I.fcmOptions.link=We);const $e=null===(re=D.fcmOptions)||void 0===re?void 0:re.analytics_label;$e&&(I.fcmOptions.analyticsLabel=$e)}(D,I),D}function ma(I,D){const A=[];for(let N=0;N<I.length;N++)A.push(I.charAt(N)),N<D.length&&A.push(D.charAt(N));return A.join("")}function Rs(I){return ir.create("missing-app-config-values",{valueName:I})}ma("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ma("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rm{constructor(D,A,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function ya(I){if(!I||!I.options)throw Rs("App Configuration Object");if(!I.name)throw Rs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=I;for(const N of D)if(!A[N])throw Rs(N);return{appName:I.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:G,installations:A,analyticsProvider:N}}_delete(){return Promise.resolve()}}function yp(I){return wl.apply(this,arguments)}function wl(){return(wl=(0,O.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Vt,{scope:ru}),I.swRegistration.update().catch(()=>{})}catch(D){throw ir.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function cu(){return(cu=(0,O.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield yp(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw ir.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function To(){return(To=(0,O.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=uh)})).apply(this,arguments)}function _a(){return _a=(0,O.Z)(function*(I,D){if(!navigator)throw ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ir.create("permission-blocked");return yield function Co(I,D){return To.apply(this,arguments)}(I,D?.vapidKey),yield function H_(I,D){return cu.apply(this,arguments)}(I,D?.serviceWorkerRegistration),function pp(I){return yl.apply(this,arguments)}(I)}),_a.apply(this,arguments)}function So(){return(So=(0,O.Z)(function*(I,D,A){const N=function Ao(I){switch(I){case de.NOTIFICATION_CLICKED:return"notification_open";case de.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:A[ul],message_name:A[ch],message_time:A[ll],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mo(){return Mo=(0,O.Z)(function*(I,D){const A=D.data;if(!A.isFirebaseMessaging)return;I.onMessageHandler&&A.messageType===de.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(vl(A)):I.onMessageHandler.next(vl(A)));const N=A.data;(function Rc(I){return"object"==typeof I&&!!I&&ul in I})(N)&&"1"===N[Tm]&&(yield function xc(I,D,A){return So.apply(this,arguments)}(I,A.messageType,N))}),Mo.apply(this,arguments)}const Js="@firebase/messaging",Ro=I=>{const D=new Rm(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Il(I,D){return Mo.apply(this,arguments)}(D,A)),D},bl=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:N=>function El(I,D){return _a.apply(this,arguments)}(D,N)}};function _p(){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,O.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function du(){(0,ae._registerComponent)(new ie.wA("messaging",Ro,"PUBLIC")),(0,ae._registerComponent)(new ie.wA("messaging-internal",bl,"PRIVATE")),(0,ae.registerVersion)(Js,"0.12.4"),(0,ae.registerVersion)(Js,"0.12.4","esm2017")}();const wn="analytics",Eh="firebase_id",Cl="origin",Nc=6e4,Tl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sl="https://www.googletagmanager.com/gtag/js",dr=new ye.Yd("@firebase/analytics"),Kn=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Oc(I){if(!I.startsWith(Sl)){const D=Kn.create("invalid-gtag-resource",{gtagURL:I});return dr.warn(D.message),""}return I}function hu(I){return Promise.all(I.map(D=>D.catch(A=>A)))}function No(){return(No=(0,O.Z)(function*(I,D,A,N,G,K){const re=N[G];try{if(re)yield D[re];else{const $e=(yield hu(A)).find(ct=>ct.measurementId===G);$e&&(yield D[$e.appId])}}catch(We){dr.error(We)}I("config",G,K)})).apply(this,arguments)}function pu(){return(pu=(0,O.Z)(function*(I,D,A,N,G){try{let K=[];if(G&&G.send_to){let re=G.send_to;Array.isArray(re)||(re=[re]);const We=yield hu(A);for(const $e of re){const ct=We.find(Ot=>Ot.measurementId===$e),Nt=ct&&D[ct.appId];if(!Nt){K=[];break}K.push(Nt)}}0===K.length&&(K=Object.values(D)),yield Promise.all(K),I("event",N,G||{})}catch(K){dr.error(K)}})).apply(this,arguments)}const gu=30,Fo=new class ko{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ep(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function tn(){return(tn=(0,O.Z)(function*(I){var D;const{appId:A,apiKey:N}=I,G={method:"GET",headers:Ep(N)},K=Tl.replace("{app-id}",A),re=yield fetch(K,G);if(200!==re.status&&304!==re.status){let We="";try{const $e=yield re.json();null!==(D=$e.error)&&void 0!==D&&D.message&&(We=$e.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:re.status,responseMessage:We})}return re.json()})).apply(this,arguments)}function mu(){return(mu=(0,O.Z)(function*(I,D=Fo,A){const{appId:N,apiKey:G,measurementId:K}=I.options;if(!N)throw Kn.create("no-app-id");if(!G){if(K)return{measurementId:K,appId:N};throw Kn.create("no-api-key")}const re=D.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new G_;return setTimeout((0,O.Z)(function*(){We.abort()}),void 0!==A?A:Nc),Fc({appId:N,apiKey:G,measurementId:K},re,We,D)})).apply(this,arguments)}function Fc(I,D,A){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,O.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:A},N,G=Fo){var K;const{appId:re,measurementId:We}=I;try{yield function z_(I,D){return new Promise((A,N)=>{const G=Math.max(D-Date.now(),0),K=setTimeout(A,G);I.addEventListener(()=>{clearTimeout(K),N(Kn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(N,D)}catch($e){if(We)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:re,measurementId:We};throw $e}try{const $e=yield function Ih(I){return tn.apply(this,arguments)}(I);return G.deleteThrottleMetadata(re),$e}catch($e){const ct=$e;if(!function Ip(I){if(!(I instanceof ue.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ct)){if(G.deleteThrottleMetadata(re),We)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:re,measurementId:We};throw $e}const Nt=503===Number(null===(K=ct?.customData)||void 0===K?void 0:K.httpStatus)?(0,ue.$s)(A,G.intervalMillis,gu):(0,ue.$s)(A,G.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Nt,backoffCount:A+1};return G.setThrottleMetadata(re,Ot),dr.debug(`Calling attemptFetch again in ${Nt} millis`),Fc(I,Ot,N,G)}}),Lc.apply(this,arguments)}class G_{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Lo,Cp;function bp(){return(bp=(0,O.Z)(function*(I,D,A,N,G){if(G&&G.global)I("event",A,N);else{const K=yield D;I("event",A,Object.assign(Object.assign({},N),{send_to:K}))}})).apply(this,arguments)}function sn(){return(sn=(0,O.Z)(function*(){if(!(0,ue.hl)())return dr.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(I){return dr.warn(Kn.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function lt(){return lt=(0,O.Z)(function*(I,D,A,N,G,K,re){var We;const $e=function xm(I){return mu.apply(this,arguments)}(I);$e.then(En=>{A[En.measurementId]=En.appId,I.options.measurementId&&En.measurementId!==I.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${En.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(En=>dr.error(En)),D.push($e);const ct=function ti(){return sn.apply(this,arguments)}().then(En=>{if(En)return N.getId()}),[Nt,Ot]=yield Promise.all([$e,ct]);(function Oo(I){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(Sl)&&A.src.includes(I))return A;return null})(K)||function Ps(I,D){const A=function fu(I,D){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(I,D)),A}("firebase-js-sdk-policy",{createScriptURL:Oc}),N=document.createElement("script"),G=`${Sl}?l=${I}&id=${D}`;N.src=A?A?.createScriptURL(G):G,N.async=!0,document.head.appendChild(N)}(K,Nt.measurementId),Cp&&(G("consent","default",Cp),function Uc(I){Cp=I}(void 0)),G("js",new Date);const jr=null!==(We=re?.config)&&void 0!==We?We:{};return jr[Cl]="firebase",jr.update=!0,null!=Ot&&(jr[Eh]=Ot),G("config",Nt.measurementId,jr),Lo&&(G("set",Lo),function Pl(I){Lo=I}(void 0)),Nt.measurementId}),lt.apply(this,arguments)}class Br{constructor(D){this.app=D}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},bh=[];const _u={};let Bc,Pi,ni="dataLayer",Nl="gtag",Ia=!1;function to(I,D,A){!function wu(){const I=[];if((0,ue.ru)()&&I.push("This is a browser extension environment."),(0,ue.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((N,G)=>`(${G+1}) ${N}`).join(" "),A=Kn.create("invalid-analytics-context",{errorInfo:D});dr.warn(A.message)}}();const N=I.options.appId;if(!N)throw Kn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Kn.create("no-api-key");dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[N])throw Kn.create("already-exists",{id:N});if(!Ia){!function vp(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(ni);const{wrappedGtag:K,gtagCore:re}=function eo(I,D,A,N,G){let K=function(...re){window[N].push(arguments)};return window[G]&&"function"==typeof window[G]&&(K=window[G]),window[G]=function Ea(I,D,A,N){function K(){return K=(0,O.Z)(function*(re,...We){try{if("event"===re){const[$e,ct]=We;yield function kc(I,D,A,N,G){return pu.apply(this,arguments)}(I,D,A,$e,ct)}else if("config"===re){const[$e,ct]=We;yield function Al(I,D,A,N,G,K){return No.apply(this,arguments)}(I,D,A,N,$e,ct)}else if("consent"===re){const[$e]=We;I("consent","update",$e)}else if("get"===re){const[$e,ct,Nt]=We;I("get",$e,ct,Nt)}else if("set"===re){const[$e]=We;I("set",$e)}else I(re,...We)}catch($e){dr.error($e)}}),K.apply(this,arguments)}return function G(re){return K.apply(this,arguments)}}(K,I,D,A),{gtagCore:K,wrappedGtag:window[G]}}(Fn,bh,_u,ni,Nl);Pi=K,Bc=re,Ia=!0}return Fn[N]=function vi(I,D,A,N,G,K,re){return lt.apply(this,arguments)}(I,bh,_u,D,Bc,ni,A),new Br(I)}function Ol(){return no.apply(this,arguments)}function no(){return(no=(0,O.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const ba="@firebase/analytics";!function Tp(){(0,ae._registerComponent)(new ie.wA(wn,(D,{options:A})=>to(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ae._registerComponent)(new ie.wA("analytics-internal",function I(D){try{const A=D.getProvider(wn).getImmediate();return{logEvent:(N,G,K)=>function Dh(I,D,A,N){I=(0,ue.m9)(I),function q_(I,D,A,N,G){return bp.apply(this,arguments)}(Pi,Fn[I.app.options.appId],D,A,N).catch(G=>dr.error(G))}(A,N,G,K)}}catch(A){throw Kn.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ae.registerVersion)(ba,"0.10.0"),(0,ae.registerVersion)(ba,"0.10.0","esm2017")}();var Eu=F(4408),Zi=F(7565);const xr=new class bu extends Zi.v{}(class Iu extends Eu.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(D,A,N):(D.flush(this),0)}});var Gc=F(4986),$n=F(8505),io=F(5363),jo=F(9468);const ri=new d.GfV("7.5.0"),Yn="__angularfire_symbol__analyticsIsSupportedValue",$o="__angularfire_symbol__analyticsIsSupported",qc="__angularfire_symbol__remoteConfigIsSupportedValue",Da="__angularfire_symbol__remoteConfigIsSupported",Ki="__angularfire_symbol__messagingIsSupportedValue",ds="__angularfire_symbol__messagingIsSupported";function Vl(I,D,A){if(D){if(1===D.length)return D[0];const K=D.filter(re=>re.app===A);if(1===K.length)return K[0]}return A.container.getProvider(I).getImmediate({optional:!0})}globalThis[$o]||(globalThis[$o]=Ol().then(I=>globalThis[Yn]=I).catch(()=>globalThis[Yn]=!1)),globalThis[ds]||(globalThis[ds]=_p().then(I=>globalThis[Ki]=I).catch(()=>globalThis[Ki]=!1)),globalThis[Da]||(globalThis[Da]=bc().then(I=>globalThis[qc]=I).catch(()=>globalThis[qc]=!1));const Ul=(I,D)=>{const A=D?[D]:(0,X.C6)(),N=[];return A.forEach(G=>{G.container.getProvider(I).instances.forEach(re=>{N.includes(re)||N.push(re)})}),N};function Ns(){}class Wc{constructor(D,A=xr){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,N){const G=this.zone;return this.delegate.schedule(function(re){G.runGuarded(()=>{D.apply(this,[re])})},A,N)}}class Bl{constructor(D){this.zone=D,this.task=null}call(D,A){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ns,{},Ns,Ns)),A.pipe((0,$n.b)({next:N,complete:N,error:N})).subscribe(D).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dt=(()=>{class I{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Wc(Zone.current)),this.insideAngular=A.run(()=>new Wc(Zone.current,Gc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(A){return new(A||I)(d.LFG(d.R0b))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Yi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Th(I){return I.pipe((0,io.Q)(Yi().outsideAngular))}function Qi(I){return Yi(),function Ah(I){return function(A){return(A=A.lift(new Bl(I.ngZone))).pipe((0,jo.R)(I.outsideAngular),(0,io.Q)(I.insideAngular))}}(Yi())(I)}},2090:(bt,Te,F)=>{F.d(Te,{$s:()=>Hi,BH:()=>Ie,G6:()=>Se,L:()=>he,LL:()=>tt,Pz:()=>Ee,Sg:()=>Ge,UG:()=>se,US:()=>ie,ZB:()=>Z,ZR:()=>Ut,aH:()=>Oe,b$:()=>Xt,eu:()=>je,hl:()=>qe,jU:()=>Rt,m9:()=>Qr,ne:()=>cn,pd:()=>rs,r3:()=>bi,ru:()=>rt,tV:()=>z,uI:()=>ot,vZ:()=>_t,w1:()=>fe,xO:()=>Ar,xb:()=>mo,z$:()=>ke,zI:()=>mt,zd:()=>Kr});const ae=function(j){const U=[];let W=0;for(let _e=0;_e<j.length;_e++){let J=j.charCodeAt(_e);J<128?U[W++]=J:J<2048?(U[W++]=J>>6|192,U[W++]=63&J|128):55296==(64512&J)&&_e+1<j.length&&56320==(64512&j.charCodeAt(_e+1))?(J=65536+((1023&J)<<10)+(1023&j.charCodeAt(++_e)),U[W++]=J>>18|240,U[W++]=J>>12&63|128,U[W++]=J>>6&63|128,U[W++]=63&J|128):(U[W++]=J>>12|224,U[W++]=J>>6&63|128,U[W++]=63&J|128)}return U},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let J=0;J<j.length;J+=3){const Le=j[J],xt=J+1<j.length,nn=xt?j[J+1]:0,Wn=J+2<j.length,xn=Wn?j[J+2]:0;let Lr=(15&nn)<<2|xn>>6,Gi=63&xn;Wn||(Gi=64,xt||(Lr=64)),_e.push(W[Le>>2],W[(3&Le)<<4|nn>>4],W[Lr],W[Gi])}return _e.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(ae(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let W=0,_e=0;for(;W<j.length;){const J=j[W++];if(J<128)U[_e++]=String.fromCharCode(J);else if(J>191&&J<224){const Le=j[W++];U[_e++]=String.fromCharCode((31&J)<<6|63&Le)}else if(J>239&&J<365){const Wn=((7&J)<<18|(63&j[W++])<<12|(63&j[W++])<<6|63&j[W++])-65536;U[_e++]=String.fromCharCode(55296+(Wn>>10)),U[_e++]=String.fromCharCode(56320+(1023&Wn))}else{const Le=j[W++],xt=j[W++];U[_e++]=String.fromCharCode((15&J)<<12|(63&Le)<<6|63&xt)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const W=U?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let J=0;J<j.length;){const Le=W[j.charAt(J++)],nn=J<j.length?W[j.charAt(J)]:0;++J;const xn=J<j.length?W[j.charAt(J)]:64;++J;const Jt=J<j.length?W[j.charAt(J)]:64;if(++J,null==Le||null==nn||null==xn||null==Jt)throw new ye;_e.push(Le<<2|nn>>4),64!==xn&&(_e.push(nn<<4&240|xn>>2),64!==Jt&&_e.push(xn<<6&192|Jt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(j){return function(j){const U=ae(j);return ie.encodeByteArray(U,!0)}(j).replace(/\./g,"")},z=function(j){try{return ie.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Z(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const W in U)!U.hasOwnProperty(W)||!ze(W)||(j[W]=Z(j[W],U[W]));return j}function ze(j){return"__proto__"!==j}const Pe=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&z(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Oe=()=>{var j;return null===(j=Pe())||void 0===j?void 0:j.config},Ee=j=>{var U;return null===(U=Pe())||void 0===U?void 0:U[`_${j}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,W)=>{this.resolve=U,this.reject=W})}wrapCallback(U){return(W,_e)=>{W?this.reject(W):this.resolve(_e),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(W):U(W,_e))}}}function Ge(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=U||"demo-project",J=j.iat||0,Le=j.sub||j.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:J,exp:J+3600,auth_time:J,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},j);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(xt)),""].join(".")}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function se(){var j;const U=null===(j=Pe())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Rt(){return"object"==typeof self&&self.self===self}function rt(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fe(){const j=ke();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Se(){return!se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((j,U)=>{try{let W=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(_e);J.onsuccess=()=>{J.result.close(),W||self.indexedDB.deleteDatabase(_e),j(!0)},J.onupgradeneeded=()=>{W=!1},J.onerror=()=>{var Le;U((null===(Le=J.error)||void 0===Le?void 0:Le.message)||"")}}catch(W){U(W)}})}function mt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ut extends Error{constructor(U,W,_e){super(W),this.code=U,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(U,W,_e){this.service=U,this.serviceName=W,this.errors=_e}create(U,...W){const _e=W[0]||{},J=`${this.service}/${U}`,Le=this.errors[U],xt=Le?function Kt(j,U){return j.replace(Mt,(W,_e)=>{const J=U[_e];return null!=J?String(J):`<${_e}?>`})}(Le,_e):"Error";return new Ut(J,`${this.serviceName}: ${xt} (${J}).`,_e)}}const Mt=/\{\$([^}]+)}/g;function bi(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function mo(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function _t(j,U){if(j===U)return!0;const W=Object.keys(j),_e=Object.keys(U);for(const J of W){if(!_e.includes(J))return!1;const Le=j[J],xt=U[J];if(fi(Le)&&fi(xt)){if(!_t(Le,xt))return!1}else if(Le!==xt)return!1}for(const J of _e)if(!W.includes(J))return!1;return!0}function fi(j){return null!==j&&"object"==typeof j}function Ar(j){const U=[];for(const[W,_e]of Object.entries(j))Array.isArray(_e)?_e.forEach(J=>{U.push(encodeURIComponent(W)+"="+encodeURIComponent(J))}):U.push(encodeURIComponent(W)+"="+encodeURIComponent(_e));return U.length?"&"+U.join("&"):""}function Kr(j){const U={};return j.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[J,Le]=_e.split("=");U[decodeURIComponent(J)]=decodeURIComponent(Le)}}),U}function rs(j){const U=j.indexOf("?");if(!U)return"";const W=j.indexOf("#",U);return j.substring(U,W>0?W:void 0)}function cn(j,U){const W=new at(j,U);return W.subscribe.bind(W)}class at{constructor(U,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{U(this)}).catch(_e=>{this.error(_e)})}next(U){this.forEachObserver(W=>{W.next(U)})}error(U){this.forEachObserver(W=>{W.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,W,_e){let J;if(void 0===U&&void 0===W&&void 0===_e)throw new Error("Missing Observer.");J=function Di(j,U){if("object"!=typeof j||null===j)return!1;for(const W of U)if(W in j&&"function"==typeof j[W])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:W,complete:_e},void 0===J.next&&(J.next=pi),void 0===J.error&&(J.error=pi),void 0===J.complete&&(J.complete=pi);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),Le}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,U)}sendOne(U,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{W(this.observers[U])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pi(){}const dn=1e3,Ci=2,Bn=144e5,er=.5;function Hi(j,U=dn,W=Ci){const _e=U*Math.pow(W,j),J=Math.round(er*_e*(Math.random()-.5)*2);return Math.min(Bn,_e+J)}function Qr(j){return j&&j._delegate?j._delegate:j}},3176:(bt,Te,F)=>{var d=F(4650);let X=null;function O(){return X}class ue{}const ie=new d.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function we(){return(0,d.LFG)(z)}()},providedIn:"platform"}),n})();const he=new d.OlP("Location Initialized");let z=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){H()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){H()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Z(){return new z((0,d.LFG)(ie))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let pt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Pe)},providedIn:"root"}),n})();const pe=new d.OlP("appBaseHref");let Pe=(()=>{class n extends pt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ze(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+Qe(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+Qe(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye),d.LFG(pe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ne=(()=>{class n extends pt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ze(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+Qe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+Qe(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye),d.LFG(pe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(De(Ie(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=ze,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(d.LFG(pt))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Oe(){return new Be((0,d.LFG)(pt))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}var Rt=(()=>((Rt=Rt||{})[Rt.Format=0]="Format",Rt[Rt.Standalone=1]="Standalone",Rt))(),rt=(()=>((rt=rt||{})[rt.Narrow=0]="Narrow",rt[rt.Abbreviated=1]="Abbreviated",rt[rt.Wide=2]="Wide",rt[rt.Short=3]="Short",rt))(),Xt=(()=>((Xt=Xt||{})[Xt.Short=0]="Short",Xt[Xt.Medium=1]="Medium",Xt[Xt.Long=2]="Long",Xt[Xt.Full=3]="Full",Xt))(),ht=(()=>((ht=ht||{})[ht.Decimal=0]="Decimal",ht[ht.Group=1]="Group",ht[ht.List=2]="List",ht[ht.PercentSign=3]="PercentSign",ht[ht.PlusSign=4]="PlusSign",ht[ht.MinusSign=5]="MinusSign",ht[ht.Exponential=6]="Exponential",ht[ht.SuperscriptingExponent=7]="SuperscriptingExponent",ht[ht.PerMille=8]="PerMille",ht[ht.Infinity=9]="Infinity",ht[ht.NaN=10]="NaN",ht[ht.TimeSeparator=11]="TimeSeparator",ht[ht.CurrencyDecimal=12]="CurrencyDecimal",ht[ht.CurrencyGroup=13]="CurrencyGroup",ht))();function Ut(n,e){return Fr((0,d.cg1)(n)[d.wAp.DateFormat],e)}function tt(n,e){return Fr((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function Kt(n,e){return Fr((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function Mt(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ht.CurrencyDecimal)return t[d.wAp.NumberSymbols][ht.Decimal];if(e===ht.CurrencyGroup)return t[d.wAp.NumberSymbols][ht.Group]}return r}function Ws(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function _t(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Kr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rs={},on=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var cn=(()=>((cn=cn||{})[cn.Short=0]="Short",cn[cn.ShortGMT=1]="ShortGMT",cn[cn.Long=2]="Long",cn[cn.Extended=3]="Extended",cn))(),at=(()=>((at=at||{})[at.FullYear=0]="FullYear",at[at.Month=1]="Month",at[at.Date=2]="Date",at[at.Hours=3]="Hours",at[at.Minutes=4]="Minutes",at[at.Seconds=5]="Seconds",at[at.FractionalSeconds=6]="FractionalSeconds",at[at.Day=7]="Day",at))(),Lt=(()=>((Lt=Lt||{})[Lt.DayPeriods=0]="DayPeriods",Lt[Lt.Days=1]="Days",Lt[Lt.Months=2]="Months",Lt[Lt.Eras=3]="Eras",Lt))();function Di(n,e,t,r){let i=function J(n){if(xt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,l=1]=n.split("-").map(p=>+p);return pi(i,a-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Kr))return function Le(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,p=Number(n[5]||0)-r,y=Number(n[6]||0),E=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,l,p,y,E),e}(r)}const e=new Date(n);if(!xt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=yr(t,e)||e;let p,l=[];for(;e;){if(p=on.exec(e),!p){l.push(e);break}{l=l.concat(p.slice(1));const T=l.pop();if(!T)break;e=T}}let y=i.getTimezoneOffset();r&&(y=U(r,y),i=function _e(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function W(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(U(e,i)-i))}(i,r,!0));let E="";return l.forEach(T=>{const R=function j(n){if(Qr[n])return Qr[n];let e;switch(n){case"G":case"GG":case"GGG":e=en(Lt.Eras,rt.Abbreviated);break;case"GGGG":e=en(Lt.Eras,rt.Wide);break;case"GGGGG":e=en(Lt.Eras,rt.Narrow);break;case"y":e=vn(at.FullYear,1,0,!1,!0);break;case"yy":e=vn(at.FullYear,2,0,!0,!0);break;case"yyy":e=vn(at.FullYear,3,0,!1,!0);break;case"yyyy":e=vn(at.FullYear,4,0,!1,!0);break;case"Y":e=zi(1);break;case"YY":e=zi(2,!0);break;case"YYY":e=zi(3);break;case"YYYY":e=zi(4);break;case"M":case"L":e=vn(at.Month,1,1);break;case"MM":case"LL":e=vn(at.Month,2,1);break;case"MMM":e=en(Lt.Months,rt.Abbreviated);break;case"MMMM":e=en(Lt.Months,rt.Wide);break;case"MMMMM":e=en(Lt.Months,rt.Narrow);break;case"LLL":e=en(Lt.Months,rt.Abbreviated,Rt.Standalone);break;case"LLLL":e=en(Lt.Months,rt.Wide,Rt.Standalone);break;case"LLLLL":e=en(Lt.Months,rt.Narrow,Rt.Standalone);break;case"w":e=An(1);break;case"ww":e=An(2);break;case"W":e=An(1,!0);break;case"d":e=vn(at.Date,1);break;case"dd":e=vn(at.Date,2);break;case"c":case"cc":e=vn(at.Day,1);break;case"ccc":e=en(Lt.Days,rt.Abbreviated,Rt.Standalone);break;case"cccc":e=en(Lt.Days,rt.Wide,Rt.Standalone);break;case"ccccc":e=en(Lt.Days,rt.Narrow,Rt.Standalone);break;case"cccccc":e=en(Lt.Days,rt.Short,Rt.Standalone);break;case"E":case"EE":case"EEE":e=en(Lt.Days,rt.Abbreviated);break;case"EEEE":e=en(Lt.Days,rt.Wide);break;case"EEEEE":e=en(Lt.Days,rt.Narrow);break;case"EEEEEE":e=en(Lt.Days,rt.Short);break;case"a":case"aa":case"aaa":e=en(Lt.DayPeriods,rt.Abbreviated);break;case"aaaa":e=en(Lt.DayPeriods,rt.Wide);break;case"aaaaa":e=en(Lt.DayPeriods,rt.Narrow);break;case"b":case"bb":case"bbb":e=en(Lt.DayPeriods,rt.Abbreviated,Rt.Standalone,!0);break;case"bbbb":e=en(Lt.DayPeriods,rt.Wide,Rt.Standalone,!0);break;case"bbbbb":e=en(Lt.DayPeriods,rt.Narrow,Rt.Standalone,!0);break;case"B":case"BB":case"BBB":e=en(Lt.DayPeriods,rt.Abbreviated,Rt.Format,!0);break;case"BBBB":e=en(Lt.DayPeriods,rt.Wide,Rt.Format,!0);break;case"BBBBB":e=en(Lt.DayPeriods,rt.Narrow,Rt.Format,!0);break;case"h":e=vn(at.Hours,1,-12);break;case"hh":e=vn(at.Hours,2,-12);break;case"H":e=vn(at.Hours,1);break;case"HH":e=vn(at.Hours,2);break;case"m":e=vn(at.Minutes,1);break;case"mm":e=vn(at.Minutes,2);break;case"s":e=vn(at.Seconds,1);break;case"ss":e=vn(at.Seconds,2);break;case"S":e=vn(at.FractionalSeconds,1);break;case"SS":e=vn(at.FractionalSeconds,2);break;case"SSS":e=vn(at.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=dn(cn.Short);break;case"ZZZZZ":e=dn(cn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=dn(cn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=dn(cn.Long);break;default:return null}return Qr[n]=e,e}(T);E+=R?R(i,t,y):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function pi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function yr(n,e){const t=function ge(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(rs[t]=rs[t]||{},rs[t][e])return rs[t][e];let r="";switch(e){case"shortDate":r=Ut(n,Xt.Short);break;case"mediumDate":r=Ut(n,Xt.Medium);break;case"longDate":r=Ut(n,Xt.Long);break;case"fullDate":r=Ut(n,Xt.Full);break;case"shortTime":r=tt(n,Xt.Short);break;case"mediumTime":r=tt(n,Xt.Medium);break;case"longTime":r=tt(n,Xt.Long);break;case"fullTime":r=tt(n,Xt.Full);break;case"short":const i=yr(n,"shortTime"),a=yr(n,"shortDate");r=Yr(Kt(n,Xt.Short),[i,a]);break;case"medium":const l=yr(n,"mediumTime"),p=yr(n,"mediumDate");r=Yr(Kt(n,Xt.Medium),[l,p]);break;case"long":const y=yr(n,"longTime"),E=yr(n,"longDate");r=Yr(Kt(n,Xt.Long),[y,E]);break;case"full":const T=yr(n,"fullTime"),R=yr(n,"fullDate");r=Yr(Kt(n,Xt.Full),[T,R])}return r&&(rs[t][e]=r),r}function Yr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function kn(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),a+l}function vn(n,e,t=0,r=!1,i=!1){return function(a,l){let p=function Zs(n,e){switch(n){case at.FullYear:return e.getFullYear();case at.Month:return e.getMonth();case at.Date:return e.getDate();case at.Hours:return e.getHours();case at.Minutes:return e.getMinutes();case at.Seconds:return e.getSeconds();case at.FractionalSeconds:return e.getMilliseconds();case at.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||p>-t)&&(p+=t),n===at.Hours)0===p&&-12===t&&(p=12);else if(n===at.FractionalSeconds)return function gi(n,e){return kn(n,3).substring(0,e)}(p,e);const y=Mt(l,ht.MinusSign);return kn(p,e,y,r,i)}}function en(n,e,t=Rt.Format,r=!1){return function(i,a){return function is(n,e,t,r,i,a){switch(t){case Lt.Months:return function qe(n,e,t){const r=(0,d.cg1)(n),a=Fr([r[d.wAp.MonthsFormat],r[d.wAp.MonthsStandalone]],e);return Fr(a,t)}(e,i,r)[n.getMonth()];case Lt.Days:return function Se(n,e,t){const r=(0,d.cg1)(n),a=Fr([r[d.wAp.DaysFormat],r[d.wAp.DaysStandalone]],e);return Fr(a,t)}(e,i,r)[n.getDay()];case Lt.DayPeriods:const l=n.getHours(),p=n.getMinutes();if(a){const E=function bi(n){const e=(0,d.cg1)(n);return Ws(e),(e[d.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?_t(r):[_t(r[0]),_t(r[1])])}(e),T=function aa(n,e,t){const r=(0,d.cg1)(n);Ws(r);const a=Fr([r[d.wAp.ExtraData][0],r[d.wAp.ExtraData][1]],e)||[];return Fr(a,t)||[]}(e,i,r),R=E.findIndex(k=>{if(Array.isArray(k)){const[V,$]=k,ee=l>=V.hours&&p>=V.minutes,oe=l<$.hours||l===$.hours&&p<$.minutes;if(V.hours<$.hours){if(ee&&oe)return!0}else if(ee||oe)return!0}else if(k.hours===l&&k.minutes===p)return!0;return!1});if(-1!==R)return T[R]}return function be(n,e,t){const r=(0,d.cg1)(n),a=Fr([r[d.wAp.DayPeriodsFormat],r[d.wAp.DayPeriodsStandalone]],e);return Fr(a,t)}(e,i,r)[l<12?0:1];case Lt.Eras:return function je(n,e){return Fr((0,d.cg1)(n)[d.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function dn(n){return function(e,t,r){const i=-1*r,a=Mt(t,ht.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case cn.Short:return(i>=0?"+":"")+kn(l,2,a)+kn(Math.abs(i%60),2,a);case cn.ShortGMT:return"GMT"+(i>=0?"+":"")+kn(l,1,a);case cn.Long:return"GMT"+(i>=0?"+":"")+kn(l,2,a)+":"+kn(Math.abs(i%60),2,a);case cn.Extended:return 0===r?"Z":(i>=0?"+":"")+kn(l,2,a)+":"+kn(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ci=0,Bn=4;function Hi(n){return pi(n.getFullYear(),n.getMonth(),n.getDate()+(Bn-n.getDay()))}function An(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+a)/7)}else{const a=Hi(t),l=function er(n){const e=pi(n,Ci,1).getDay();return pi(n,0,1+(e<=Bn?Bn:Bn+7)-e)}(a.getFullYear()),p=a.getTime()-l.getTime();i=1+Math.round(p/6048e5)}return kn(i,n,Mt(r,ht.MinusSign))}}function zi(n,e=!1){return function(t,r){return kn(Hi(t).getFullYear(),n,Mt(r,ht.MinusSign),e)}}const Qr={};function U(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function xt(n){return n instanceof Date&&!isNaN(n.valueOf())}function yo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}const Ti=/\s+/,Ye=[];let Bt=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=Ye,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ti):Ye}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ti):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Ti).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class nr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Es=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new nr(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const p=r.get(a);r.move(p,l),jn(p,i)}});for(let i=0,a=r.length;i<a;i++){const p=r.get(i).context;p.index=i,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{jn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function jn(n,e){n.context.$implicit=e.item}let os=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ya("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ya("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qt{constructor(){this.$implicit=null,this.ngIf=null}}function Ya(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}const da=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ec=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Xr=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return Di(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function mi(n,e){return new d.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(da,24),d.Y36(Ec,24))},n.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ih="server";function Cs(n){return n===ih}let Ja=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new sh((0,d.LFG)(ie),window)}),n})();class sh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ys(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Dc(this.window.history)||Dc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Dc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class eu{}class yh extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rc extends yh{static makeCurrent(){!function ae(n){X||(X=n)}(new Rc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ya(){return ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null}();return null==t?null:function Rm(n){Rs=Rs||document.createElement("a"),Rs.setAttribute("href",n);const e=Rs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yo(document.cookie,e)}}let Rs,ma=null;const yp=new d.OlP("TRANSITION_ID"),H_=[{provide:d.ip1,useFactory:function wl(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[yp,ie,d.zs3],multi:!0}];let Co=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const To=new d.OlP("EventManagerPlugins");let El=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(To),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class _a{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let xc=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),So=(()=>{class n extends xc{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Il=/%COMP%/g,du=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function vh(n,e){return e.flat(100).map(t=>t.replace(Il,n))}function xo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let xi=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new xs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Eh?i.applyToHost(t):i instanceof wn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,p=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:a=new Eh(l,p,r,this.appId,y);break;case d.ifc.ShadowDom:return new wh(l,p,t,r);default:a=new wn(l,p,r,y)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(El),d.LFG(So),d.LFG(d.AFp),d.LFG(du))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class xs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ao[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(wa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ao[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ao[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xo(r)):this.eventManager.addEventListener(e,t,xo(r))}}function wa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wh extends xs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=vh(i.id,i.styles);for(const l of a){const p=document.createElement("style");p.textContent=l,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wn extends xs{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=vh(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Eh extends wn{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function _p(n){return"_ngcontent-%COMP%".replace(Il,n)}(l),this.hostAttr=function Dl(n){return"_nghost-%COMP%".replace(Il,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Cl=(()=>{class n extends _a{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Nc=["alt","control","meta","shift"],Tl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dr=(()=>{class n extends _a{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),l="code."),Nc.forEach(E=>{const T=r.indexOf(E);T>-1&&(r.splice(T,1),l+=E+".")}),l+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=Tl[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Nc.forEach(l=>{l!==i&&(0,Sl[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const kc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Ps(){Rc.makeCurrent()},multi:!0},{provide:ie,useFactory:function Al(){return(0,d.RDi)(document),document},deps:[]}]),pu=new d.OlP(""),Ea=[{provide:d.rWj,useClass:class cu{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const p=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],eo=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function vp(){return new d.qLn},deps:[]},{provide:To,useClass:Cl,multi:!0,deps:[ie,d.R0b,d.Lbi]},{provide:To,useClass:dr,multi:!0,deps:[ie]},{provide:xi,useClass:xi,deps:[El,So,d.AFp,du]},{provide:d.FYo,useExisting:xi},{provide:xc,useExisting:So},{provide:So,useClass:So,deps:[ie]},{provide:El,useClass:El,deps:[To,d.R0b]},{provide:eu,useClass:Co,deps:[]},[]];let Oo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:yp,useExisting:d.AFp},H_]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pu,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...eo,...Ea],imports:[Ai,d.hGG]}),n})(),Ep=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Fo(){return new Ep((0,d.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var sn=F(8996),vi=F(7669);function lt(...n){const e=(0,vi.yG)(n);return(0,sn.D)(n,e)}var Br=F(7579);class Fn extends Br.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const _u=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ni=F(9751);const{isArray:Nl}=Array,{getPrototypeOf:Bc,prototype:Pi,keys:Ia}=Object;function vu(n){if(1===n.length){const e=n[0];if(Nl(e))return{args:e,keys:null};if(function wu(n){return n&&"object"==typeof n&&Bc(n)===Pi}(e)){const t=Ia(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var to=F(4671),gt=F(4004);const{isArray:jc}=Array;function no(n){return(0,gt.U)(e=>function Ol(n,e){return jc(e)?n(...e):n(e)}(n,e))}function ro(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Ir=F(5403),$c=F(9672);function Hc(...n){const e=(0,vi.yG)(n),t=(0,vi.jO)(n),{args:r,keys:i}=vu(n);if(0===r.length)return(0,sn.D)([],e);const a=new ni.y(function Uo(n,e,t=to.y){return r=>{Bo(e,()=>{const{length:i}=n,a=new Array(i);let l=i,p=i;for(let y=0;y<i;y++)Bo(e,()=>{const E=(0,sn.D)(n[y],e);let T=!1;E.subscribe((0,Ir.x)(r,R=>{a[y]=R,T||(T=!0,p--),p||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>ro(i,l):to.y));return t?a.pipe(no(t)):a}function Bo(n,e,t){n?(0,$c.f)(t,n,e):e()}var kl=F(8189);function Fl(...n){return function Dh(){return(0,kl.J)(1)}()((0,sn.D)(n,(0,vi.yG)(n)))}var ba=F(8421);function Ch(n){return new ni.y(e=>{(0,ba.Xf)(n()).subscribe(e)})}var Tp=F(9635),Eu=F(576);function Iu(n,e){const t=(0,Eu.m)(n)?n:()=>n,r=i=>i.error(t());return new ni.y(e?i=>e.schedule(r,0,i):r)}var Zi=F(515),bu=F(727),xr=F(4482);function zc(){return(0,xr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ir.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Gc extends ni.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,xr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ir.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bu.w0.EMPTY)}return e}refCount(){return zc()(this)}}function $n(n,e){return(0,xr.e)((t,r)=>{let i=null,a=0,l=!1;const p=()=>l&&!i&&r.complete();t.subscribe((0,Ir.x)(r,y=>{i?.unsubscribe();let E=0;const T=a++;(0,ba.Xf)(n(y,T)).subscribe(i=(0,Ir.x)(r,R=>r.next(e?e(y,R,T,E++):R),()=>{i=null,p()}))},()=>{l=!0,p()}))})}function io(n){return n<=0?()=>Zi.E:(0,xr.e)((e,t)=>{let r=0;e.subscribe((0,Ir.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jo(...n){const e=(0,vi.yG)(n);return(0,xr.e)((t,r)=>{(e?Fl(n,t,e):Fl(n,t)).subscribe(r)})}function ri(n,e){return(0,xr.e)((t,r)=>{let i=0;t.subscribe((0,Ir.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Yn=F(5577);function $o(n){return(0,xr.e)((e,t)=>{let r=!1;e.subscribe((0,Ir.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function qc(n=Da){return(0,xr.e)((e,t)=>{let r=!1;e.subscribe((0,Ir.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Da(){return new _u}function Ki(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((i,a)=>n(i,a,r)):to.y,io(1),t?$o(e):qc(()=>new _u))}function ds(n,e){return(0,Eu.m)(e)?(0,Yn.z)(n,e,1):(0,Yn.z)(n,1)}var br=F(8505);function Ho(n){return(0,xr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Ir.x)(t,void 0,void 0,l=>{a=(0,ba.Xf)(n(l,Ho(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Ll(n,e){return(0,xr.e)(function Sp(n,e,t,r,i){return(a,l)=>{let p=t,y=e,E=0;a.subscribe((0,Ir.x)(l,T=>{const R=E++;y=p?n(y,T,R):(p=!0,T),r&&l.next(y)},i&&(()=>{p&&l.next(y),l.complete()})))}}(n,e,arguments.length>=2,!0))}function Vl(n){return n<=0?()=>Zi.E:(0,xr.e)((e,t)=>{let r=[];e.subscribe((0,Ir.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ul(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((i,a)=>n(i,a,r)):to.y,Vl(1),t?$o(e):qc(()=>new _u))}function Bl(n){return(0,xr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Dt="primary",Yi=Symbol("RouteTitle");class jl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ni(n){return new jl(n)}function Th(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],p=n[a];if(l.startsWith(":"))i[l.substring(1)]=p;else if(l!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Ah(n[i],e[i]))return!1;return!0}function Ah(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Mh(n){return Array.prototype.concat.apply([],n)}function Rh(n){return n.length>0?n[n.length-1]:null}function D(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function A(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,sn.D)(Promise.resolve(n)):lt(n)}const N=!1,G={exact:function $e(n,e,t){if(!Dr(n.segments,e.segments)||!jr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$e(n.children[r],e.children[r],t))return!1;return!0},subset:Nt},K={exact:function We(n,e){return Qi(n,e)},subset:function ct(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ah(n[t],e[t]))},ignored:()=>!0};function re(n,e,t){return G[t.paths](n.root,e.root,t.matrixParams)&&K[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Nt(n,e,t){return Ot(n,e,e.segments,t)}function Ot(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Dr(i,t)||e.hasChildren()||!jr(i,t,r))}if(n.segments.length===t.length){if(!Dr(n.segments,t)||!jr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Nt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Dr(n.segments,i)&&jr(n.segments,i,r)&&n.children[Dt])&&Ot(n.children[Dt],e,a,r)}}function jr(n,e,t){return e.every((r,i)=>K[t](n[i].parameters,r.parameters))}class En{constructor(e=new jt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return Kc.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,D(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ap(this)}}class so{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ni(this.parameters)),this._parameterMap}toString(){return Pm(this)}}function Dr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Zc},providedIn:"root"}),n})();class Zc{parse(e){const t=new Qc(e);return new En(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Du(e.root,!0)}`,r=function W_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Go(t)}=${Go(i)}`).join("&"):`${Go(t)}=${Go(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Mp(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Kc=new Zc;function Ap(n){return n.segments.map(e=>Pm(e)).join("/")}function Du(n,e){if(!n.hasChildren())return Ap(n);if(e){const t=n.children[Dt]?Du(n.children[Dt],!1):"",r=[];return D(n.children,(i,a)=>{a!==Dt&&r.push(`${a}:${Du(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Xi(n,e){let t=[];return D(n.children,(r,i)=>{i===Dt&&(t=t.concat(e(r,i)))}),D(n.children,(r,i)=>{i!==Dt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Dt?[Du(n.children[Dt],!1)]:[`${i}:${Du(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Ap(n)}/${t[0]}`:`${Ap(n)}/(${t.join("//")})`}}function Yc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Go(n){return Yc(n).replace(/%3B/gi,";")}function qo(n){return Yc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(n){return decodeURIComponent(n)}function Rp(n){return $l(n.replace(/\+/g,"%20"))}function Pm(n){return`${qo(n.path)}${function xp(n){return Object.keys(n).map(e=>`;${qo(e)}=${qo(n[e])}`).join("")}(n.parameters)}`}const Nm=/^[^\/()?;=#]+/;function xh(n){const e=n.match(Nm);return e?e[0]:""}const lE=/^[^=?&#]+/,Z_=/^[^&#]+/;class Qc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new jt(e,t)),r}parseSegment(){const e=xh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,N);return this.capture(e),new so($l(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=xh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=xh(this.remaining);i&&(r=i,this.capture(r))}e[$l(t)]=$l(r)}parseQueryParam(e){const t=function Cu(n){const e=n.match(lE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Om(n){const e=n.match(Z_);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Rp(t),a=Rp(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=xh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,N);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Dt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Dt]:new jt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,N)}}function Ph(n){return n.segments.length>0?new jt([],{[Dt]:n}):n}function Ca(n){const e={};for(const r of Object.keys(n.children)){const a=Ca(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function K_(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}function Tu(n){return n instanceof En}const Hl=!1;function km(n,e,t,r,i){if(0===t.length)return Wo(e.root,e.root,e.root,r,i);const a=function ed(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Oh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return D(a.outlets,(y,E)=>{p[E]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new Oh(t,e,r)}(t);return a.toRoot()?Wo(e.root,e.root,new jt([],{}),r,i):function l(y){const E=function kh(n,e,t,r){if(n.isAbsolute)return new Su(e.root,!0,0);if(-1===r)return new Su(t,t===e.root,0);return function Au(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,Hl&&"Invalid number of '../'");i=r.segments.length}return new Su(r,!1,i-a)}(t,r+(Jc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),T=E.processChildren?Os(E.segmentGroup,E.index,a.commands):Lh(E.segmentGroup,E.index,a.commands);return Wo(e.root,E.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function Jc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nh(n){return"object"==typeof n&&null!=n&&n.outlets}function Wo(n,e,t,r,i){let l,a={};r&&D(r,(y,E)=>{a[E]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),l=n===e?t:Fm(n,e,t);const p=Ph(Ca(l));return new En(p,a,i)}function Fm(n,e,t){const r={};return D(n.children,(i,a)=>{r[a]=i===e?t:Fm(i,e,t)}),new jt(n.segments,r)}class Oh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Jc(r[0]))throw new d.vHH(4003,Hl&&"Root segment cannot have matrix parameters");const i=r.find(Nh);if(i&&i!==Rh(r))throw new d.vHH(4004,Hl&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Su{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Lh(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return Os(n,e,t);const r=function Np(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],p=t[r];if(Nh(p))break;const y=`${p}`,E=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&E&&"object"==typeof E&&void 0===E.outlets){if(!kp(y,E,l))return a;r+=2}else{if(!kp(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new jt(n.segments.slice(0,r.pathIndex),{});return a.children[Dt]=new jt(n.segments.slice(r.pathIndex),n.children),Os(a,0,i)}return r.match&&0===i.length?new jt(n.segments,{}):r.match&&!n.hasChildren()?td(n,e,t):r.match?Os(n,0,i):td(n,e,t)}function Os(n,e,t){if(0===t.length)return new jt(n.segments,{});{const r=function Fh(n){return Nh(n[0])?n[0].outlets:{[Dt]:n}}(t),i={};if(!r[Dt]&&n.children[Dt]&&1===n.numberOfChildren&&0===n.children[Dt].segments.length){const a=Os(n.children[Dt],e,t);return new jt(n.segments,a.children)}return D(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=Lh(n.children[l],e,a))}),D(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new jt(n.segments,i)}}function td(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Nh(a)){const y=nd(a.outlets);return new jt(r,y)}if(0===i&&Jc(t[0])){r.push(new so(n.segments[e].path,Op(t[0]))),i++;continue}const l=Nh(a)?a.outlets[Dt]:`${a}`,p=i<t.length-1?t[i+1]:null;l&&p&&Jc(p)?(r.push(new so(l,Op(p))),i+=2):(r.push(new so(l,{})),i++)}return new jt(r,{})}function nd(n){const e={};return D(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=td(new jt([],{}),0,t))}),e}function Op(n){const e={};return D(n,(t,r)=>e[r]=`${t}`),e}function kp(n,e,t){return n==t.path&&Qi(e,t.parameters)}const rd="imperative";class ao{constructor(e,t){this.id=e,this.url=t}}class Fp extends ao{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hs extends ao{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class id extends ao{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sa extends ao{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class sd extends ao{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zl extends ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q_ extends ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X_ extends ao{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J_ extends ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lp extends ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class od{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gl{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Bp=(()=>{class n{createUrlTree(t,r,i,a,l,p){return km(t||r.root,i,a,l,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return Bp.\u0275fac(e)},providedIn:"root"}),n})();class $p{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$r(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $r(e,this._root).map(t=>t.value)}}function Hp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hp(n,t);if(r)return r}return null}function $r(n,e){if(n===e.value)return[e];for(const t of e.children){const r=$r(n,t);if(r.length)return r.unshift(e),r}return[]}class ki{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ql(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class tv extends $p{constructor(e,t){super(e),this.snapshot=t,Ru(this,e)}toString(){return this.snapshot.toString()}}function nv(n,e){const t=function rv(n,e){const l=new Uh([],{},{},"",{},Dt,e,null,n.root,-1,{});return new uo("",new ki(l,[]))}(n,e),r=new Fn([new so("",{})]),i=new Fn({}),a=new Fn({}),l=new Fn({}),p=new Fn(""),y=new fr(r,i,l,p,a,Dt,e,t.root);return y.snapshot=t.root,new tv(new ki(y,[]),t)}class fr{constructor(e,t,r,i,a,l,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=p,this.title=this.data?.pipe((0,gt.U)(E=>E[Yi]))??lt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Ni(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Ni(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Vh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Uh{get title(){return this.data?.[Yi]}constructor(e,t,r,i,a,l,p,y,E,T,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=p,this.routeConfig=y,this._urlSegment=E,this._lastPathIndex=T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ni(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ni(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uo extends $p{constructor(e,t){super(t),this.url=e,Ru(this,t)}toString(){return Gp(this._root)}}function Ru(n,e){e.value._routerState=n,e.children.forEach(t=>Ru(n,t))}function Gp(n){const e=n.children.length>0?` { ${n.children.map(Gp).join(", ")} } `:"";return`${n.value}${e}`}function Wl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Qi(e.params,t.params)||n.params.next(t.params),function Sh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Qi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ks(n,e){const t=Qi(n.params,e.params)&&function zo(n,e){return Dr(n,e)&&n.every((t,r)=>Qi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ks(n.parent,e.parent))}function Zl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Bm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zl(n,r,i);return Zl(n,r)})}(n,e,t);return new ki(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(p=>Zl(n,p)),l}}const r=function jm(n){return new fr(new Fn(n.url),new Fn(n.params),new Fn(n.queryParams),new Fn(n.fragment),new Fn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Zl(n,a));return new ki(r,i)}}const $m="ngNavigationCancelingError";function _(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Tu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=f(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function f(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$m]=!0,r.cancellationCode=e,t&&(r.url=t),r}function g(n){return w(n)&&Tu(n.url)}function w(n){return n&&n[$m]}class S{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new x,this.attachRef=null}}let x=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new S,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B=!1;let Y=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(x),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,B);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,B);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,B);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,B);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new Ae(t,p,i.injector);if(r&&function He(n){return!!n.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(l);this.activated=i.createComponent(E,i.length,y)}else this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class Ae{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===fr?this.route:e===x?this.childContexts:this.parent.get(e,t)}}let nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Y],encapsulation:2}),n})();function it(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ld(n){const e=n.children&&n.children.map(ld),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=nt),t}function Ji(n){return n.outlet||Dt}function Bh(n,e){const t=n.filter(r=>Ji(r)===e);return t.push(...n.filter(r=>Ji(r)!==e)),t}function Kl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class jh{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ql(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),D(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ql(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ql(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ql(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Oi(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Gl(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Wl(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(p.contexts),l.attachRef=p.componentRef,l.route=p.route.value,l.outlet&&l.outlet.attach(p.componentRef,p.route.value),Wl(p.route.value),this.activateChildRoutes(e,null,l.children)}else{const p=Kl(i.snapshot),y=p?.get(d._Vd)??null;l.attachRef=null,l.route=i,l.resolver=y,l.injector=p,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class ov{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class av{constructor(e,t){this.component=e,this.route=t}}function Wp(n,e,t){const r=n._root;return $h(r,e?e._root:null,t,[r.value])}function cd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function $h(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ql(e);return n.children.forEach(l=>{(function cE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function _C(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Dr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Dr(n.url,e.url)||!Qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ks(n,e)||!Qi(n.queryParams,e.queryParams);default:return!ks(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new ov(r)):(a.data=l.data,a._resolvedData=l._resolvedData),$h(n,e,a.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new av(p.outlet.component,l))}else l&&Zp(e,p,i),i.canActivateChecks.push(new ov(r)),$h(n,null,a.component?p?p.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),D(a,(l,p)=>Zp(l,t.getContext(p),i)),i}function Zp(n,e,t){const r=ql(n),i=n.value;D(r,(a,l)=>{Zp(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new av(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Hh(n){return"function"==typeof n}function Pu(n){return n instanceof _u||"EmptyError"===n?.name}const zm=Symbol("INITIAL_VALUE");function Yl(){return $n(n=>Hc(n.map(e=>e.pipe(io(1),jo(zm)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===zm)return zm;if(!1===t||t instanceof En)return t}return!0}),ri(e=>e!==zm),io(1)))}function pv(n){return(0,Tp.z)((0,br.b)(e=>{if(Tu(e))throw _(0,e)}),(0,gt.U)(e=>!0===e))}const gv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pE(n,e,t,r,i){const a=mv(n,e,t);return a.matched?function zh(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?lt(i.map(l=>{const p=cd(l,n);return A(function dv(n){return n&&Hh(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Yl(),pv()):lt(!0)}(r=it(e,r),e,t).pipe((0,gt.U)(l=>!0===l?a:{...gv})):lt(a)}function mv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Th)(t,n,e);if(!i)return{...gv};const a={};D(i.posParams,(p,y)=>{a[y]=p.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Gh(n,e,t,r){if(t.length>0&&function CC(n,e,t){return t.some(r=>yv(n,e,r)&&Ji(r)!==Dt)}(n,t,r)){const a=new jt(e,function gE(n,e,t,r){const i={};i[Dt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ji(a)!==Dt){const l=new jt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Ji(a)]=l}return i}(n,e,r,new jt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function mE(n,e,t){return t.some(r=>yv(n,e,r))}(n,t,r)){const a=new jt(n.segments,function DC(n,e,t,r,i){const a={};for(const l of r)if(yv(n,t,l)&&!i[Ji(l)]){const p=new jt([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[Ji(l)]=p}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new jt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function yv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function yE(n,e,t,r){return!!(Ji(n)===r||r!==Dt&&yv(e,t,n))&&("**"===n.path||mv(e,n,t).matched)}function qh(n,e,t){return 0===e.length&&!n.children[t]}const Wm=!1;class Nu{constructor(e){this.segmentGroup=e||null}}class Wh{constructor(e){this.urlTree=e}}function Kp(n){return Iu(new Nu(n))}function _v(n){return Iu(new Wh(n))}class _E{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Gh(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Dt).pipe((0,gt.U)(a=>this.createUrlTree(Ca(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ho(a=>{if(a instanceof Wh)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Nu?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Dt).pipe((0,gt.U)(i=>this.createUrlTree(Ca(i),e.queryParams,e.fragment))).pipe(Ho(i=>{throw i instanceof Nu?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,Wm)}createUrlTree(e,t,r){const i=Ph(e);return new En(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(a=>new jt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,sn.D)(i).pipe(ds(a=>{const l=r.children[a],p=Bh(t,a);return this.expandSegmentGroup(e,p,l,a).pipe((0,gt.U)(y=>({segment:y,outlet:a})))}),Ll((a,l)=>(a[l.outlet]=l.segment,a),{}),Ul())}expandSegment(e,t,r,i,a,l){return(0,sn.D)(r).pipe(ds(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,l).pipe(Ho(E=>{if(E instanceof Nu)return lt(null);throw E}))),Ki(p=>!!p),Ho((p,y)=>{if(Pu(p))return qh(t,i,a)?lt(new jt([],{})):Kp(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,l,p){return yE(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):Kp(t):Kp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_v(a):this.lineralizeSegments(r,a).pipe((0,Yn.z)(l=>{const p=new jt(l,{});return this.expandSegment(e,p,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:p,consumedSegments:y,remainingSegments:E,positionalParamSegments:T}=mv(t,i,a);if(!p)return Kp(t);const R=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?_v(R):this.lineralizeSegments(i,R).pipe((0,Yn.z)(k=>this.expandSegment(e,t,r,k.concat(E),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=it(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,gt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new jt(i,{})))):lt(new jt(i,{}))):pE(t,r,i,e).pipe($n(({matched:l,consumedSegments:p,remainingSegments:y})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Yn.z)(T=>{const R=T.injector??e,k=T.routes,{segmentGroup:V,slicedSegments:$}=Gh(t,p,y,k),ee=new jt(V.segments,V.children);if(0===$.length&&ee.hasChildren())return this.expandChildren(R,k,ee).pipe((0,gt.U)(Ue=>new jt(p,Ue)));if(0===k.length&&0===$.length)return lt(new jt(p,{}));const oe=Ji(r)===a;return this.expandSegment(R,ee,k,$,oe?Dt:a,!0).pipe((0,gt.U)(Ze=>new jt(p.concat(Ze.segments),Ze.children)))})):Kp(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function bC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?lt(!0):lt(i.map(l=>{const p=cd(l,n);return A(function lv(n){return n&&Hh(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Yl(),pv())}(e,t,r).pipe((0,Yn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,br.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function SC(n){return Iu(f(Wm,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return lt(r);if(i.numberOfChildren>1||!i.children[Dt])return e.redirectTo,Iu(new d.vHH(4e3,Wm));i=i.children[Dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new En(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return D(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return D(t.children,(p,y)=>{l[y]=this.createSegmentGroup(e,p,r,i)}),new jt(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,Wm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vv{}class Yp{constructor(e,t,r,i,a,l,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=p}recognize(){const e=Gh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Dt).pipe((0,gt.U)(t=>{if(null===t)return null;const r=new Uh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ki(r,t),a=new uo(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=zp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,sn.D)(Object.keys(r.children)).pipe(ds(i=>{const a=r.children[i],l=Bh(t,i);return this.processSegmentGroup(e,l,a,i)}),Ll((i,a)=>i&&a?(i.push(...a),i):null),function Ns(n,e=!1){return(0,xr.e)((t,r)=>{let i=0;t.subscribe((0,Ir.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),$o(null),Ul(),(0,gt.U)(i=>{if(null===i)return null;const a=wE(i);return function RC(n){n.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,sn.D)(t).pipe(ds(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),Ki(l=>!!l),Ho(l=>{if(Pu(l))return qh(r,i,a)?lt([]):lt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!yE(t,r,i,a))return lt(null);let l;if("**"===t.path){const p=i.length>0?Rh(i).parameters:{},y=IE(r)+i.length;l=lt({snapshot:new Uh(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Aa(t),Ji(t),t.component??t._loadedComponent??null,t,EE(r),y,bE(t)),consumedSegments:[],remainingSegments:[]})}else l=pE(r,t,i,e).pipe((0,gt.U)(({matched:p,consumedSegments:y,remainingSegments:E,parameters:T})=>{if(!p)return null;const R=IE(r)+y.length;return{snapshot:new Uh(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Aa(t),Ji(t),t.component??t._loadedComponent??null,t,EE(r),R,bE(t)),consumedSegments:y,remainingSegments:E}}));return l.pipe($n(p=>{if(null===p)return lt(null);const{snapshot:y,consumedSegments:E,remainingSegments:T}=p;e=t._injector??e;const R=t._loadedInjector??e,k=function xC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:$}=Gh(r,E,T,k.filter(oe=>void 0===oe.redirectTo));if(0===$.length&&V.hasChildren())return this.processChildren(R,k,V).pipe((0,gt.U)(oe=>null===oe?null:[new ki(y,oe)]));if(0===k.length&&0===$.length)return lt([new ki(y,[])]);const ee=Ji(t)===a;return this.processSegment(R,k,V,$,ee?Dt:a).pipe((0,gt.U)(oe=>null===oe?null:[new ki(y,oe)]))}))}}function PC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wE(n){const e=[],t=new Set;for(const r of n){if(!PC(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wE(r.children);e.push(new ki(r.value,i))}return e.filter(r=>!t.has(r))}function EE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function IE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Aa(n){return n.data||{}}function bE(n){return n.resolve||{}}function Ev(n){return"string"==typeof n.title||null===n.title}function Iv(n){return $n(e=>{const t=n(e);return t?(0,sn.D)(t).pipe((0,gt.U)(()=>e)):lt(e)})}const Zh=new d.OlP("ROUTES");let Dv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=A(t.loadComponent()).pipe((0,gt.U)(TE),(0,br.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Bl(()=>{this.componentLoaders.delete(t)})),i=new Gc(r,()=>new Br.x).pipe(zc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,gt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,E,T=!1;Array.isArray(p)?E=p:(y=p.create(t).injector,E=Mh(y.get(Zh,[],d.XFs.Self|d.XFs.Optional)));return{routes:E.map(ld),injector:y}}),Bl(()=>{this.childrenLoaders.delete(r)})),l=new Gc(a,()=>new Br.x).pipe(zc());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return A(t()).pipe((0,gt.U)(TE),(0,Yn.z)(r=>r instanceof d.YKP||Array.isArray(r)?lt(r):(0,sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TE(n){return function Zo(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Km=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Br.x,this.configLoader=(0,d.f3M)(Dv),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(oo),this.rootContexts=(0,d.f3M)(x),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Lm(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new od(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rd,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ri(r=>0!==r.id),(0,gt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),$n(r=>{let i=!1,a=!1;return lt(r).pipe((0,br.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$n(l=>{const p=t.browserUrlTree.toString(),y=!t.navigated||l.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!y&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Sa(l.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Zi.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return SE(l.source)&&(t.browserUrlTree=l.extractedUrl),lt(l).pipe($n(T=>{const R=this.transitions?.getValue();return this.events.next(new Fp(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),R!==this.transitions?.getValue()?Zi.E:Promise.resolve(T)}),function vE(n,e,t,r){return $n(i=>function AC(n,e,t,r,i){return new _E(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,gt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,br.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function OC(n,e,t,r,i){return(0,Yn.z)(a=>function wv(n,e,t,r,i,a,l="emptyOnly"){return new Yp(n,e,t,r,i,l,a).recognize().pipe($n(p=>null===p?function MC(n){return new ni.y(e=>e.error(n))}(new vv):lt(p)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,gt.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,br.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(k,T)}t.browserUrlTree=T.urlAfterRedirects}const R=new zl(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(R)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:R,source:k,restoredState:V,extras:$}=l,ee=new Fp(T,this.urlSerializer.serialize(R),k,V);this.events.next(ee);const oe=nv(R,this.rootComponentType).snapshot;return lt(r={...l,targetSnapshot:oe,urlAfterRedirects:R,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new Sa(l.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Zi.E}}),(0,br.b)(l=>{const p=new Q_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}),(0,gt.U)(l=>r={...l,guards:Wp(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Gm(n,e){return(0,Yn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?lt({...t,guardsResult:!0}):function EC(n,e,t,r){return(0,sn.D)(n).pipe((0,Yn.z)(i=>function IC(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?lt(a.map(p=>{const y=Kl(e)??i,E=cd(p,y);return A(function vC(n){return n&&Hh(n.canDeactivate)}(E)?E.canDeactivate(n,e,t,r):y.runInContext(()=>E(n,e,t,r))).pipe(Ki())})).pipe(Yl()):lt(!0)}(i.component,i.route,t,e,r)),Ki(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Yn.z)(p=>p&&function dE(n){return"boolean"==typeof n}(p)?function hv(n,e,t,r){return(0,sn.D)(e).pipe(ds(i=>Fl(function dd(n,e){return null!==n&&e&&e(new Vm(n)),lt(!0)}(i.route.parent,r),function qm(n,e){return null!==n&&e&&e(new Vp(n)),lt(!0)}(i.route,r),function fv(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function uv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Ch(()=>lt(l.guards.map(y=>{const E=Kl(l.node)??t,T=cd(y,E);return A(function cv(n){return n&&Hh(n.canActivateChild)}(T)?T.canActivateChild(r,n):E.runInContext(()=>T(r,n))).pipe(Ki())})).pipe(Yl())));return lt(a).pipe(Yl())}(n,i.path,t),function fE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const i=r.map(a=>Ch(()=>{const l=Kl(e)??t,p=cd(a,l);return A(function jR(n){return n&&Hh(n.canActivate)}(p)?p.canActivate(e,n):l.runInContext(()=>p(e,n))).pipe(Ki())}));return lt(i).pipe(Yl())}(n,i.route,t))),Ki(i=>!0!==i,!0))}(r,a,n,e):lt(p)),(0,gt.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,l=>this.events.next(l)),(0,br.b)(l=>{if(r.guardsResult=l.guardsResult,Tu(l.guardsResult))throw _(0,l.guardsResult);const p=new X_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(p)}),ri(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Iv(l=>{if(l.guards.canActivateChecks.length)return lt(l).pipe((0,br.b)(p=>{const y=new J_(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),$n(p=>{let y=!1;return lt(p).pipe(function $R(n,e){return(0,Yn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return lt(t);let a=0;return(0,sn.D)(i).pipe(ds(l=>function HR(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Ev(i)&&(a[Yi]=i.title),function DE(n,e,t,r){const i=function zR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return lt({});const a={};return(0,sn.D)(i).pipe((0,Yn.z)(l=>function CE(n,e,t,r){const i=Kl(e)??r,a=cd(n,i);return A(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(Ki(),(0,br.b)(p=>{a[l]=p}))),Vl(1),function Wc(n){return(0,gt.U)(()=>n)}(a),Ho(l=>Pu(l)?Zi.E:Iu(l)))}(a,n,e,r).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=zp(n,t).resolve,i&&Ev(i)&&(n.data[Yi]=i.title),null)))}(l.route,r,n,e)),(0,br.b)(()=>a++),Vl(1),(0,Yn.z)(l=>a===i.length?lt(t):Zi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,br.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,br.b)(p=>{const y=new Lp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}))}),Iv(l=>{const p=y=>{const E=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,br.b)(T=>{y.component=T}),(0,gt.U)(()=>{})));for(const T of y.children)E.push(...p(T));return E};return Hc(p(l.targetSnapshot.root)).pipe($o(),io(1))}),Iv(()=>this.afterPreactivation()),(0,gt.U)(l=>{const p=function xu(n,e,t){const r=Zl(n,e._root,t?t._root:void 0);return new tv(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:p}}),(0,br.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new jh(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),io(1),(0,br.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new hs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Bl(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ho(l=>{if(a=!0,w(l)){g(l)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new id(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(p),g(l)){const y=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||SE(r.source)};t.scheduleNavigation(y,rd,null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new sd(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(l))}catch(y){r.reject(y)}}return Zi.E}))}))}cancelNavigationTransition(t,r,i){const a=new id(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SE(n){return n!==rd}let AE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Dt);return r}getResolvedTitleForRoute(t){return t.data[Yi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(kC)},providedIn:"root"}),n})(),kC=(()=>{class n extends AE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ep))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ME=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(LC)},providedIn:"root"}),n})();class FC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let LC=(()=>{class n extends FC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ht=new d.OlP("",{providedIn:"root",factory:()=>({})});let RE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(xE)},providedIn:"root"}),n})(),xE=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UC(n){throw n}function BC(n,e,t){return e.parse("/")}const PE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Ht,{optional:!0})||{},this.errorHandler=this.options.errorHandler||UC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||BC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(RE),this.routeReuseStrategy=(0,d.f3M)(ME),this.urlCreationStrategy=(0,d.f3M)(ev),this.titleStrategy=(0,d.f3M)(AE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Mh((0,d.f3M)(Zh,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(Km),this.urlSerializer=(0,d.f3M)(oo),this.location=(0,d.f3M)(Be),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new En,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nv(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rd,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(ld),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:p,preserveFragment:y}=r,E=y?this.currentUrlTree.fragment:l;let T=null;switch(p){case"merge":T={...this.currentUrlTree.queryParams,...a};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,E??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Tu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,rd,null,r)}navigate(t,r={skipLocationChange:!1}){return function $C(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...PE}:!1===r?{...jC}:r,Tu(t))return re(this.currentUrlTree,t,i);const a=this.parseUrl(t);return re(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let p,y,E,T;return l?(p=l.resolve,y=l.reject,E=l.promise):E=new Promise((R,k)=>{p=R,y=k}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:p,reject:y,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kh=(()=>{class n{constructor(t,r,i,a,l,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Br.x;const y=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof hs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(fs),d.Y36(fr),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(pt))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class Cv{}let Tv=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ri(t=>t instanceof hs),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,p=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,sn.D)(i).pipe((0,kl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const a=i.pipe((0,Yn.z)(l=>null===l?lt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,sn.D)([a,l]).pipe((0,kl.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fs),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Cv),d.LFG(Dv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jp=new d.OlP("");let OE=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Mu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var co=(()=>((co=co||{})[co.COMPLETE=0]="COMPLETE",co[co.FAILED=1]="FAILED",co[co.REDIRECTING=2]="REDIRECTING",co))();const eg=!1;function hd(n,e){return{\u0275kind:n,\u0275providers:e}}const Av=new d.OlP("",{providedIn:"root",factory:()=>!1});function tg(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(fs),i=n.get(kE);1===n.get(Qm)&&r.initialNavigation(),n.get(FE,null,d.XFs.Optional)?.setUpPreloading(),n.get(Jp,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const kE=new d.OlP(eg?"bootstrap done indicator":"",{factory:()=>new Br.x}),Qm=new d.OlP(eg?"initial navigation":"",{providedIn:"root",factory:()=>1});function qC(){let n=[];return n=eg?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(fs);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Up(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],hd(1,n)}const FE=new d.OlP(eg?"router preloader":"");function WC(n){return hd(0,[{provide:FE,useExisting:Tv},{provide:Cv,useExisting:n}])}const Xh=!1,YC=new d.OlP(Xh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Mv=[Be,{provide:oo,useClass:Zc},fs,x,{provide:fr,useFactory:function Sv(n){return n.routerState.root},deps:[fs]},Dv,Xh?{provide:Av,useValue:!0}:[]];function QC(){return new d.PXZ("Router",fs)}let XC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Mv,Xh&&r?.enableTracing?qC().\u0275providers:[],{provide:Zh,multi:!0,useValue:t},{provide:YC,useFactory:UE,deps:[[fs,new d.FiY,new d.tp0]]},{provide:Ht,useValue:r||{}},r?.useHash?{provide:pt,useClass:Ne}:{provide:pt,useClass:Pe},{provide:Jp,useFactory:()=>{const n=(0,d.f3M)(Ja),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Ht),r=(0,d.f3M)(Km),i=(0,d.f3M)(oo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new OE(i,r,n,e,t)}},r?.preloadingStrategy?WC(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:QC},r?.initialNavigation?eT(r):[],[{provide:BE,useFactory:tg},{provide:d.tb,multi:!0,useExisting:BE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Zh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(YC,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nt]}),n})();function UE(n){if(Xh&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function eT(n){return["disabled"===n.initialNavigation?hd(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(fs);return()=>{e.setUpLocationChangeListener()}}},{provide:Qm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?hd(2,[{provide:Qm,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(he,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(fs),a=e.get(kE);(function WR(n,e){n.events.pipe(ri(t=>t instanceof hs||t instanceof id||t instanceof sd||t instanceof Sa),(0,gt.U)(t=>t instanceof hs||t instanceof Sa?co.COMPLETE:t instanceof id&&(0===t.code||1===t.code)?co.REDIRECTING:co.FAILED),ri(t=>t!==co.REDIRECTING),io(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Km).afterPreactivation=()=>(r(!0),a.closed?lt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const BE=new d.OlP(Xh?"Router Initializer":"");var ef=F(9260),tf=F(4986),Vn=F(4976);function nf(){return(0,xr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ir.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function Rv(n,e){return n===e}var st,wi=F(2011),xv=(F(2644),F(3942)),me=F(5861),Ko=F(6881),rf=F(4859),Ou=F(1877),Yt=F(2090),HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ho={},Pv=Pv||{},Ct=HE||self;function Jm(){}function ey(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ty(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ny="closure_uid_"+(1e9*Math.random()>>>0),tT=0;function nT(n,e,t){return n.call.apply(n.bind,arguments)}function rT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ei(n,e,t){return(Ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nT:rT).apply(null,arguments)}function ry(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),p=2;p<arguments.length;p++)l[p-2]=arguments[p];return e.prototype[i].apply(r,l)}}function Ma(){this.s=this.s,this.o=this.o}Ma.prototype.s=!1,Ma.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Nv(n){Object.prototype.hasOwnProperty.call(n,ny)&&n[ny]||(n[ny]=++tT)}(this)},Ma.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ov(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function GE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ey(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Fi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Fi.prototype.h=function(){this.defaultPrevented=!0};var Ra=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",Jm,e),Ct.removeEventListener("test",Jm,e)}catch{}return n}();function sf(n){return/^[\s\xa0]*$/.test(n)}var qE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function kv(n,e){return n<e?-1:n>e?1:0}function rg(){var n=Ct.navigator;return n&&(n=n.userAgent)?n:""}function xa(n){return-1!=rg().indexOf(n)}function Fv(n){return Fv[" "](n),n}function WE(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Fv[" "]=Jm;var lf,n,Lv=xa("Opera"),af=xa("Trident")||xa("MSIE"),ZE=xa("Edge"),uf=ZE||af,ig=xa("Gecko")&&!(-1!=rg().toLowerCase().indexOf("webkit")&&!xa("Edge"))&&!(xa("Trident")||xa("MSIE"))&&!xa("Edge"),iy=-1!=rg().toLowerCase().indexOf("webkit")&&!xa("Edge");function sT(){var n=Ct.document;return n?n.documentMode:void 0}e:{var KE="",sy=(n=rg(),ig?/rv:([^\);]+)(\)|;)/.exec(n):ZE?/Edge\/([\d\.]+)/.exec(n):af?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):iy?/WebKit\/(\S+)/.exec(n):Lv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sy&&(KE=sy?sy[1]:""),af){var oy=sT();if(null!=oy&&oy>parseFloat(KE)){lf=String(oy);break e}}lf=KE}var YE={},ay=Ct.document&&af&&(sT()||parseInt(lf,10))||void 0;function Ql(n,e){if(Fi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ig){e:{try{Fv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:og[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ql.$.h.call(this)}}ii(Ql,Fi);var og={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ag="closure_listenable_"+(1e6*Math.random()|0),XE=0;function JE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++XE,this.fa=this.ia=!1}function uy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Vv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function cf(n){const e={};for(const t in n)e[t]=n[t];return e}const eI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oT(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<eI.length;a++)t=eI[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ly(n){this.src=n,this.g={},this.h=0}function Uv(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=zE(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(uy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Bv(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}ly.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Bv(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new JE(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var jv="closure_lm_"+(1e6*Math.random()|0),$v={};function tI(n,e,t,r,i){if(r&&r.once)return cy(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)tI(n,e[a],t,r,i);return null}return t=Gv(t),n&&n[ag]?n.O(e,t,ty(r)?!!r.capture:!!r,i):nI(n,e,t,!1,r,i)}function nI(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=ty(i)?!!i.capture:!!i,p=Hv(n);if(p||(n[jv]=p=new ly(n)),(t=p.add(e,t,r,l,a)).proxy)return t;if(r=function rI(){const e=aT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ra||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(sI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function cy(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)cy(n,e[a],t,r,i);return null}return t=Gv(t),n&&n[ag]?n.P(e,t,ty(r)?!!r.capture:!!r,i):nI(n,e,t,!0,r,i)}function iI(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)iI(n,e[a],t,r,i);else r=ty(r)?!!r.capture:!!r,t=Gv(t),n&&n[ag]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Bv(a=n.g[e],t,r,i))&&(uy(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Hv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Bv(e,t,r,i)),(t=-1<n?e[n]:null)&&ug(t))}function ug(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ag])Uv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(sI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Hv(e))?(Uv(t,n),0==t.h&&(t.src=null,e[jv]=null)):uy(n)}}}function sI(n){return n in $v?$v[n]:$v[n]="on"+n}function aT(n,e){if(n.fa)n=!0;else{e=new Ql(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ug(n),n=t.call(r,e)}return n}function Hv(n){return(n=n[jv])instanceof ly?n:null}var zv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gv(n){return"function"==typeof n?n:(n[zv]||(n[zv]=function(e){return n.handleEvent(e)}),n[zv])}function si(){Ma.call(this),this.i=new ly(this),this.S=this,this.J=null}function Ii(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Fi(e,n);else if(e instanceof Fi)e.target=e.target||n;else{var i=e;oT(e=new Fi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=lg(l,r,!0,e)&&i}if(i=lg(l=e.g=n,r,!0,e)&&i,i=lg(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=lg(l=e.g=t[a],r,!1,e)&&i}function lg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var p=l.listener,y=l.la||l.src;l.ia&&Uv(n.i,l),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}ii(si,Ma),si.prototype[ag]=!0,si.prototype.removeEventListener=function(n,e,t,r){iI(this,n,e,t,r)},si.prototype.N=function(){if(si.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)uy(t[r]);delete n.g[e],n.h--}}this.J=null},si.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},si.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dy=Ct.JSON.stringify;function uT(){var n=Yo;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Wv,qv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new XR,n=>n.reset());class XR{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hy(n){Ct.setTimeout(()=>{throw n},0)}function oI(n,e){Wv||function Zv(){var n=Ct.Promise.resolve(void 0);Wv=function(){n.then(cg)}}(),Kv||(Wv(),Kv=!0),Yo.add(n,e)}var Kv=!1,Yo=new class QR{constructor(){this.h=this.g=null}add(e,t){const r=qv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function cg(){for(var n;n=uT();){try{n.h.call(n.g)}catch(t){hy(t)}var e=qv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Kv=!1}function Hr(n,e){si.call(this),this.h=n||1,this.g=e||Ct,this.j=Ei(this.qb,this),this.l=Date.now()}function ku(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function df(n,e,t){if("function"==typeof n)t&&(n=Ei(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ei(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ct.setTimeout(n,e||0)}function Fs(n){n.g=df(()=>{n.g=null,n.i&&(n.i=!1,Fs(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(Hr,si),(st=Hr.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ii(this,"tick"),this.ga&&(ku(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){Hr.$.N.call(this),ku(this),delete this.g};class Yv extends Ma{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Na(n){Ma.call(this),this.h=n,this.g={}}ii(Na,Ma);var fd=[];function pd(n,e,t,r){Array.isArray(t)||(t&&(fd[0]=t.toString()),t=fd);for(var i=0;i<t.length;i++){var a=tI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function gd(n){Vv(n.g,function(e,t){this.g.hasOwnProperty(t)&&ug(e)},n),n.g={}}function Fu(){this.g=!0}function Qo(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return dy(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Na.prototype.N=function(){Na.$.N.call(this),gd(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fu.prototype.Ea=function(){this.g=!1},Fu.prototype.info=function(){};var Xl={},Qv=null;function dg(){return Qv=Qv||new si}function Xv(n){Fi.call(this,Xl.Ta,n)}function gf(n){const e=dg();Ii(e,new Xv(e))}function Jv(n,e){Fi.call(this,Xl.STAT_EVENT,n),this.stat=e}function Li(n){const e=dg();Ii(e,new Jv(e,n))}function ew(n,e){Fi.call(this,Xl.Ua,n),this.size=e}function hg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},e)}Xl.Ta="serverreachability",ii(Xv,Fi),Xl.STAT_EVENT="statevent",ii(Jv,Fi),Xl.Ua="timingevent",ii(ew,Fi);var fy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nw(){}function py(){}nw.prototype.h=null;var yf,md={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iw(){Fi.call(this,"d")}function mf(){Fi.call(this,"c")}function _f(){}function fg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Na(this),this.P=sw,this.V=new Hr(n=uf?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new gy}function gy(){this.i=null,this.g="",this.h=!1}ii(iw,Fi),ii(mf,Fi),ii(_f,nw),_f.prototype.g=function(){return new XMLHttpRequest},_f.prototype.i=function(){return{}},yf=new _f;var sw=45e3,my={},pg={};function gg(n,e,t){n.L=1,n.v=wg(Oa(e)),n.s=t,n.S=!0,ow(n,null)}function ow(n,e){n.G=Date.now(),mg(n),n.A=Oa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),hI(t.i,"t",r),n.C=0,t=n.l.I,n.h=new gy,n.g=DI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Yv(Ei(n.Pa,n,n.g),n.O)),pd(n.U,n.g,"readystatechange",n.nb),e=n.I?cf(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),gf(),function hf(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",p=a.split("&"),y=0;y<p.length;y++){var E=p[y].split("=");if(1<E.length){var T=E[0];E=E[1];var R=T.split("_");l=2<=R.length&&"type"==R[1]?l+(T+"=")+E+"&":l+(T+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function aw(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function yy(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=uI(n,t),i==pg){4==e&&(n.o=4,Li(14),r=!1),Qo(n.j,n.m,null,"[Incomplete Response]");break}if(i==my){n.o=4,Li(15),Qo(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Qo(n.j,n.m,i,null),lw(n,i)}aw(n)&&i!=pg&&i!=my&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Dy(e),e.L=!0,Li(11))):(Qo(n.j,n.m,t,"[Invalid Chunked Response]"),Jl(n),vf(n))}function uI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pg:(t=Number(e.substring(t,r)),isNaN(t)?my:(r+=1)+t>e.length?pg:(e=e.substr(r,t),n.C=r+t,e))}function mg(n){n.Y=Date.now()+n.P,uw(n,n.P)}function uw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=hg(Ei(n.lb,n),e)}function yg(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function vf(n){0==n.l.H||n.J||Tw(n.l,n)}function Jl(n){yg(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,ku(n.V),gd(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function lw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||gw(t.h,n)))if(!n.K&&gw(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ag(t),Iy(t)}by(t),Li(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=hg(Ei(t.ib,t),6e3));if(1>=pw(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Id(t,11)}else if((n.K||t.g==n)&&Ag(t),!sf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.J=E[1],t.oa=E[2];const T=E[3];null!=T&&(t.qa=T,t.j.info("VER="+t.qa));const R=E[4];null!=R&&(t.Ga=R,t.j.info("SVER="+t.Ga));const k=E[5];null!=k&&"number"==typeof k&&0<k&&(t.K=r=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const $=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=r.h;a.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(wy(a,a.h),a.h=null))}if(r.F){const ee=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.Da=ee,Hn(r.G,r.F,ee))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=bI(r,r.I?r.oa:null,r.Y),l.K){mw(r.h,l);var p=l,y=r.K;y&&p.setTimeout(y),p.B&&(yg(p),mg(p)),r.g=l}else Dw(r);0<t.i.length&&Tg(t)}else"stop"!=E[0]&&"close"!=E[0]||Id(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Id(t,7):bf(t):"noop"!=E[0]&&t.l&&t.l.Aa(E),t.A=0)}gf()}catch{}}function _y(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ey(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function cT(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ey(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function lT(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ey(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(st=fg.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const e=this.M;e&&3==Lu(n)?e.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const T=Lu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||uf||this.g&&(this.h.h||this.g.ja()||_w(this.g)))){this.J||4!=T||7==e||gf(),yg(this);var t=this.g.da();this.aa=t;t:if(aw(this)){var r=_w(this.g);n="";var i=r.length,a=4==Lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),vf(this);var l="";break t}this.h.i=new Ct.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function ff(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sf(p)){var E=p;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Li(12),Jl(this),vf(this);break e}Qo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lw(this,t)}this.S?(yy(this,T,l),uf&&this.i&&3==T&&(pd(this.U,this.V,"tick",this.mb),this.V.start())):(Qo(this.j,this.m,l,null),lw(this,l)),4==T&&Jl(this),this.i&&!this.J&&(4==T?Tw(this.l,this):(this.i=!1,mg(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Li(12)):(this.o=0,Li(13)),Jl(this),vf(this)}}}catch{}},st.mb=function(){if(this.g){var n=Lu(this.g),e=this.g.ja();this.C<e.length&&(yg(this),yy(this,n,e),this.i&&4!=n&&mg(this))}},st.cancel=function(){this.J=!0,Jl(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function pf(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(gf(),Li(17)),Jl(this),this.o=2,vf(this)):uw(this,this.Y-n)};var vy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ec){this.h=void 0!==e?e:n.h,_g(this,n.j),this.s=n.s,this.g=n.g,vg(this,n.m),this.l=n.l,e=n.i;var t=new _d;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),cw(this,t),this.o=n.o}else n&&(t=String(n).match(vy))?(this.h=!!e,_g(this,t[1]||"",!0),this.s=tc(t[2]||""),this.g=tc(t[3]||"",!0),vg(this,t[4]),this.l=tc(t[5]||"",!0),cw(this,t[6]||"",!0),this.o=tc(t[7]||"")):(this.h=!!e,this.i=new _d(null,this.h))}function Oa(n){return new ec(n)}function _g(n,e,t){n.j=t?tc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function vg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function cw(n,e,t){e instanceof _d?(n.i=e,function pT(n,e){e&&!n.j&&(vd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(fT(this,r),hI(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fo(e,hw)),n.i=new _d(e,n.h))}function Hn(n,e,t){n.i.set(e,t)}function wg(n){return Hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fo(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ec.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fo(e,cI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fo(e,cI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fo(t,"/"==t.charAt(0)?yd:dw,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fo(t,hT)),n.join("")};var cI=/[#\/\?@]/g,dw=/[#\?:]/g,yd=/[#\?]/g,hw=/[#\?@]/g,hT=/#/g;function _d(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vd(n){n.g||(n.g=new Map,n.h=0,n.i&&function lI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fT(n,e){vd(n),e=wd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function dI(n,e){return vd(n),e=wd(n,e),n.g.has(e)}function hI(n,e,t){fT(n,e),0<t.length&&(n.i=null,n.g.set(wd(n,e),Ov(t)),n.h+=t.length)}function wd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fw(n){this.l=n||gT,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ka&&Ct.g.Ka()&&Ct.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=_d.prototype).add=function(n,e){vd(this),this.i=null,n=wd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},st.forEach=function(n,e){vd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},st.sa=function(){vd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},st.Z=function(n){vd(this);let e=[];if("string"==typeof n)dI(this,n)&&(e=e.concat(this.g.get(wd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},st.set=function(n,e){return vd(this),this.i=null,dI(this,n=wd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},st.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var gT=10;function fI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function pw(n){return n.h?1:n.g?n.g.size:0}function gw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wy(n,e){n.g?n.g.add(e):n.h=e}function mw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ed(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Ov(n.i)}function yw(){}function mT(){this.g=new yw}function pI(n,e,t){const r=t||"";try{_y(n,function(i,a){let l=i;ty(i)&&(l=dy(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Eg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ey(n){this.l=n.fc||null,this.j=n.ob||!1}function Ig(n,e){si.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fw.prototype.cancel=function(){if(this.i=Ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yw.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)},yw.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)},ii(Ey,nw),Ey.prototype.g=function(){return new Ig(this.l,this.j)},Ey.prototype.i=function(n){return function(){return n}}({}),ii(Ig,si);var bg=0;function Xo(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Dg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Cg(n)}function Cg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=Ig.prototype).open=function(n,e){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Cg(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ct).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dg(this)),this.readyState=bg},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Cg(this)),this.g&&(this.readyState=3,Cg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ct.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xo(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Dg(this):Cg(this),3==this.readyState&&Xo(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,Dg(this))},st.Ya=function(n){this.g&&(this.response=n,Dg(this))},st.ka=function(){this.g&&Dg(this)},st.setRequestHeader=function(n,e){this.v.append(n,e)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ka=Ct.JSON.parse;function _n(n){si.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=po,this.L=this.M=!1}ii(_n,si);var po="",gI=/^https?$/i,mI=["POST","PUT"];function yI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_I(n),wf(n)}function _I(n){n.F||(n.F=!0,Ii(n,"complete"),Ii(n,"error"))}function vI(n){if(n.h&&typeof Pv<"u"&&(!n.C[1]||4!=Lu(n)||2!=n.da()))if(n.v&&4==Lu(n))df(n.La,0,n);else if(Ii(n,"readystatechange"),4==Lu(n)){n.h=!1;try{const p=n.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.I).match(vy)[1]||null;if(!i&&Ct.self&&Ct.self.location){var a=Ct.self.location.protocol;i=a.substr(0,a.length-1)}r=!gI.test(i?i.toLowerCase():"")}t=r}if(t)Ii(n,"complete"),Ii(n,"success");else{n.m=6;try{var l=2<Lu(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",_I(n)}}finally{wf(n)}}}function wf(n,e){if(n.g){Ef(n);const t=n.g,r=n.C[0]?Jm:null;n.g=null,n.C=null,e||Ii(n,"ready");try{t.onreadystatechange=r}catch{}}}function Ef(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function Lu(n){return n.g?n.g.readyState:0}function _w(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case po:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wI(n){let e="";return Vv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function vw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=wI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hn(n,e,t))}function If(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ww(n){this.Ga=0,this.i=[],this.j=new Fu,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=If("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=If("baseRetryDelayMs",5e3,n),this.hb=If("retryDelaySeedMs",1e4,n),this.eb=If("forwardChannelMaxRetries",2,n),this.xa=If("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new fw(n&&n.concurrentRequestLimit),this.Ja=new mT,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function bf(n){if(Ew(n),3==n.H){var e=n.W++,t=Oa(n.G);Hn(t,"SID",n.J),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),Df(n,t),(e=new fg(n,n.j,e,void 0)).L=2,e.v=wg(Oa(t)),t=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(t=Ct.navigator.sendBeacon(e.v.toString(),"")),!t&&Ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=DI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),mg(e)}II(n)}function Iy(n){n.g&&(Dy(n),n.g.cancel(),n.g=null)}function Ew(n){Iy(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),Ag(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function Tg(n){fI(n.h)||n.m||(n.m=!0,oI(n.Na,n),n.C=0)}function Sg(n,e){var t;t=e?e.m:n.W++;const r=Oa(n.G);Hn(r,"SID",n.J),Hn(r,"RID",t),Hn(r,"AID",n.V),Df(n,r),n.o&&n.s&&vw(r,n.o,n.s),t=new fg(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=bw(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),wy(n.h,t),gg(t,r,e)}function Df(n,e){n.ma&&Vv(n.ma,function(t,r){Hn(e,r,t)}),n.l&&_y({},function(t,r){Hn(e,r,t)})}function bw(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ei(n.l.Va,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let p=!0;for(let y=0;y<t;y++){let E=i[y].h;const T=i[y].g;if(E-=a,0>E)a=Math.max(0,i[y].h-100),p=!1;else try{pI(T,l,"req"+E+"_")}catch{r&&r(T)}}if(p){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function Dw(n){n.g||n.u||(n.ba=1,oI(n.Ma,n),n.A=0)}function by(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=hg(Ei(n.Ma,n),EI(n,n.A)),n.A++,0))}function Dy(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function Cw(n){n.g=new fg(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Oa(n.wa);Hn(e,"RID","rpc"),Hn(e,"SID",n.J),Hn(e,"CI",n.M?"0":"1"),Hn(e,"AID",n.V),Hn(e,"TYPE","xmlhttp"),Df(n,e),n.o&&n.s&&vw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=wg(Oa(e)),t.s=null,t.S=!0,ow(t,n)}function Ag(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function Tw(n,e){var t=null;if(n.g==e){Ag(n),Dy(n),n.g=null;var r=2}else{if(!gw(n.h,e))return;t=e.F,mw(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ii(r=dg(),new ew(r,t)),Tg(n)}else Dw(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function Iw(n,e){return!(pw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=hg(Ei(n.Na,n,e),EI(n,n.C)),n.C++,0)))}(n,e)||2==r&&by(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Id(n,5);break;case 4:Id(n,10);break;case 3:Id(n,6);break;default:Id(n,2)}}function EI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Id(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ei(n.pb,n);t||(t=new ec("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||_g(t,"https"),wg(t)),function yT(n,e){const t=new Fu;if(Ct.Image){const r=new Image;r.onload=ry(Eg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ry(Eg,t,r,"TestLoadImage: error",!1,e),r.onabort=ry(Eg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ry(Eg,t,r,"TestLoadImage: timeout",!1,e),Ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Li(2);n.H=0,n.l&&n.l.za(e),II(n),Ew(n)}function II(n){if(n.H=0,n.pa=[],n.l){const e=Ed(n.h);(0!=e.length||0!=n.i.length)&&(GE(n.pa,e),GE(n.pa,n.i),n.h.i.length=0,Ov(n.i),n.i.length=0),n.l.ya()}}function bI(n,e,t){var r=t instanceof ec?Oa(t):new ec(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),vg(r,r.m);else{var i=Ct.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new ec(null,void 0);r&&_g(a,r),e&&(a.g=e),i&&vg(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Hn(r,t,e),Hn(r,"VER",n.qa),Df(n,r),r}function DI(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _n(t&&n.Ha&&!n.va?new Ey({ob:!0}):n.va)).Oa(n.I),e}function CI(){}function Cy(){if(af&&!(10<=Number(ay)))throw Error("Environmental error: no available transport.")}function Ls(n,e){si.call(this),this.g=new ww(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!sf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cf(this)}function TI(n){iw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function SI(){mf.call(this),this.status=1}function Cf(n){this.g=n}function Jo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Sn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(st=_n.prototype).Oa=function(n){this.M=n},st.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yf.g(),this.C=function rw(n){return n.h||(n.h=n.i())}(this.u?this.u:yf),this.g.onreadystatechange=Ei(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void yI(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ct.FormData&&n instanceof Ct.FormData,!(0<=zE(mI,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ef(this),0<this.B&&((this.L=function _T(n){return af&&function QE(){return WE(YE,9,function(){let n=0;const e=qE(String(lf)).split("."),t=qE("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=kv(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||kv(0==i[2].length,0==a[2].length)||kv(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ei(this.ua,this)):this.A=df(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){yI(this,a)}},st.ua=function(){typeof Pv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ii(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ii(this,"complete"),Ii(this,"abort"),wf(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wf(this,!0)),_n.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?vI(this):this.kb())},st.kb=function(){vI(this)},st.da=function(){try{return 2<Lu(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ka(e)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=ww.prototype).qa=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new fg(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=cf(a),oT(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bw(this,i,e),Hn(t=Oa(this.G),"RID",n),Hn(t,"CVER",22),this.F&&Hn(t,"X-HTTP-Session-Id",this.F),Df(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(wI(a)))+"&"+e:this.o&&vw(t,this.o,a)),wy(this.h,i),this.bb&&Hn(t,"TYPE","init"),this.P?(Hn(t,"$req",e),Hn(t,"SID","null"),i.ba=!0,gg(i,t,null)):gg(i,t,e),this.H=2}}else 3==this.H&&(n?Sg(this,n):0==this.i.length||fI(this.h)||Sg(this))},st.Ma=function(){if(this.u=null,Cw(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=hg(Ei(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Li(10),Iy(this),Cw(this))},st.ib=function(){null!=this.v&&(this.v=null,Iy(this),by(this),Li(19))},st.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Li(2)):(this.j.info("Failed to ping google.com"),Li(1))},(st=CI.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.Va=function(){},Cy.prototype.g=function(n,e){return new Ls(n,e)},ii(Ls,si),Ls.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Li(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=bI(n,null,n.Y),Tg(n)},Ls.prototype.close=function(){bf(this.g)},Ls.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dy(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Tg(e)},Ls.prototype.N=function(){this.g.l=null,delete this.j,bf(this.g),delete this.g,Ls.$.N.call(this)},ii(TI,iw),ii(SI,mf),ii(Cf,CI),Cf.prototype.Ba=function(){Ii(this.g,"a")},Cf.prototype.Aa=function(n){Ii(this.g,new TI(n))},Cf.prototype.za=function(n){Ii(this.g,new SI)},Cf.prototype.ya=function(){Ii(this.g,"b")},ii(Jo,function vT(){this.blockSize=-1}),Jo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)Sw(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){Sw(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){Sw(this,r),i=0;break}}this.h=i,this.i+=e},Jo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var wT={};function Aw(n){return-128<=n&&128>n?WE(wT,n,function(e){return new Sn([0|e],0>e?-1:0)}):new Sn([0|n],0>n?-1:0)}function Fa(n){if(isNaN(n)||!isFinite(n))return bd;if(0>n)return oi(Fa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Ty;return new Sn(e,0)}var Ty=4294967296,bd=Aw(0),Sy=Aw(1),Rw=Aw(16777216);function La(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Vs(n){return-1==n.h}function oi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Sn(t,~n.h).add(Sy)}function Mg(n,e){return n.add(oi(e))}function Rg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Tf(n,e){this.g=n,this.h=e}function Va(n,e){if(La(e))throw Error("division by zero");if(La(n))return new Tf(bd,bd);if(Vs(n))return e=Va(oi(n),e),new Tf(oi(e.g),oi(e.h));if(Vs(e))return e=Va(n,oi(e)),new Tf(oi(e.g),e.h);if(30<n.g.length){if(Vs(n)||Vs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Sy,r=e;0>=r.X(n);)t=AI(t),r=AI(r);var i=Sf(t,1),a=Sf(r,1);for(r=Sf(r,2),t=Sf(t,2);!La(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Sf(r,1),t=Sf(t,1)}return e=Mg(n,i.R(e)),new Tf(i,e)}for(i=bd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Fa(t)).R(e);Vs(l)||0<l.X(n);)l=(a=Fa(t-=r)).R(e);La(a)&&(a=Sy),i=i.add(a),n=Mg(n,l)}return new Tf(i,n)}function AI(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Sn(t,n.h)}function Sf(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Sn(i,n.h)}(st=Sn.prototype).ea=function(){if(Vs(this))return-oi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Ty+r)*e,e*=Ty}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(La(this))return"0";if(Vs(this))return"-"+oi(this).toString(n);for(var e=Fa(Math.pow(n,6)),t=this,r="";;){var i=Va(t,e).g,a=((0<(t=Mg(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(La(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return Vs(n=Mg(this,n))?-1:La(n)?0:1},st.abs=function(){return Vs(this)?oi(this):this},st.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new Sn(t,-2147483648&t[t.length-1]?-1:0)},st.R=function(n){if(La(this)||La(n))return bd;if(Vs(this))return Vs(n)?oi(this).R(oi(n)):oi(oi(this).R(n));if(Vs(n))return oi(this.R(oi(n)));if(0>this.X(Rw)&&0>n.X(Rw))return Fa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),p=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,Rg(t,2*r+2*i),t[2*r+2*i+1]+=a*y,Rg(t,2*r+2*i+1),t[2*r+2*i+1]+=l*p,Rg(t,2*r+2*i+1),t[2*r+2*i+2]+=a*p,Rg(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Sn(t,0)},st.gb=function(n){return Va(this,n).h},st.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Sn(t,this.h&n.h)},st.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Sn(t,this.h|n.h)},st.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Sn(t,this.h^n.h)},Cy.prototype.createWebChannel=Cy.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,fy.NO_ERROR=0,fy.TIMEOUT=8,fy.HTTP_ERROR=6,tw.COMPLETE="complete",py.EventType=md,md.OPEN="a",md.CLOSE="b",md.ERROR="c",md.MESSAGE="d",si.prototype.listen=si.prototype.O,_n.prototype.listenOnce=_n.prototype.P,_n.prototype.getLastError=_n.prototype.Sa,_n.prototype.getLastErrorCode=_n.prototype.Ia,_n.prototype.getStatus=_n.prototype.da,_n.prototype.getResponseJson=_n.prototype.Wa,_n.prototype.getResponseText=_n.prototype.ja,_n.prototype.send=_n.prototype.ha,_n.prototype.setWithCredentials=_n.prototype.Oa,Jo.prototype.digest=Jo.prototype.l,Jo.prototype.reset=Jo.prototype.reset,Jo.prototype.update=Jo.prototype.j,Sn.prototype.add=Sn.prototype.add,Sn.prototype.multiply=Sn.prototype.R,Sn.prototype.modulo=Sn.prototype.gb,Sn.prototype.compare=Sn.prototype.X,Sn.prototype.toNumber=Sn.prototype.ea,Sn.prototype.toString=Sn.prototype.toString,Sn.prototype.getBits=Sn.prototype.D,Sn.fromNumber=Fa,Sn.fromString=function Mw(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return oi(Mw(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Fa(Math.pow(e,8)),r=bd,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=Fa(Math.pow(e,a)),r=r.R(a).add(Fa(l))):r=(r=r.R(t)).add(Fa(l))}return r};var Af=ho.createWebChannelTransport=function(){return new Cy},JR=ho.getStatEventTarget=function(){return dg()},xg=ho.ErrorCode=fy,ex=ho.EventType=tw,MI=ho.Event=Xl,xw=ho.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tx=ho.FetchXmlHttpFactory=Ey,St=ho.WebChannel=py,ET=ho.XhrIo=_n,IT=ho.Md5=Jo,Mf=ho.Integer=Sn;const Dd="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let Vu="9.22.0";const ea=new Ou.Yd("@firebase/firestore");function Qn(){return ea.logLevel}function Fe(n,...e){if(ea.logLevel<=Ou.in.DEBUG){const t=e.map(Ay);ea.debug(`Firestore (${Vu}): ${n}`,...t)}}function pr(n,...e){if(ea.logLevel<=Ou.in.ERROR){const t=e.map(Ay);ea.error(`Firestore (${Vu}): ${n}`,...t)}}function go(n,...e){if(ea.logLevel<=Ou.in.WARN){const t=e.map(Ay);ea.warn(`Firestore (${Vu}): ${n}`,...t)}}function Ay(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${Vu}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function wt(n,e){n||ut()}function et(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class DT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class My{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let l=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new sr,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const E=l;e.enqueueRetryable((0,me.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},y=E=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new sr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt("string"==typeof r.accessToken),new xI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new ai(e)}}class PI{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class NI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new PI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt("string"==typeof t.token),this.T=t.token,new Pw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pg(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class OI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Pg(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function Rf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Nw(n){return n+"\0"}class zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new zn(0,0))}static max(){return new Et(new zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ng{constructor(e,t,r){void 0===t?t=0:t>e.length&&ut(),void 0===r?r=e.length-t:r>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ng.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ng?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends Ng{construct(e,t,r){return new hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const TT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Ng{construct(e,t,r){return new gr(e,t,r)}static isValidIdentifier(e){return TT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(l=!l,i++):"."!==p||l?(r+=p,i++):(a(),i++)}if(a(),l)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(t)}static emptyPath(){return new gr([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(hn.fromString(e))}static fromName(e){return new Je(hn.fromString(e).popFirst(5))}static empty(){return new Je(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new hn(e.slice()))}}class Ow{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function kI(n){return n.fields.find(e=>2===e.kind)}function xf(n){return n.fields.filter(e=>2!==e.kind)}Ow.UNKNOWN_ID=-1;class Cd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Og{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Og(0,Us.min())}}function kw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Et.fromTimestamp(1e9===r?new zn(t+1,0):new zn(t,r));return new Us(i,Je.empty(),e)}function Pf(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Us(Et.min(),Je.empty(),-1)}static max(){return new Us(Et.max(),Je.empty(),-1)}}function Fw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Td(n){return Lw.apply(this,arguments)}function Lw(){return Lw=(0,me.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==LI)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Lw.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let i=0,a=0,l=!1;e.forEach(p=>{++i,p.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(i=>i?ne.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,i)=>{const a=e.length,l=new Array(a);let p=0;for(let y=0;y<a;y++){const E=y;t(e[E]).next(T=>{l[E]=T,++p,p===a&&r(l)},T=>i(T))}})}static doWhile(e,t){return new ne((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class xy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new sr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Fg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Py(r.target.error);this.v.reject(new Fg(e,i))}}static open(e,t,r,i){try{return new xy(t,e.transaction(i,r))}catch(a){throw new Fg(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new AT(t)}}class ta{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===ta.S((0,Yt.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),nc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Yt.hl)())return!1;if(ta.C())return!0;const e=(0,Yt.z$)(),t=ta.S(e),r=0<t&&t<10,i=ta.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,me.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new Fg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const p=l.target.error;i("VersionError"===p.name?new Ce(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ce(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Fg(e,p))},a.onupgradeneeded=l=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,me.Z)(function*(){const l="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.$(e);const y=xy.open(a.db,e,l?"readonly":"readwrite",r),E=i(y).next(T=>(y.P(),T)).catch(T=>(y.abort(T),ne.reject(T))).toPromise();return E.catch(()=>{}),yield y.R,E}catch(y){const E=y,T="FirebaseError"!==E.name&&p<3;if(Fe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),a.close(),!T)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kg{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return nc(this.L.delete())}}class Fg extends Ce{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Uu(n){return"IndexedDbTransactionError"===n.name}class AT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nc(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),nc(this.store.add(e))}get(e){return nc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),nc(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),nc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,p)=>{a.push(p)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ne((a,l)=>{i.onerror=p=>{l(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ne((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,p)=>p.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ne((r,i)=>{t.onerror=a=>{const l=Py(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(p=>{p?l.continue():r()}):r()}})}W(e,t){const r=[];return new ne((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const p=l.target.result;if(!p)return void i();const y=new kg(p),E=t(p.primaryKey,p.value,y);if(E instanceof ne){const T=E.catch(R=>(y.done(),ne.reject(R)));r.push(T)}y.isDone?i():null===y.K?p.continue():p.continue(y.K)}}).next(()=>ne.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nc(n){return new ne((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Py(r.target.error);t(i)}})}let UI=!1;function Py(n){const e=ta.S((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UI||(UI=!0,setTimeout(()=>{throw r},0)),r}}return n}class MT{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,me.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Uu(r)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Td(r)}yield t.et(6e4)}))}}class Vw{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return ne.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Fe("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(p=>{i-=p,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(p=>(Fe("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=Pf(a);Fw(l,r)>0&&(r=l)}),new Us(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Bs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Nf(n){return null==n}function Of(n){return 0===n&&1/n==-1/0}function BI(n){return"number"==typeof n&&Number.isInteger(n)&&!Of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Vi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ny(e)),e=RT(n.get(t),e);return Ny(e)}function RT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Ny(n){return n+"\x01\x01"}function Ua(n){const e=n.length;if(wt(e>=2),2===e)return wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&ut(),n.charAt(l+1)){case"\x01":const p=n.substring(a,l);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:ut()}a=l+2}return new hn(r)}const Uw=["userId","batchId"];function Oy(n,e){return[n,Vi(e)]}function jI(n,e,t){return[n,Vi(e),t]}const xT={},PT=["prefixPath","collectionGroup","readTime","documentId"],NT=["prefixPath","collectionGroup","documentId"],OT=["collectionGroup","readTime","prefixPath","documentId"],kT=["canonicalId","targetId"],FT=["targetId","path"],$I=["path","targetId"],HI=["collectionId","parent"],LT=["indexId","uid"],VT=["uid","sequenceNumber"],zI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],UT=["indexId","uid","orderedDocumentKey"],BT=["userId","collectionPath","documentId"],jT=["userId","collectionPath","largestBatchId"],Bw=["userId","collectionGroup","largestBatchId"],ky=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],GI=[...ky,"documentOverlays"],Fy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qI=Fy,$T=[...qI,"indexConfiguration","indexState","indexEntries"];class Lg extends VI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ui(n,e){const t=et(n);return ta.M(t.ht,e)}function jw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $w(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Un{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new Un(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hw(this.root,e,this.comparator,!0)}}class Hw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??li.RED,this.left=i??li.EMPTY,this.right=a??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new li(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return li.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,r,i){return this}insert(n,e,t){return new li(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new WI(this.data.getIterator())}getIteratorFrom(e){return new WI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new On(this.comparator);return t.data=e,t}}class WI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rc(n){return n.hasNext()?n.getNext():void 0}class ps{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new ps([])}unionWith(e){let t=new On(gr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new zw("Invalid base64 string: "+i):i}}(e);return new Pr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const ZI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bu(n){if(wt(!!n),"string"==typeof n){let e=0;const t=ZI.exec(n);if(wt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:or(n.seconds),nanos:or(n.nanos)}}function or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ju(n){return"string"==typeof n?Pr.fromBase64String(n):Pr.fromUint8Array(n)}function Ly(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Vy(n){const e=n.mapValue.fields.__previous_value__;return Ly(e)?Vy(e):e}function Vg(n){const e=Bu(n.mapValue.fields.__local_write_time__.timestampValue);return new zn(e.seconds,e.nanos)}class KI{constructor(e,t,r,i,a,l,p,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=E}}class Sd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}const $u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uy={nullValue:"NULL_VALUE"};function ic(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ly(n)?4:Ww(n)?9007199254740991:10:ut()}function Hu(n,e){if(n===e)return!0;const t=ic(n);if(t!==ic(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vg(n).isEqual(Vg(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Bu(r.timestampValue),l=Bu(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ju(n.bytesValue).isEqual(ju(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return or(r.geoPointValue.latitude)===or(i.geoPointValue.latitude)&&or(r.geoPointValue.longitude)===or(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return or(r.integerValue)===or(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=or(r.doubleValue),l=or(i.doubleValue);return a===l?Of(a)===Of(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Rf(n.arrayValue.values||[],e.arrayValue.values||[],Hu);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(jw(a)!==jw(l))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===l[p]||!Hu(a[p],l[p])))return!1;return!0}(n,e);default:return ut()}var i}function Ug(n,e){return void 0!==(n.values||[]).find(t=>Hu(t,e))}function sc(n,e){if(n===e)return 0;const t=ic(n),r=ic(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=or(i.integerValue||i.doubleValue),p=or(a.integerValue||a.doubleValue);return l<p?-1:l>p?1:l===p?0:isNaN(l)?isNaN(p)?0:-1:1}(n,e);case 3:return YI(n.timestampValue,e.timestampValue);case 4:return YI(Vg(n),Vg(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(i,a){const l=ju(i),p=ju(a);return l.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),p=a.split("/");for(let y=0;y<l.length&&y<p.length;y++){const E=Gt(l[y],p[y]);if(0!==E)return E}return Gt(l.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Gt(or(i.latitude),or(a.latitude));return 0!==l?l:Gt(or(i.longitude),or(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],p=a.values||[];for(let y=0;y<l.length&&y<p.length;++y){const E=sc(l[y],p[y]);if(E)return E}return Gt(l.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===$u.mapValue&&a===$u.mapValue)return 0;if(i===$u.mapValue)return 1;if(a===$u.mapValue)return-1;const l=i.fields||{},p=Object.keys(l),y=a.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=Gt(p[T],E[T]);if(0!==R)return R;const k=sc(l[p[T]],y[E[T]]);if(0!==k)return k}return Gt(p.length,E.length)}(n.mapValue,e.mapValue);default:throw ut()}}function YI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Bu(n),r=Bu(e),i=Gt(t.seconds,r.seconds);return 0!==i?i:Gt(t.nanos,r.nanos)}function Ad(n){return By(n)}function By(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Bu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ju(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=By(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const p of i)l?l=!1:a+=",",a+=`${p}:${By(r.fields[p])}`;return a+"}"}(n.mapValue):ut();var e}function Md(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qw(n){return!!n&&"integerValue"in n}function Bg(n){return!!n&&"arrayValue"in n}function QI(n){return!!n&&"nullValue"in n}function XI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $y(n){return!!n&&"mapValue"in n}function zu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=zu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ww(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function JI(n){return"nullValue"in n?Uy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Md(Sd.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function eb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Md(Sd.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$u:ut()}function Zw(n,e){const t=sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Kw(n,e){const t=sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$y(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(t)}setAll(e){let t=gr.emptyPath(),r={},i=[];e.forEach((l,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}l?r[p.lastSegment()]=zu(l):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());$y(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$y(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){js(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ci(zu(this.value))}}function tb(n){const e=[];return js(n.fields,(t,r)=>{const i=new gr([t]);if($y(r)){const a=tb(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new ps(e)}class Xn{constructor(e,t,r,i,a,l,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=p}static newInvalidDocument(e){return new Xn(e,0,Et.min(),Et.min(),Et.min(),ci.empty(),0)}static newFoundDocument(e,t,r,i){return new Xn(e,1,t,Et.min(),r,i,0)}static newNoDocument(e,t){return new Xn(e,2,t,Et.min(),Et.min(),ci.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Et.min(),Et.min(),ci.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gu{constructor(e,t){this.position=e,this.inclusive=t}}function Yw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?Je.comparator(Je.fromName(l.referenceValue),t.key):sc(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hu(n.position[t],e.position[t]))return!1;return!0}class kf{constructor(e,t="asc"){this.field=e,this.dir=t}}function HT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ff{}class un extends Ff{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Hy(e,t,r):"array-contains"===t?new sb(e,r):"in"===t?new zy(e,r):"not-in"===t?new ob(e,r):"array-contains-any"===t?new e0(e,r):new un(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new zT(e,r):new GT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sc(t,this.value)):null!==t&&ic(this.value)===ic(t)&&this.matchesComparison(sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends Ff{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new In(e,t)}matches(e){return es(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function es(n){return"and"===n.op}function Qw(n){return"or"===n.op}function jg(n){return Lf(n)&&es(n)}function Lf(n){for(const e of n.filters)if(e instanceof In)return!1;return!0}function Xw(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+Ad(n.value);if(jg(n))return n.filters.map(e=>Xw(e)).join(",");{const e=n.filters.map(t=>Xw(t)).join(",");return`${n.op}(${e})`}}function rb(n,e){return n instanceof un?(t=n,(r=e)instanceof un&&t.op===r.op&&t.field.isEqual(r.field)&&Hu(t.value,r.value)):n instanceof In?function(t,r){return r instanceof In&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&rb(a,r.filters[l]),!0)}(n,e):void ut();var t,r}function ib(n,e){const t=n.filters.concat(e);return In.create(t,n.op)}function $g(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${Ad(e.value)}`:n instanceof In?function(e){return e.op.toString()+" {"+e.getFilters().map($g).join(" ,")+"}"}(n):"Filter";var e}class Hy extends un{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class zT extends un{constructor(e,t){super(e,"in",t),this.keys=Jw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GT extends un{constructor(e,t){super(e,"not-in",t),this.keys=Jw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class sb extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bg(t)&&Ug(t.arrayValue,this.value)}}class zy extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ug(this.value.arrayValue,t)}}class ob extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ug(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ug(this.value.arrayValue,t)}}class e0 extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ug(this.value.arrayValue,r))}}class t0{constructor(e,t=null,r=[],i=[],a=null,l=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=p,this.dt=null}}function Gy(n,e=null,t=[],r=[],i=null,a=null,l=null){return new t0(n,e,t,r,i,a,l)}function qu(n){const e=et(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Xw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ad(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ad(r)).join(",")),e.dt=t}return e.dt}function Rd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nb(n.startAt,e.startAt)&&nb(n.endAt,e.endAt)}function qy(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Wy(n,e){return n.filters.filter(t=>t instanceof un&&t.field.isEqual(e))}function ab(n,e,t){let r=Uy,i=!0;for(const a of Wy(n,e)){let l=Uy,p=!0;switch(a.op){case"<":case"<=":l=JI(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,p=!1;break;case"!=":case"not-in":l=Uy}Zw({value:r,inclusive:i},{value:l,inclusive:p})<0&&(r=l,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];Zw({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function ub(n,e,t){let r=$u,i=!0;for(const a of Wy(n,e)){let l=$u,p=!0;switch(a.op){case">=":case">":l=eb(a.value),p=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,p=!1;break;case"!=":case"not-in":l=$u}Kw({value:r,inclusive:i},{value:l,inclusive:p})>0&&(r=l,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];Kw({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Ba{constructor(e,t=null,r=[],i=[],a=null,l="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=p,this.endAt=y,this.wt=null,this._t=null}}function Zy(n,e,t,r,i,a,l,p){return new Ba(n,e,t,r,i,a,l,p)}function xd(n){return new Ba(n)}function lb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ky(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Hg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function n0(n){return null!==n.collectionGroup}function oc(n){const e=et(n);if(null===e.wt){e.wt=[];const t=Hg(e),r=Ky(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new kf(t)),e.wt.push(new kf(gr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new kf(gr.keyField(),a))}}}return e.wt}function Ui(n){const e=et(n);if(!e._t)if("F"===e.limitType)e._t=Gy(e.path,e.collectionGroup,oc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of oc(e))t.push(new kf(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Gu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gu(e.startAt.position,e.startAt.inclusive):null;e._t=Gy(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function r0(n,e){e.getFirstInequalityField(),Hg(n);const t=n.filters.concat([e]);return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zg(n,e,t){return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gg(n,e){return Rd(Ui(n),Ui(e))&&n.limitType===e.limitType}function Bi(n){return`${qu(Ui(n))}|lt:${n.limitType}`}function ac(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>$g(r)).join(", ")}]`),Nf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ad(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ad(r)).join(",")),`Target(${t})`}(Ui(n))}; limitType=${n.limitType})`}function qg(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of oc(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const p=Yw(i,a,l);return i.inclusive?p<=0:p<0}(t.startAt,oc(t),r)||t.endAt&&!function(i,a,l){const p=Yw(i,a,l);return i.inclusive?p>=0:p>0}(t.endAt,oc(t),r)));var t,r}function cb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qT(n){return(e,t)=>{let r=!1;for(const i of oc(n)){const a=rx(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function rx(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(i,a,l){const p=a.data.field(i),y=l.data.field(i);return null!==p&&null!==y?sc(p,y):ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return $w(this.inner)}size(){return this.innerSize}}const s0=new Un(Je.comparator);function di(){return s0}const db=new Un(Je.comparator);function Pd(...n){let e=db;for(const t of n)e=e.insert(t.key,t);return e}function hb(n){let e=db;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function na(){return Wg()}function fb(){return Wg()}function Wg(){return new ja(n=>n.toString(),(n,e)=>n.isEqual(e))}const WT=new Un(Je.comparator),o0=new On(Je.comparator);function Qt(...n){let e=o0;for(const t of n)e=e.add(t);return e}const pb=new On(Gt);function Vf(){return pb}function Yy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function ZT(n){return{integerValue:""+n}}function a0(n,e){return BI(e)?ZT(e):Yy(n,e)}class Qy{constructor(){this._=void 0}}function gb(n,e,t){return n instanceof Nd?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ly(i)&&(i=Vy(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Wu?KT(n,e):n instanceof Od?YT(n,e):function(r,i){const a=mb(r,i),l=yb(a)+yb(r.gt);return qw(a)&&qw(r.gt)?ZT(l):Yy(r.serializer,l)}(n,e)}function Uf(n,e,t){return n instanceof Wu?KT(n,e):n instanceof Od?YT(n,e):t}function mb(n,e){return n instanceof Bf?qw(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Nd extends Qy{}class Wu extends Qy{constructor(e){super(),this.elements=e}}function KT(n,e){const t=_b(e);for(const r of n.elements)t.some(i=>Hu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Od extends Qy{constructor(e){super(),this.elements=e}}function YT(n,e){let t=_b(e);for(const r of n.elements)t=t.filter(i=>!Hu(i,r));return{arrayValue:{values:t}}}class Bf extends Qy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function yb(n){return or(n.integerValue||n.doubleValue)}function _b(n){return Bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jf{constructor(e,t){this.field=e,this.transform=t}}class QT{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Xy{}function wb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fd(n.key,Gn.none()):new kd(n.key,n.data,Gn.none());{const t=n.data,r=ci.empty();let i=new On(gr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new $a(n.key,r,new ps(i.toArray()),Gn.none())}}function Eb(n,e,t){n instanceof kd?function(r,i,a){const l=r.value.clone(),p=Db(r.fieldTransforms,i,a.transformResults);l.setAll(p),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof $a?function(r,i,a){if(!Zg(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Db(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(bb(r)),p.setAll(l),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Kg(n,e,t,r){return n instanceof kd?function(i,a,l,p){if(!Zg(i.precondition,a))return l;const y=i.value.clone(),E=XT(i.fieldTransforms,p,a);return y.setAll(E),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof $a?function(i,a,l,p){if(!Zg(i.precondition,a))return l;const y=XT(i.fieldTransforms,p,a),E=a.data;return E.setAll(bb(i)),E.setAll(y),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,Zg(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function Ib(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=mb(r.transform,i||null);null!=a&&(null===t&&(t=ci.empty()),t.set(r.field,a))}return t||null}function u0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Rf(t,r,(i,a)=>function vb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Wu&&r instanceof Wu||t instanceof Od&&r instanceof Od?Rf(t.elements,r.elements,Hu):t instanceof Bf&&r instanceof Bf?Hu(t.gt,r.gt):t instanceof Nd&&r instanceof Nd);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class kd extends Xy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $a extends Xy{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Db(n,e,t){const r=new Map;wt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,p=e.data.field(a.field);r.set(a.field,Uf(l,p,t[i]))}return r}function XT(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,gb(a,l,e))}return r}class Fd extends Xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb extends Xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Eb(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Kg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fb();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let p=this.applyToLocalView(l,a.mutatedFields);p=t.has(i.key)?null:p;const y=wb(l,p);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Rf(this.mutations,e.mutations,(t,r)=>u0(t,r))&&Rf(this.baseMutations,e.baseMutations,(t,r)=>u0(t,r))}}class Sb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){wt(e.mutations.length===r.length);let i=WT;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Sb(e,t,r,i)}}class Ab{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sx{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gr,mn;function Yg(n){switch(n){default:return ut();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function JT(n){if(void 0===n)return pr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Gr.OK:return le.OK;case Gr.CANCELLED:return le.CANCELLED;case Gr.UNKNOWN:return le.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return le.INTERNAL;case Gr.UNAVAILABLE:return le.UNAVAILABLE;case Gr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Gr.NOT_FOUND:return le.NOT_FOUND;case Gr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Gr.ABORTED:return le.ABORTED;case Gr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Gr.DATA_LOSS:return le.DATA_LOSS;default:return ut()}}(mn=Gr||(Gr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class Jy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ld}static getOrCreateInstance(){return null===Ld&&(Ld=new Jy),Ld}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ld=null;function l0(){return new TextEncoder}const Mb=new Mf([4294967295,4294967295],0);function eS(n){const e=l0().encode(n),t=new IT;return t.update(e),new Uint8Array(t.digest())}function e_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Mf([t,r],0),new Mf([i,a],0)]}class t_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qg(`Invalid padding: ${t}`);if(r<0)throw new Qg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Qg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Qg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Mf.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Mf.fromNumber(r)));return 1===i.compare(Mb)&&(i=new Mf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=eS(e),[r,i]=e_(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new t_(a,i,t);return r.forEach(p=>l.insert(p)),l}insert(e){if(0===this.It)return;const t=eS(e),[r,i]=e_(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Qg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class n_{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Xg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n_(Et.min(),i,new Un(Gt),di(),Qt())}}class Xg{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xg(r,t,Qt(),Qt(),Qt())}}class r_{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class Rb{constructor(e,t){this.targetId=e,this.Vt=t}}class Jg{constructor(e,t,r=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xb{constructor(){this.St=0,this.Dt=nS(),this.Ct=Pr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qt(),t=Qt(),r=Qt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new Xg(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=nS()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ox{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=di(),this.zt=tS(),this.Wt=new Un(Gt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(qy(l))if(0===i){const p=new Je(l.path);this.Yt(r,p,Xn.newNoDocument(p,Et.min()))}else wt(1===i);else{const p=this.ie(r);if(p!==i){const y=this.re(e,p);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Jy.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(E,T,R){var k,V,$,ee,oe,Me;const Ze={localCacheCount:T,existenceFilterCount:R.count},Ue=R.unchangedNames;return Ue&&(Ze.bloomFilter={applied:0===E,hashCount:null!==(k=Ue?.hashCount)&&void 0!==k?k:0,bitmapLength:null!==(ee=null===($=null===(V=Ue?.bits)||void 0===V?void 0:V.bitmap)||void 0===$?void 0:$.length)&&void 0!==ee?ee:0,padding:null!==(Me=null===(oe=Ue?.bits)||void 0===oe?void 0:oe.padding)&&void 0!==Me?Me:0}),Ze}(y,p,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:p=0}=r;let y,E;try{y=ju(a).toUint8Array()}catch(T){if(T instanceof zw)return go("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{E=new t_(y,l,p)}catch(T){return go(T instanceof Qg?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===E.It?1:i!==t-this.oe(e.targetId,E)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),p=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(p)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const p=this.se(l);if(p){if(a.current&&qy(p.target)){const y=new Je(p.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,Xn.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=Qt();this.zt.forEach((a,l)=>{let p=!0;l.forEachWhile(y=>{const E=this.se(y);return!E||"TargetPurposeLimboResolution"===E.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new n_(e,t,this.Wt,this.jt,r);return this.jt=di(),this.zt=tS(),this.Wt=new Un(Gt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new xb,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new On(Gt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xb),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function tS(){return new Un(Je.comparator)}function nS(){return new Un(Je.comparator)}const rS={asc:"ASCENDING",desc:"DESCENDING"},iS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sS={and:"AND",or:"OR"};class ax{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function c0(n,e){return n.useProto3Json||Nf(e)?e:{value:e}}function Vd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ux(n,e){return Vd(n,e.toTimestamp())}function bn(n){return wt(!!n),Et.fromTimestamp(function(e){const t=Bu(e);return new zn(t.seconds,t.nanos)}(n))}function h0(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function i_(n){const e=hn.fromString(n);return wt(jb(e)),e}function em(n,e){return h0(n.databaseId,e.path)}function Zu(n,e){const t=i_(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(Nb(t))}function gs(n,e){return h0(n.databaseId,e)}function Pb(n){const e=i_(n);return 4===e.length?hn.emptyPath():Nb(e)}function Ud(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nb(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ob(n,e,t){return{name:em(n,e),fields:t.value.mapValue.fields}}function s_(n,e,t){const r=Zu(n,e.name),i=bn(e.updateTime),a=e.createTime?bn(e.createTime):Et.min(),l=new ci({mapValue:{fields:e.fields}}),p=Xn.newFoundDocument(r,i,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function tm(n,e){let t;if(e instanceof kd)t={update:Ob(n,e.key,e.value)};else if(e instanceof Fd)t={delete:em(n,e.key)};else if(e instanceof $a)t={update:Ob(n,e.key,e.data),updateMask:aS(e.fieldMask)};else{if(!(e instanceof Cb))return ut();t={verify:em(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Nd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Od)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bf)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ux(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ut()),t;var i}function o_(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Gn.updateTime(bn(i.updateTime)):void 0!==i.exists?Gn.exists(i.exists):Gn.none():Gn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let p=null;"setToServerValue"in l?(wt("REQUEST_TIME"===l.setToServerValue),p=new Nd):"appendMissingElements"in l?p=new Wu(l.appendMissingElements.values||[]):"removeAllFromArray"in l?p=new Od(l.removeAllFromArray.values||[]):"increment"in l?p=new Bf(a,l.increment):ut();const y=gr.fromServerFormat(l.fieldPath);return new jf(y,p)}(n,i)):[];var i;if(e.update){const i=Zu(n,e.update.name),a=new ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new ps((e.updateMask.fieldPaths||[]).map(E=>gr.fromServerFormat(E)));return new $a(i,a,l,t,r)}return new kd(i,a,t,r)}if(e.delete){const i=Zu(n,e.delete);return new Fd(i,t)}if(e.verify){const i=Zu(n,e.verify);return new Cb(i,t)}return ut()}function Vb(n,e){return{documents:[gs(n,e.path)]}}function a_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=gs(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=gs(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return oS(In.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(E=>{return{field:Ku((T=E).field),direction:uc(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=c0(n,e.limit);var p,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Ub(n){let e=Pb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){wt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const R=Ha(T);return R instanceof In&&jg(R)?R.getFilters():[R]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new kf($f((R=T).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let p=null;t.limit&&(p=function(T){let R;return R="object"==typeof T?T.value:T,Nf(R)?null:R}(t.limit));let y=null;var T;t.startAt&&(y=new Gu((T=t.startAt).values||[],!!T.before));let E=null;return t.endAt&&(E=function(T){return new Gu(T.values||[],!T.before)}(t.endAt)),Zy(e,i,l,a,p,"F",y,E)}function Ha(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$f(e.unaryFilter.field);return un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=$f(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$f(e.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$f(e.unaryFilter.field);return un.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?un.create($f((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return In.create(e.compositeFilter.filters.map(t=>Ha(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(n):ut();var e}function uc(n){return rS[n]}function Bb(n){return iS[n]}function p0(n){return sS[n]}function Ku(n){return{fieldPath:n.canonicalString()}}function $f(n){return gr.fromServerFormat(n.fieldPath)}function oS(n){return n instanceof un?function(e){if("=="===e.op){if(XI(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NAN"}};if(QI(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(XI(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NOT_NAN"}};if(QI(e.value))return{unaryFilter:{field:Ku(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(e.field),op:Bb(e.op),value:e.value}}}(n):n instanceof In?function(e){const t=e.getFilters().map(r=>oS(r));return 1===t.length?t[0]:{compositeFilter:{op:p0(e.op),filters:t}}}(n):ut()}function aS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Yu{constructor(e,t,r,i,a=Et.min(),l=Et.min(),p=Pr.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Yu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $b{constructor(e){this.fe=e}}function uS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:nm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:em(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Vd(i,a.version.toTimestamp()),createTime:Vd(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Bd(e.version)};else{if(!e.isUnknownDocument())return ut();r.unknownDocument={path:t.path.toArray(),version:Bd(e.version)}}var i,a;return r}function nm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function lc(n){const e=new zn(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function Hf(n,e){const t=(e.baseMutations||[]).map(a=>o_(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>o_(n.fe,a)),i=zn.fromMillis(e.localWriteTimeMs);return new Tb(e.batchId,i,t,r)}function jd(n){const e=lc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?lc(n.lastLimboFreeSnapshotVersion):Et.min();let r;var i;return void 0!==n.query.documents?(wt(1===(i=n.query).documents.length),r=Ui(xd(Pb(i.documents[0])))):r=Ui(Ub(n.query)),new Yu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Pr.fromBase64String(n.resumeToken))}function g0(n,e){const t=Bd(e.snapshotVersion),r=Bd(e.lastLimboFreeSnapshotVersion);let i;i=qy(e.target)?Vb(n.fe,e.target):a_(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qu(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function u_(n){const e=Ub({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zg(e,e.limit,"L"):e}function l_(n,e){return new Ab(e.largestBatchId,o_(n.fe,e.overlayMutation))}function m0(n,e){const t=e.path.lastSegment();return[n,Vi(e.path.popLast()),t]}function y0(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Bd(r.readTime),documentKey:Vi(r.documentKey.path),largestBatchId:r.largestBatchId}}class c_{getBundleMetadata(e,t){return rm(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:lc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return rm(e).put({bundleId:(r=t).id,createTime:Bd(bn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return _0(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:u_(i.bundledQuery),readTime:lc(i.readTime)};var i})}saveNamedQuery(e,t){return _0(e).put({name:(r=t).name,readTime:Bd(bn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function rm(n){return ui(n,"bundles")}function _0(n){return ui(n,"namedQueries")}class d_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new d_(e,t.uid||"")}getOverlay(e,t){return im(e).get(m0(this.userId,t)).next(r=>r?l_(this.serializer,r):null)}getOverlays(e,t){const r=na();return ne.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const p=new Ab(t,l);i.push(this.we(e,p))}),ne.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Vi(l.getCollectionPath())));const a=[];return i.forEach(l=>{const p=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(im(e).J("collectionPathOverlayIndex",p))}),ne.waitFor(a)}getOverlaysForCollection(e,t,r){const i=na(),a=Vi(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return im(e).j("collectionPathOverlayIndex",l).next(p=>{for(const y of p){const E=l_(this.serializer,y);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=na();let l;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return im(e).X({index:"collectionGroupOverlayIndex",range:p},(y,E,T)=>{const R=l_(this.serializer,E);a.size()<i||R.largestBatchId===l?(a.set(R.getKey(),R),l=R.largestBatchId):T.done()}).next(()=>a)}we(e,t){return im(e).put(function(r,i,a){const[l,p,y]=m0(i,a.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:tm(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function im(n){return ui(n,"documentOverlays")}class zf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(or(e.integerValue));else if("doubleValue"in e){const r=or(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Of(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ju(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Ww(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ut()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Je.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function lx(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function lS(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=lx(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}zf.Ve=new zf;class zb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=lS(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=lS(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class cS{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class dS{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class sm{constructor(){this.je=new zb,this.ze=new cS(this.je),this.We=new dS(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Gf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gf(this.indexId,this.documentKey,this.arrayValue,r)}}function $d(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=hS(n.arrayValue,e.arrayValue),0!==t?t:(t=hS(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function hS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class cx{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){wt(e.collectionGroup===this.collectionId);const t=kI(e);if(void 0!==t&&!this.en(t))return!1;const r=xf(e);let i=0,a=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const l=r[i];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[a++],l))return!1;++i}for(;i<r.length;++i)if(a>=this.Ye.length||!this.sn(this.Ye[a++],r[i]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function fS(n){var e,t;if(wt(n instanceof un||n instanceof In),n instanceof un){if(n instanceof zy){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>un.create(n.field,"==",a)))||[];return In.create(i,"or")}return n}const r=n.filters.map(i=>fS(i));return In.create(r,n.op)}function pS(n){if(0===n.getFilters().length)return[];const e=h_(fS(n));return wt(Gb(e)),qf(e)||v0(e)?[e]:e.getFilters()}function qf(n){return n instanceof un}function v0(n){return n instanceof In&&jg(n)}function Gb(n){return qf(n)||v0(n)||function(e){if(e instanceof In&&Qw(e)){for(const t of e.getFilters())if(!qf(t)&&!v0(t))return!1;return!0}return!1}(n)}function h_(n){if(wt(n instanceof un||n instanceof In),n instanceof un)return n;if(1===n.filters.length)return h_(n.filters[0]);const e=n.filters.map(r=>h_(r));let t=In.create(e,n.op);return t=Wf(t),Gb(t)?t:(wt(t instanceof In),wt(es(t)),wt(t.filters.length>1),t.filters.reduce((r,i)=>Qu(r,i)))}function Qu(n,e){let t;return wt(n instanceof un||n instanceof In),wt(e instanceof un||e instanceof In),t=n instanceof un?e instanceof un?In.create([n,e],"and"):w0(n,e):e instanceof un?w0(e,n):function(r,i){if(wt(r.filters.length>0&&i.filters.length>0),es(r)&&es(i))return ib(r,i.getFilters());const a=Qw(r)?r:i,l=Qw(r)?i:r,p=a.filters.map(y=>Qu(y,l));return In.create(p,"or")}(n,e),Wf(t)}function w0(n,e){if(es(e))return ib(e,n.getFilters());{const t=e.filters.map(r=>Qu(n,r));return In.create(t,"or")}}function Wf(n){if(wt(n instanceof un||n instanceof In),n instanceof un)return n;const e=n.getFilters();if(1===e.length)return Wf(e[0]);if(Lf(n))return n;const t=e.map(i=>Wf(i)),r=[];return t.forEach(i=>{i instanceof un?r.push(i):i instanceof In&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:In.create(r,n.op)}class E0{constructor(){this.rn=new I0}addToCollectionParentIndex(e,t){return this.rn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Us.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class I0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new On(hn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new On(hn.comparator)).toArray()}}const Zf=new Uint8Array(0);class b0{constructor(e,t){this.user=e,this.databaseId=t,this.on=new I0,this.un=new ja(r=>qu(r),(r,i)=>Rd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Vi(i)};return om(e).put(a)}return ne.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Nw(t),""],!1,!0);return om(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(Ua(l.parent))}return r})}addFieldIndex(e,t){const r=D0(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=p_(e);return a.next(p=>{l.put(y0(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=D0(e),i=p_(e),a=f_(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=f_(e);let i=!0;const a=new Map;return ne.forEach(this.cn(t),l=>this.an(e,l).next(p=>{i&&(i=!!p),a.set(l,p)})).next(()=>{if(i){let l=Qt();const p=[];return ne.forEach(a,(y,E)=>{var T;Fe("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Ue=>`${Ue.fieldPath}:${Ue.kind}`).join(",")}`} to execute ${qu(t)}`);const R=function(Ue,Ke){const At=kI(Ke);if(void 0===At)return null;for(const kt of Wy(Ue,At.fieldPath))switch(kt.op){case"array-contains-any":return kt.value.arrayValue.values||[];case"array-contains":return[kt.value]}return null}(E,y),k=function(Ue,Ke){const At=new Map;for(const kt of xf(Ke))for(const pn of Wy(Ue,kt.fieldPath))switch(pn.op){case"==":case"in":At.set(kt.fieldPath.canonicalString(),pn.value);break;case"not-in":case"!=":return At.set(kt.fieldPath.canonicalString(),pn.value),Array.from(At.values())}return null}(E,y),V=function(Ue,Ke){const At=[];let kt=!0;for(const pn of xf(Ke)){const Tr=0===pn.kind?ab(Ue,pn.fieldPath,Ue.startAt):ub(Ue,pn.fieldPath,Ue.startAt);At.push(Tr.value),kt&&(kt=Tr.inclusive)}return new Gu(At,kt)}(E,y),$=function(Ue,Ke){const At=[];let kt=!0;for(const pn of xf(Ke)){const Tr=0===pn.kind?ub(Ue,pn.fieldPath,Ue.endAt):ab(Ue,pn.fieldPath,Ue.endAt);At.push(Tr.value),kt&&(kt=Tr.inclusive)}return new Gu(At,kt)}(E,y),ee=this.hn(y,E,V),oe=this.hn(y,E,$),Me=this.ln(y,E,k),Ze=this.fn(y.indexId,R,ee,V.inclusive,oe,$.inclusive,Me);return ne.forEach(Ze,Ue=>r.H(Ue,t.limit).next(Ke=>{Ke.forEach(At=>{const kt=Je.fromSegments(At.documentKey);l.has(kt)||(l=l.add(kt),p.push(kt))})}))}).next(()=>p)}return ne.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:pS(In.create(e.filters,"and")).map(r=>Gy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,p){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),E=y/(null!=t?t.length:1),T=[];for(let R=0;R<y;++R){const k=t?this.dn(t[R/E]):Zf,V=this.wn(e,k,r[R%E],i),$=this._n(e,k,a[R%E],l),ee=p.map(oe=>this.wn(e,k,oe,!0));T.push(...this.createRange(V,$,ee))}return T}wn(e,t,r,i){const a=new Gf(e,Je.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new Gf(e,Je.empty(),t,r);return i?a.Je():a}an(e,t){const r=new cx(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const p of a)r.tn(p)&&(!l||p.fields.length>l.fields.length)&&(l=p);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return ne.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(p){let y=new On(gr.comparator),E=!1;for(const T of p.filters)for(const R of T.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?E=!0:y=y.add(R.field));for(const T of p.orderBy)T.field.isKeyField()||(y=y.add(T.field));return y.size+(E?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new sm;for(const i of xf(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);zf.Ve._e(a,l)}return r.Qe()}dn(e){const t=new sm;return zf.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new sm;return zf.Ve._e(Md(this.databaseId,t),r.He(function(i){const a=xf(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new sm);let a=0;for(const l of xf(e)){const p=r[a++];for(const y of i)if(this.yn(t,l.fieldPath)&&Bg(p))i=this.pn(i,l,p);else{const E=y.He(l.kind);zf.Ve._e(p,E)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const p of i){const y=new sm;y.seed(p.Qe()),zf.Ve._e(l,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof un&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=D0(e),i=p_(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return ne.forEach(a,p=>i.get([p.indexId,this.uid]).next(y=>{l.push(function(E,T){const R=T?new Og(T.sequenceNumber,new Us(lc(T.readTime),new Je(Ua(T.documentKey)),T.largestBatchId)):Og.empty(),k=E.fields.map(([V,$])=>new Cd(gr.fromServerFormat(V),$));return new Ow(E.indexId,E.collectionGroup,k,R)}(p,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Gt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=D0(e),a=p_(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ne.forEach(p,y=>a.put(y0(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return ne.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?ne.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ne.forEach(p,y=>this.En(e,i,y).next(E=>{const T=this.An(a,y);return E.isEqual(T)?ne.resolve():this.vn(e,a,y,E,T)}))))})}Rn(e,t,r,i){return f_(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return f_(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=f_(e);let a=new On($d);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,p)=>{a=a.add(new Gf(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}An(e,t){let r=new On($d);const i=this.mn(t,e);if(null==i)return r;const a=kI(t);if(null!=a){const l=e.data.field(a.fieldPath);if(Bg(l))for(const p of l.arrayValue.values||[])r=r.add(new Gf(t.indexId,e.key,this.dn(p),i))}else r=r.add(new Gf(t.indexId,e.key,Zf,i));return r}vn(e,t,r,i,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(p,y,E,T,R){const k=p.getIterator(),V=y.getIterator();let $=rc(k),ee=rc(V);for(;$||ee;){let oe=!1,Me=!1;if($&&ee){const Ze=E($,ee);Ze<0?Me=!0:Ze>0&&(oe=!0)}else null!=$?Me=!0:oe=!0;oe?(T(ee),ee=rc(V)):Me?(R($),$=rc(k)):($=rc(k),ee=rc(V))}}(i,a,$d,p=>{l.push(this.Rn(e,t,r,p))},p=>{l.push(this.Pn(e,t,r,p))}),ne.waitFor(l)}Tn(e){let t=1;return p_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,p)=>$d(l,p)).filter((l,p,y)=>!p||0!==$d(l,y[p-1]));const i=[];i.push(e);for(const l of r){const p=$d(l,e),y=$d(l,t);if(0===p)i[0]=e.Je();else if(p>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Zf,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Zf,[]]))}return a}bn(e,t){return $d(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gS)}getMinOffset(e,t){return ne.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ut())).next(gS)}}function om(n){return ui(n,"collectionParents")}function f_(n){return ui(n,"indexEntries")}function D0(n){return ui(n,"indexConfiguration")}function p_(n){return ui(n,"indexState")}function gS(n){wt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Fw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Us(e.readTime,e.documentKey,t)}const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ji{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qb(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let p=0;const y=r.X({range:l},(T,R,k)=>(p++,k.delete()));a.push(y.next(()=>{wt(1===p)}));const E=[];for(const T of t.mutations){const R=jI(e,T.key.path,t.batchId);a.push(i.delete(R)),E.push(T.key)}return ne.waitFor(a).next(()=>E)}function g_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(41943040,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);class m_{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){wt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new m_(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Hd(e),l=Xu(e);return l.add({}).next(p=>{wt("number"==typeof p);const y=new Tb(p,t,r,i),E=function(k,V,$){const ee=$.baseMutations.map(Me=>tm(k.fe,Me)),oe=$.mutations.map(Me=>tm(k.fe,Me));return{userId:V,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:ee,mutations:oe}}(this.serializer,this.userId,y),T=[];let R=new On((k,V)=>Gt(k.canonicalString(),V.canonicalString()));for(const k of i){const V=jI(this.userId,k.key.path,p);R=R.add(k.key.path.popLast()),T.push(l.put(E)),T.push(a.put(V,xT))}return R.forEach(k=>{T.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.Vn[p]=y.keys()}),ne.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Xu(e).get(t).next(r=>r?(wt(r.userId===this.userId),Hf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ne.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Xu(e).X({index:"userMutationsIndex",range:i},(l,p,y)=>{p.userId===this.userId&&(wt(p.batchId>=r),a=Hf(this.serializer,p)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Xu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xu(e).j("userMutationsIndex",t).next(r=>r.map(i=>Hf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Oy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Hd(e).X({range:i},(l,p,y)=>{const[E,T,R]=l,k=Ua(T);if(E===this.userId&&t.path.isEqual(k))return Xu(e).get(R).next(V=>{if(!V)throw ut();wt(V.userId===this.userId),a.push(Hf(this.serializer,V))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new On(Gt);const i=[];return t.forEach(a=>{const l=Oy(this.userId,a.path),p=IDBKeyRange.lowerBound(l),y=Hd(e).X({range:p},(E,T,R)=>{const[k,V,$]=E,ee=Ua(V);k===this.userId&&a.path.isEqual(ee)?r=r.add($):R.done()});i.push(y)}),ne.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Oy(this.userId,r),l=IDBKeyRange.lowerBound(a);let p=new On(Gt);return Hd(e).X({range:l},(y,E,T)=>{const[R,k,V]=y,$=Ua(k);R===this.userId&&r.isPrefixOf($)?$.length===i&&(p=p.add(V)):T.done()}).next(()=>this.Dn(e,p))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Xu(e).get(a).next(l=>{if(null===l)throw ut();wt(l.userId===this.userId),r.push(Hf(this.serializer,l))}))}),ne.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return qb(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ne.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ne.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Hd(e).X({range:r},(a,l,p)=>{if(a[0]===this.userId){const y=Ua(a[1]);i.push(y)}else p.done()}).next(()=>{wt(0===i.length)})})}containsKey(e,t){return T0(e,this.userId,t)}xn(e){return Wb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function T0(n,e,t){const r=Oy(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Hd(n).X({range:a,Y:!0},(p,y,E)=>{const[T,R,k]=p;T===e&&R===i&&(l=!0),E.done()}).next(()=>l)}function Xu(n){return ui(n,"mutations")}function Hd(n){return ui(n,"documentMutations")}function Wb(n){return ui(n,"mutationQueues")}class zd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zd(0)}static Mn(){return new zd(-1)}}class Zb{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new zd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Et.fromTimestamp(new zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cc(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(wt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return cc(e).X((l,p)=>{const y=jd(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>ne.waitFor(a)).next(()=>i)}forEachTarget(e,t){return cc(e).X((r,i)=>{const a=jd(i);t(a)})}$n(e){return mS(e).get("targetGlobalKey").next(t=>(wt(null!==t),t))}On(e,t){return mS(e).put("targetGlobalKey",t)}Fn(e,t){return cc(e).put(g0(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=qu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return cc(e).X({range:i,index:"queryTargetsIndex"},(l,p,y)=>{const E=jd(p);Rd(t,E.target)&&(a=E,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ju(e);return t.forEach(l=>{const p=Vi(l.path);i.push(a.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,l))}),ne.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ju(e);return ne.forEach(t,a=>{const l=Vi(a.path);return ne.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ju(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ju(e);let a=Qt();return i.X({range:r,Y:!0},(l,p,y)=>{const E=Ua(l[1]),T=new Je(E);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Vi(t.path),i=IDBKeyRange.bound([r],[Nw(r)],!1,!0);let a=0;return Ju(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,p],y,E)=>{0!==l&&(a++,E.done())}).next(()=>a>0)}le(e,t){return cc(e).get(t).next(r=>r?jd(r):null)}}function cc(n){return ui(n,"targets")}function mS(n){return ui(n,"targetGlobal")}function Ju(n){return ui(n,"targetDocuments")}function y_([n,e],[t,r]){const i=Gt(n,t);return 0===i?Gt(e,r):i}class yS{constructor(e){this.Ln=e,this.buffer=new On(y_),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();y_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,me.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Uu(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Td(r)}yield t.Qn(3e5)}))}}class dx{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ne.resolve(Bs.ct);const r=new yS(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(C0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,p,y,E;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,l=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,p=Date.now(),this.removeTargets(e,r,t))).next(R=>(a=R,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(E=Date.now(),Qn()<=Ou.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-T}ms\n\tDetermined least recently used ${i} in `+(p-l)+`ms\n\tRemoved ${a} targets in `+(y-p)+`ms\n\tRemoved ${R} documents in `+(E-y)+`ms\nTotal Duration: ${E-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:R})))}}class vS{constructor(e,t){this.db=e,this.garbageCollector=function _S(n,e){return new dx(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return __(e,r)}removeReference(e,t,r){return __(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return __(e,t)}Xn(e,t){return function(r,i){let a=!1;return Wb(r).Z(l=>T0(r,l,i).next(p=>(p&&(a=!0),ne.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,p)=>{if(p<=t){const y=this.Xn(e,l).next(E=>{if(!E)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Et.min()),Ju(e).delete([0,Vi(l.path)])))});i.push(y)}}).next(()=>ne.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return __(e,t)}Yn(e,t){const r=Ju(e);let i,a=Bs.ct;return r.X({index:"documentTargetsIndex"},([l,p],{path:y,sequenceNumber:E})=>{0===l?(a!==Bs.ct&&t(new Je(Ua(i)),a),a=E,i=y):a=Bs.ct}).next(()=>{a!==Bs.ct&&t(new Je(Ua(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function __(n,e){return Ju(n).put((r=n.currentSequenceNumber,{targetId:0,path:Vi(e.path),sequenceNumber:r}));var r}class Yb{constructor(){this.changes=new ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Gd(e).put(r)}removeEntry(e,t,r){return Gd(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],nm(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Xn.newInvalidDocument(t);return Gd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(v_(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Xn.newInvalidDocument(t)};return Gd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(v_(t))},(i,a)=>{r={document:this.ts(t,a),size:g_(a)}}).next(()=>r)}getEntries(e,t){let r=di();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=di(),i=new Un(Je.comparator);return this.ns(e,t,(a,l)=>{const p=this.ts(a,l);r=r.insert(a,p),i=i.insert(a,g_(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return ne.resolve();let i=new On(bS);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(v_(i.first()),v_(i.last())),l=i.getIterator();let p=l.getNext();return Gd(e).X({index:"documentKeyIndex",range:a},(y,E,T)=>{const R=Je.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;p&&bS(p,R)<0;)r(p,null),p=l.getNext();p&&p.isEqual(R)&&(r(p,E),p=l.hasNext()?l.getNext():null),p?T.G(v_(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),nm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gd(e).j(IDBKeyRange.bound(l,p,!0)).next(y=>{let E=di();for(const T of y){const R=this.ts(Je.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);R.isFoundDocument()&&(qg(t,R)||i.has(R.key))&&(E=E.insert(R.key,R))}return E})}getAllFromCollectionGroup(e,t,r,i){let a=di();const l=IS(t,r),p=IS(t,Us.max());return Gd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,p,!0)},(y,E,T)=>{const R=this.ts(Je.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(R.key,R),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new fx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ES(e).get("remoteDocumentGlobalKey").next(t=>(wt(!!t),t))}Zn(e,t){return ES(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function Hb(n,e){let t;if(e.document)t=s_(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Je.fromSegments(e.noDocument.path),i=lc(e.noDocument.readTime);t=Xn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const r=Je.fromSegments(e.unknownDocument.path),i=lc(e.unknownDocument.version);t=Xn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new zn(r[0],r[1]);return Et.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return Xn.newInvalidDocument(e)}}function wS(n){return new hx(n)}class fx extends Yb{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ja(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new On((a,l)=>Gt(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const p=this.us.get(a);if(t.push(this.os.removeEntry(e,a,p.readTime)),l.isValidDocument()){const y=uS(this.os.serializer,l);i=i.add(a.path.popLast());const E=g_(y);r+=E-p.size,t.push(this.os.addEntry(e,a,y))}else if(r-=p.size,this.trackRemovals){const y=uS(this.os.serializer,l.convertToNoDocument(Et.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),ne.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function ES(n){return ui(n,"remoteDocumentGlobal")}function Gd(n){return ui(n,"remoteDocumentsV14")}function v_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IS(n,e){const t=e.documentKey.path.toArray();return[n,nm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function bS(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Gt(t[a],r[a]),i)return i;return i=Gt(t.length,r.length),i||(i=Gt(t[t.length-2],r[r.length-2]),i||Gt(t[t.length-1],r[r.length-1]))}class px{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class DS{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Kg(r.mutation,i,ps.empty(),zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const i=na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Pd();return a.forEach((p,y)=>{l=l.insert(p,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,p)=>{t.set(l,p)})})}computeViews(e,t,r,i){let a=di();const l=Wg(),p=Wg();return t.forEach((y,E)=>{const T=r.get(E.key);i.has(E.key)&&(void 0===T||T.mutation instanceof $a)?a=a.insert(E.key,E):void 0!==T?(l.set(E.key,T.mutation.getFieldMask()),Kg(T.mutation,E,T.mutation.getFieldMask(),zn.now())):l.set(E.key,ps.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((E,T)=>l.set(E,T)),t.forEach((E,T)=>{var R;return p.set(E,new px(T,null!==(R=l.get(E))&&void 0!==R?R:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Wg();let i=new Un((l,p)=>l-p),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const p of l)p.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let T=r.get(y)||ps.empty();T=p.applyToLocalView(E,T),r.set(y,T);const R=(i.get(p.batchId)||Qt()).add(y);i=i.insert(p.batchId,R)})}).next(()=>{const l=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),E=y.key,T=y.value,R=fb();T.forEach(k=>{if(!a.has(k)){const V=wb(t.get(k),r.get(k));null!==V&&R.set(k,V),a=a.add(k)}}),l.push(this.documentOverlayCache.saveOverlays(e,E,R))}return ne.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):n0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ne.resolve(na());let p=-1,y=a;return l.next(E=>ne.forEach(E,(T,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),a.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next(k=>{y=y.insert(T,k)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,y,E,Qt())).next(T=>({batchId:p,changes:hb(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(r=>{let i=Pd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Pd();return this.indexManager.getCollectionParents(e,i).next(l=>ne.forEach(l,p=>{const y=(E=t,T=p.child(i),new Ba(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(E=>{E.forEach((T,R)=>{a=a.insert(T,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((p,y)=>{const E=y.getKey();null===a.get(E)&&(a=a.insert(E,Xn.newInvalidDocument(E)))});let l=Pd();return a.forEach((p,y)=>{const E=i.get(p);void 0!==E&&Kg(E.mutation,y,ps.empty(),zn.now()),qg(t,y)&&(l=l.insert(p,y))}),l})}}class gx{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ne.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:bn(r.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:u_(r.bundledQuery),readTime:bn(r.readTime)}),ne.resolve();var r}}class s{constructor(){this.overlays=new Un(Je.comparator),this.ls=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=na();return ne.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const i=na(),a=t.length+1,l=new Je(t.child("")),p=this.overlays.getIteratorFrom(l);for(;p.hasNext();){const y=p.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Un((E,T)=>E-T);const l=this.overlays.getIterator();for(;l.hasNext();){const E=l.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let T=a.get(E.largestBatchId);null===T&&(T=na(),a=a.insert(E.largestBatchId,T)),T.set(E.getKey(),E)}}const p=na(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,T)=>p.set(E,T)),!(p.size()>=i)););return ne.resolve(p)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Ab(t,r));let a=this.ls.get(t);void 0===a&&(a=Qt(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class o{constructor(){this.fs=new On(u.ds),this.ws=new On(u._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new u(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new u(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Je(new hn([])),r=new u(t,e),i=new u(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Je(new hn([])),r=new u(t,e),i=new u(t,e+1);let a=Qt();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new u(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class u{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Je.comparator(e.key,t.key)||Gt(e.As,t.As)}static _s(e,t){return Gt(e.As,t.As)||Je.comparator(e.key,t.key)}}class c{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new On(u.ds)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new Tb(a,t,r,i);this.mutationQueue.push(l);for(const p of i)this.Rs=this.Rs.add(new u(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new u(t,0),i=new u(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const p=this.Ps(l.As);a.push(p)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new On(Gt);return t.forEach(i=>{const a=new u(i,0),l=new u(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],p=>{r=r.add(p.As)})}),ne.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Je.isDocumentKey(a)||(a=a.child(""));const l=new u(new Je(a),0);let p=new On(Gt);return this.Rs.forEachWhile(y=>{const E=y.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(p=p.add(y.As)),!0)},l),ne.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){wt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ne.forEach(t.mutations,i=>{const a=new u(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new u(t,0),i=this.Rs.firstAfterOrEqual(r);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ne.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class h{constructor(e){this.Ds=e,this.docs=new Un(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=di();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=di();const l=t.path,p=new Je(l.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:E,value:{document:T}}=y.getNext();if(!l.isPrefixOf(E.path))break;E.path.length>l.length+1||Fw(Pf(T),r)<=0||(i.has(T.key)||qg(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ut()}Cs(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new m(this)}getSize(e){return ne.resolve(this.size)}}class m extends Yb{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class v{constructor(e){this.persistence=e,this.xs=new ja(t=>qu(t),Rd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Ns=0,this.ks=new o,this.targetCount=0,this.Ms=zd.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ne.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new zd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Fn(t),ne.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ne.waitFor(a).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.ks.containsKey(t))}}class b{constructor(e,t){this.$s={},this.overlays={},this.Os=new Bs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new v(this),this.indexManager=new E0,this.remoteDocumentCache=new h(r=>this.referenceDelegate.Ls(r)),this.serializer=new $b(t),this.qs=new gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new s,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new c(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new C(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return ne.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class C extends VI{constructor(e){super(),this.currentSequenceNumber=e}}class M{constructor(e){this.persistence=e,this.Qs=new o,this.js=null}static zs(e){return new M(e)}get Ws(){if(this.js)return this.js;throw ut()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ws,r=>{const i=Je.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Et.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ne.or([()=>ne.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class L{constructor(e){this.serializer=e}O(e,t,r,i){const a=new xy("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uw,{unique:!0}),p.createObjectStore("documentMutations"),q(e),function(p){p.createObjectStore("remoteDocuments")}(e));let l=ne.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),q(e)),l=l.next(()=>function(p){const y=p.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(p,y){return y.store("mutations").j().next(E=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uw,{unique:!0});const T=y.store("mutations"),R=E.map(k=>T.put(k));return ne.waitFor(R)})}(e,a))),l=l.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:BT});y.createIndex("collectionPathOverlayIndex",jT,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Bw,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:PT});y.createIndex("documentKeyIndex",NT),y.createIndex("collectionGroupIndex",OT)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:LT}).createIndex("sequenceNumberIndex",VT,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:zI}).createIndex("documentKeyIndex",UT,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=g_(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ne.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(p=>ne.forEach(p,y=>{wt(y.userId===a.userId);const E=Hf(this.serializer,y);return qb(e,a.userId,E).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,p)=>{const y=new hn(l),E=[0,Vi(y)];a.push(t.get(E).next(T=>T?ne.resolve():t.put({targetId:0,path:Vi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ne.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:HI});const r=t.store("collectionParents"),i=new I0,a=l=>{if(i.add(l)){const p=l.lastSegment(),y=l.popLast();return r.put({collectionId:p,parent:Vi(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,p)=>{const y=new hn(l);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,p,y],E)=>{const T=Ua(p);return a(T.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=jd(i),l=g0(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const p=t.store("remoteDocumentsV14"),y=(E=l,E.document?new Je(hn.fromString(E.document.name).popFirst(5)):E.noDocument?Je.fromSegments(E.noDocument.path):E.unknownDocument?Je.fromSegments(E.unknownDocument.path):ut()).path.toArray();var E;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(p.put(T))}).next(()=>ne.waitFor(i))}si(e,t){const r=t.store("mutations"),i=wS(this.serializer),a=new b(M.zs,this.serializer.fe);return r.j().next(l=>{const p=new Map;return l.forEach(y=>{var E;let T=null!==(E=p.get(y.userId))&&void 0!==E?E:Qt();Hf(this.serializer,y).keys().forEach(R=>T=T.add(R)),p.set(y.userId,T)}),ne.forEach(p,(y,E)=>{const T=new ai(E),R=d_.de(this.serializer,T),k=a.getIndexManager(T),V=m_.de(T,this.serializer,k,a.referenceDelegate);return new DS(i,V,R,k).recalculateAndSaveOverlaysForDocumentKeys(new Lg(t,Bs.ct),y).next()})})}}function q(n){n.createObjectStore("targetDocuments",{keyPath:FT}).createIndex("documentTargetsIndex",$I,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kT,{unique:!0}),n.createObjectStore("targetGlobal")}const Q="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ve{constructor(e,t,r,i,a,l,p,y,E,T,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=p,this.ri=E,this.oi=T,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=k=>Promise.resolve(),!ve.D())throw new Ce(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vS(this,i),this.di=t+"main",this.serializer=new $b(y),this.wi=new ta(this.di,this.ui,new L(this.serializer)),this.Bs=new Zb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wS(this.serializer),this.qs=new c_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ce(le.FAILED_PRECONDITION,Q);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Bs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,me.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xe(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Uu(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Ve(e).get("owner").next(t=>ne.resolve(this.Ri(t)))}Pi(e){return Xe(e).delete(this.clientId)}bi(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ui(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),p=a.filter(y=>-1===l.indexOf(y));return ne.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ne.resolve(!0):Ve(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ce(le.FAILED_PRECONDITION,Q);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xe(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Lg(t,Bs.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Xe(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return m_.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new b0(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return d_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?$T:14===l?qI:13===l?Fy:12===l?GI:11===l?ky:void ut();var l;let p;return this.wi.runTransaction(e,i,a,y=>(p=new Lg(y,this.Os?this.Os.next():Bs.ct),"readwrite-primary"===t?this.Ti(p).next(E=>!!E||this.Ei(p)).next(E=>{if(!E)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ce(le.FAILED_PRECONDITION,LI);return r(p)}).next(E=>this.vi(p).next(()=>E)):this.Oi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Oi(e){return Ve(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ce(le.FAILED_PRECONDITION,Q)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ve(e).put("owner",t)}static D(){return ta.D()}Ai(e){const t=Ve(e);return t.get("owner").next(r=>this.Ri(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ne.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Yt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ve(n){return ui(n,"owner")}function Xe(n){return ui(n,"clientMetadata")}function dt(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Pt{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Qt(),i=Qt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Pt(e,t.fromCache,r,i)}}class Re{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(lb(t))return ne.resolve(null);let r=Ui(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=zg(t,null,"F"),r=Ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Qt(...a);return this.Ui.getDocuments(e,l).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const E=this.ji(t,p);return this.zi(t,E,l,y.readTime)?this.Ki(e,zg(t,null,"F")):this.Wi(e,E,t,y)}))})))}Gi(e,t,r,i){return lb(t)||i.isEqual(Et.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(Qn()<=Ou.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ac(t)),this.Wi(e,l,t,kw(i,-1)))})}ji(e,t){let r=new On(qT(e));return t.forEach((i,a)=>{qg(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return Qn()<=Ou.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",ac(t)),this.Ui.getDocumentsMatchingQuery(e,t,Us.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class Wt{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Un(Gt),this.Yi=new ja(a=>qu(a),Rd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function qn(n,e,t,r){return new Wt(n,e,t,r)}function mr(n,e){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,me.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],p=[];let y=Qt();for(const E of i){l.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}for(const E of a){p.push(E.batchId);for(const T of E.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(E=>({er:E,removedBatchIds:l,addedBatchIds:p}))})})}),Qb.apply(this,arguments)}function mx(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yx(n,e,t){let r=Qt(),i=Qt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=di();return t.forEach((p,y)=>{const E=a.get(p);y.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(e.removeEntry(p,y.readTime),l=l.insert(p,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),l=l.insert(p,y)):Fe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",E.version," Watch version:",y.version)}),{nr:l,sr:i}})}function vk(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w_(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,ne.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Yu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function E_(n,e,t){return CS.apply(this,arguments)}function CS(){return CS=(0,me.Z)(function*(n,e,t){const r=et(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Uu(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),CS.apply(this,arguments)}function Xb(n,e,t){const r=et(n);let i=Et.min(),a=Qt();return r.persistence.runTransaction("Execute query","readonly",l=>function(p,y,E){const T=et(p),R=T.Yi.get(E);return void 0!==R?ne.resolve(T.Ji.get(R)):T.Bs.getTargetData(y,E)}(r,l,Ui(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,p.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:Et.min(),t?a:Qt())).next(p=>(wx(r,cb(e),p),{documents:p,ir:a})))}function _x(n,e){const t=et(n),r=et(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function vx(n,e){const t=et(n),r=t.Xi.get(e)||Et.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,kw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(wx(t,e,i),i))}function wx(n,e,t){let r=n.Xi.get(e)||Et.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function TS(){return TS=(0,me.Z)(function*(n,e,t,r){const i=et(n);let a=Qt(),l=di();for(const E of t){const T=e.rr(E.metadata.name);E.document&&(a=a.add(T));const R=e.ur(E);R.setReadTime(e.cr(E.metadata.readTime)),l=l.insert(T,R)}const p=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield w_(i,(E=r,Ui(xd(hn.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>yx(E,p,l).next(T=>(p.apply(E),T)).next(T=>i.Bs.removeMatchingKeysForTargetId(E,y.targetId).next(()=>i.Bs.addMatchingKeys(E,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,T.nr,T.sr)).next(()=>T.nr)))}),TS.apply(this,arguments)}function Ek(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,me.Z)(function*(n,e,t=Qt()){const r=yield w_(n,Ui(u_(e.bundledQuery))),i=et(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=bn(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const p=r.withResumeToken(Pr.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(p.targetId,p),i.Bs.updateTargetData(a,p).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),SS.apply(this,arguments)}function Ex(n,e){return`firestore_clients_${n}_${e}`}function Ix(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function AS(n,e){return`firestore_targets_${n}_${e}`}class Jb{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Ce(i.error.code,i.error.message))),l?new Jb(e,t,i.state,a):(pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class S0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ce(r.error.code,r.error.message))),a?new S0(e,r.state,i):(pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Vf();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=BI(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new eD(e,a):(pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class MS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new MS(t.clientId,t.onlineState):(pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class RS{constructor(){this.activeTargetIds=Vf()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xS{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Un(Gt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=Ex(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new RS),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(Ex(e.persistenceKey,i));if(a){const l=eD.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(AS(this.persistenceKey,e));if(r){const i=S0.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AS(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=Bs.ct;if(null!=a)try{const p=JSON.parse(a);wt("number"==typeof p),l=p}catch(p){pr("SharedClientState","Failed to read sequence number from WebStorage",p)}return l}(r.newValue);i!==Bs.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new Jb(this.currentUser,e,t,r),a=Ix(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=Ix(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=AS(this.persistenceKey,e),a=new S0(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return eD.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return Jb.ar(new ai(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return S0.ar(i,t)}br(e){return MS.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],p=[];return a.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{a.has(y)||p.push(y)}),this.syncEngine.Wr(l,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Vf();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class bx{constructor(){this.Hr=new RS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new RS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ik{Yr(e){}shutdown(){}}class Dx{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tD=null;function PS(){return null===tD?tD=268435456+Math.round(2147483648*Math.random()):tD++,"0x"+tD.toString(16)}const bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dk{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ms="WebChannelConnection";class Ck extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=PS(),p=this.To(e,t);Fe("RestConnection",`Sending RPC '${e}' ${l}:`,p,r);const y={};return this.Eo(y,i,a),this.Ao(e,p,y,r).then(E=>(Fe("RestConnection",`Received RPC '${e}' ${l}: `,E),E),E=>{throw go("RestConnection",`RPC '${e}' ${l} failed with error: `,E,"url: ",p,"request:",r),E})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${bk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=PS();return new Promise((l,p)=>{const y=new ET;y.setWithCredentials(!0),y.listenOnce(ex.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case xg.NO_ERROR:const T=y.getResponseJson();Fe(ms,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),l(T);break;case xg.TIMEOUT:Fe(ms,`RPC '${e}' ${a} timed out`),p(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case xg.HTTP_ERROR:const R=y.getStatus();if(Fe(ms,`RPC '${e}' ${a} failed with status:`,R,"response text:",y.getResponseText()),R>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const V=k?.error;if(V&&V.status&&V.message){const $=function(ee){const oe=ee.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(oe)>=0?oe:le.UNKNOWN}(V.status);p(new Ce($,V.message))}else p(new Ce(le.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Fe(ms,`RPC '${e}' ${a} completed.`)}});const E=JSON.stringify(i);Fe(ms,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",E,r,15)})}Ro(e,t,r){const i=PS(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Af(),p=JR(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.xmlHttpFactory=new tx({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const T=a.join("");Fe(ms,`Creating RPC '${e}' stream ${i}: ${T}`,y);const R=l.createWebChannel(T,y);let k=!1,V=!1;const $=new Dk({ro:oe=>{V?Fe(ms,`Not sending because RPC '${e}' stream ${i} is closed:`,oe):(k||(Fe(ms,`Opening RPC '${e}' stream ${i} transport.`),R.open(),k=!0),Fe(ms,`RPC '${e}' stream ${i} sending:`,oe),R.send(oe))},oo:()=>R.close()}),ee=(oe,Me,Ze)=>{oe.listen(Me,Ue=>{try{Ze(Ue)}catch(Ke){setTimeout(()=>{throw Ke},0)}})};return ee(R,St.EventType.OPEN,()=>{V||Fe(ms,`RPC '${e}' stream ${i} transport opened.`)}),ee(R,St.EventType.CLOSE,()=>{V||(V=!0,Fe(ms,`RPC '${e}' stream ${i} transport closed`),$.wo())}),ee(R,St.EventType.ERROR,oe=>{V||(V=!0,go(ms,`RPC '${e}' stream ${i} transport errored:`,oe),$.wo(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),ee(R,St.EventType.MESSAGE,oe=>{var Me;if(!V){const Ze=oe.data[0];wt(!!Ze);const Ke=Ze.error||(null===(Me=Ze[0])||void 0===Me?void 0:Me.error);if(Ke){Fe(ms,`RPC '${e}' stream ${i} received error:`,Ke);const At=Ke.status;let kt=function(Tr){const vs=Gr[Tr];if(void 0!==vs)return JT(vs)}(At),pn=Ke.message;void 0===kt&&(kt=le.INTERNAL,pn="Unknown error status: "+At+" with message "+Ke.message),V=!0,$.wo(new Ce(kt,pn)),R.close()}else Fe(ms,`RPC '${e}' stream ${i} received:`,Ze),$._o(Ze)}}),ee(p,MI.STAT_EVENT,oe=>{oe.stat===xw.PROXY?Fe(ms,`RPC '${e}' stream ${i} detected buffering proxy`):oe.stat===xw.NOPROXY&&Fe(ms,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function Cx(){return typeof window<"u"?window:null}function nD(){return typeof document<"u"?document:null}function A0(n){return new ax(n,!0)}class NS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Tx{constructor(e,t,r,i,a,l,p,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new NS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,me.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,me.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ce(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,me.Z)(function*(){e.state=0,e.start()}))}tu(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tk extends Tx{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Fb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ut(),i=e.targetChange.targetIds||[],a=function(y,E){return y.useProto3Json?(wt(void 0===E||"string"==typeof E),Pr.fromBase64String(E||"")):(wt(void 0===E||E instanceof Uint8Array),Pr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,p=l&&function(y){const E=void 0===y.code?le.UNKNOWN:JT(y.code);return new Ce(E,y.message||"")}(l);t=new Jg(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Zu(n,r.document.name),a=bn(r.document.updateTime),l=r.document.createTime?bn(r.document.createTime):Et.min(),p=new ci({mapValue:{fields:r.document.fields}}),y=Xn.newFoundDocument(i,a,l,p);t=new r_(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Zu(n,r.document),a=r.readTime?bn(r.readTime):Et.min(),l=Xn.newNoDocument(i,a);t=new r_([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Zu(n,r.document);t=new r_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ut();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new sx(i,a);t=new Rb(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Et.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Et.min():a.readTime?bn(a.readTime):Et.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Ud(this.serializer),t.addTarget=function(i,a){let l;const p=a.target;if(l=qy(p)?{documents:Vb(i,p)}:{query:a_(i,p)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=d0(i,a.resumeToken);const y=c0(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(Et.min())>0){l.readTime=Vd(i,a.snapshotVersion.toTimestamp());const y=c0(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function f0(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Ud(this.serializer),t.removeTarget=e,this.Wo(t)}}class Sk extends Tx{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Lb(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(r,i){let a=bn(r.updateTime?r.updateTime:i);return a.isEqual(Et.min())&&(a=bn(i)),new QT(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.cu(r,t)}return wt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ud(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tm(this.serializer,r))};this.Wo(t)}}class Ak extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ce(le.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(le.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class Rk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pr(t),this.mu=!1):Fe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xk{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(p=>{r.enqueueAndForget((0,me.Z)(function*(){var y;Kf(l)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,me.Z)(function*(E){const T=et(E);T.vu.add(4),yield I_(T),T.bu.set("Unknown"),T.vu.delete(4),yield M0(T)}),function(E){return y.apply(this,arguments)})(l))}))}),this.bu=new Rk(r,i)}}function M0(n){return kS.apply(this,arguments)}function kS(){return kS=(0,me.Z)(function*(n){if(Kf(n))for(const e of n.Ru)yield e(!0)}),kS.apply(this,arguments)}function I_(n){return FS.apply(this,arguments)}function FS(){return FS=(0,me.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),FS.apply(this,arguments)}function rD(n,e){const t=et(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),US(t)?VS(t):D_(t).Ko()&&LS(t,e))}function R0(n,e){const t=et(n),r=D_(t);t.Au.delete(e),r.Ko()&&Sx(t,e),0===t.Au.size&&(r.Ko()?r.jo():Kf(t)&&t.bu.set("Unknown"))}function LS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}D_(n).su(e)}function Sx(n,e){n.Vu.qt(e),D_(n).iu(e)}function VS(n){n.Vu=new ox({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),D_(n).start(),n.bu.gu()}function US(n){return Kf(n)&&!D_(n).Uo()&&n.Au.size>0}function Kf(n){return 0===et(n).vu.size}function Ax(n){n.Vu=void 0}function Pk(n){return BS.apply(this,arguments)}function BS(){return BS=(0,me.Z)(function*(n){n.Au.forEach((e,t)=>{LS(n,e)})}),BS.apply(this,arguments)}function Nk(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,me.Z)(function*(n,e){Ax(n),US(n)?(n.bu.Iu(e),VS(n)):n.bu.set("Unknown")}),jS.apply(this,arguments)}function Ok(n,e,t){return $S.apply(this,arguments)}function $S(){return $S=(0,me.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Jg&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(i,a){const l=a.cause;for(const p of a.targetIds)i.Au.has(p)&&(yield i.remoteSyncer.rejectListen(p,l),i.Au.delete(p),i.Vu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield iD(n,r)}else if(e instanceof r_?n.Vu.Ht(e):e instanceof Rb?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Et.min()))try{const r=yield mx(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=i.Au.get(y);E&&i.Au.set(y,E.withResumeToken(p.resumeToken,a))}}),l.targetMismatches.forEach((p,y)=>{const E=i.Au.get(p);if(!E)return;i.Au.set(p,E.withResumeToken(Pr.EMPTY_BYTE_STRING,E.snapshotVersion)),Sx(i,p);const T=new Yu(E.target,p,y,E.sequenceNumber);LS(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield iD(n,r)}var r}),$S.apply(this,arguments)}function iD(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,me.Z)(function*(n,e,t){if(!Uu(e))throw e;n.vu.add(1),yield I_(n),n.bu.set("Offline"),t||(t=()=>mx(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield M0(n)}))}),HS.apply(this,arguments)}function Mx(n,e){return e().catch(t=>iD(n,t,e))}function b_(n){return zS.apply(this,arguments)}function zS(){return zS=(0,me.Z)(function*(n){const e=et(n),t=Yf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;kk(e);)try{const i=yield vk(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Fk(e,i)}catch(i){yield iD(e,i)}Rx(e)&&xx(e)}),zS.apply(this,arguments)}function kk(n){return Kf(n)&&n.Eu.length<10}function Fk(n,e){n.Eu.push(e);const t=Yf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Rx(n){return Kf(n)&&!Yf(n).Uo()&&n.Eu.length>0}function xx(n){Yf(n).start()}function Lk(n){return GS.apply(this,arguments)}function GS(){return GS=(0,me.Z)(function*(n){Yf(n).hu()}),GS.apply(this,arguments)}function Vk(n){return qS.apply(this,arguments)}function qS(){return qS=(0,me.Z)(function*(n){const e=Yf(n);for(const t of n.Eu)e.uu(t.mutations)}),qS.apply(this,arguments)}function Uk(n,e,t){return WS.apply(this,arguments)}function WS(){return WS=(0,me.Z)(function*(n,e,t){const r=n.Eu.shift(),i=Sb.from(r,e,t);yield Mx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield b_(n)}),WS.apply(this,arguments)}function Bk(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,me.Z)(function*(n,e){var t;e&&Yf(n).ou&&(yield(t=(0,me.Z)(function*(r,i){if(Yg(a=i.code)&&a!==le.ABORTED){const l=r.Eu.shift();Yf(r).Qo(),yield Mx(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield b_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Rx(n)&&xx(n)}),ZS.apply(this,arguments)}function Px(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,me.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Kf(t);t.vu.add(3),yield I_(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield M0(t)}),KS.apply(this,arguments)}function YS(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,me.Z)(function*(n,e){const t=et(n);e?(t.vu.delete(2),yield M0(t)):e||(t.vu.add(2),yield I_(t),t.bu.set("Unknown"))}),QS.apply(this,arguments)}function D_(n){return n.Su||(n.Su=function(e,t,r){const i=et(e);return i.fu(),new Tk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Pk.bind(null,n),ao:Nk.bind(null,n),nu:Ok.bind(null,n)}),n.Ru.push(function(){var e=(0,me.Z)(function*(t){t?(n.Su.Qo(),US(n)?VS(n):n.bu.set("Unknown")):(yield n.Su.stop(),Ax(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Yf(n){return n.Du||(n.Du=function(e,t,r){const i=et(e);return i.fu(),new Sk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Lk.bind(null,n),ao:Bk.bind(null,n),au:Vk.bind(null,n),cu:Uk.bind(null,n)}),n.Ru.push(function(){var e=(0,me.Z)(function*(t){t?(n.Du.Qo(),yield b_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class XS{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,p=new XS(e,t,l,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C_(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Uu(n))return new Ce(le.UNAVAILABLE,`${e}: ${n}`);throw n}class T_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=Pd(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new T_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof T_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new T_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Nx{constructor(){this.Cu=new Un(Je.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ut():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class S_{constructor(e,t,r,i,a,l,p,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new S_(e,t,T_.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class jk{constructor(){this.Nu=void 0,this.listeners=[]}}class $k{constructor(){this.queries=new ja(e=>Bi(e),Gg),this.onlineState="Unknown",this.ku=new Set}}function JS(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,me.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new jk),i)try{a.Nu=yield t.onListen(r)}catch(l){const p=C_(l,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&rA(t)}),eA.apply(this,arguments)}function tA(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,me.Z)(function*(n,e){const t=et(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),nA.apply(this,arguments)}function Hk(n,e){const t=et(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const p of l.listeners)p.$u(i)&&(r=!0);l.Nu=i}}r&&rA(t)}function zk(n,e,t){const r=et(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function rA(n){n.ku.forEach(e=>{e.next()})}class iA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new S_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=S_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Gk{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Ox{constructor(e){this.serializer=e}rr(e){return Zu(this.serializer,e)}ur(e){return e.metadata.exists?s_(this.serializer,e.document,!1):Xn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return bn(e)}}class qk{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kx(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=hn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new Ox(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const p=(t.get(l)||Qt()).add(a);t.set(l,p)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function wk(n,e,t,r){return TS.apply(this,arguments)}(e.localStore,new Ox(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield Ek(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function kx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Fx{constructor(e){this.key=e}}class Lx{constructor(e){this.key=e}}class Vx{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qt(),this.mutatedKeys=Qt(),this.tc=qT(e),this.ec=new T_(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Nx,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,R)=>{const k=i.get(T),V=qg(this.query,R)?R:null,$=!!k&&this.mutatedKeys.has(k.key),ee=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let oe=!1;k&&V?k.data.isEqual(V.data)?$!==ee&&(r.track({type:3,doc:V}),oe=!0):this.rc(k,V)||(r.track({type:2,doc:V}),oe=!0,(y&&this.tc(V,y)>0||E&&this.tc(V,E)<0)&&(p=!0)):!k&&V?(r.track({type:0,doc:V}),oe=!0):k&&!V&&(r.track({type:1,doc:k}),oe=!0,(y||E)&&(p=!0)),oe&&(V?(l=l.add(V),a=ee?a.add(T):a.delete(T)):(l=l.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:p,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((E,T)=>function(R,k){const V=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return V(R)-V(k)}(E.type,T.type)||this.tc(E.doc,T.doc)),this.oc(r);const l=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,y=p!==this.Xu;return this.Xu=p,0!==a.length||y?{snapshot:new S_(this.query,e.ec,i,a,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Nx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Lx(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Fx(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return S_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Wk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Zk{constructor(e){this.key=e,this.fc=!1}}class Kk{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new ja(p=>Bi(p),Gg),this._c=new Map,this.mc=new Set,this.gc=new Un(Je.comparator),this.yc=new Map,this.Ic=new o,this.Tc={},this.Ec=new Map,this.Ac=zd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Yk(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,me.Z)(function*(n,e){const t=AA(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield w_(t.localStore,Ui(e)),p=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield oA(t,e,r,"current"===p,l.resumeToken),t.isPrimaryClient&&rD(t.remoteStore,l)}return i}),sA.apply(this,arguments)}function oA(n,e,t,r,i){return aA.apply(this,arguments)}function aA(){return aA=(0,me.Z)(function*(n,e,t,r,i){n.Rc=(R,k,V)=>{return($=(0,me.Z)(function*(ee,oe,Me,Ze){let Ue=oe.view.sc(Me);Ue.zi&&(Ue=yield Xb(ee.localStore,oe.query,!1).then(({documents:kt})=>oe.view.sc(kt,Ue)));const Ke=Ze&&Ze.targetChanges.get(oe.targetId),At=oe.view.applyChanges(Ue,ee.isPrimaryClient,Ke);return yA(ee,oe.targetId,At.cc),At.snapshot}),function(ee,oe,Me,Ze){return $.apply(this,arguments)})(n,R,k,V);var $};const a=yield Xb(n.localStore,e,!0),l=new Vx(e,a.ir),p=l.sc(a.documents),y=Xg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=l.applyChanges(p,n.isPrimaryClient,y);yA(n,t,E.cc);const T=new Wk(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),E.snapshot}),aA.apply(this,arguments)}function Qk(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,me.Z)(function*(n,e){const t=et(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!Gg(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield E_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),R0(t.remoteStore,r.targetId),A_(t,r.targetId)}).catch(Td))):(A_(t,r.targetId),yield E_(t.localStore,r.targetId,!0))}),uA.apply(this,arguments)}function lA(){return lA=(0,me.Z)(function*(n,e,t){const r=MA(n);try{const i=yield function(a,l){const p=et(a),y=zn.now(),E=l.reduce((k,V)=>k.add(V.key),Qt());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let V=di(),$=Qt();return p.Zi.getEntries(k,E).next(ee=>{V=ee,V.forEach((oe,Me)=>{Me.isValidDocument()||($=$.add(oe))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,V)).next(ee=>{T=ee;const oe=[];for(const Me of l){const Ze=Ib(Me,T.get(Me.key).overlayedDocument);null!=Ze&&oe.push(new $a(Me.key,Ze,tb(Ze.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,oe,l)}).next(ee=>{R=ee;const oe=ee.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(k,ee.batchId,oe)})}).then(()=>({batchId:R.batchId,changes:hb(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,p){let y=a.Tc[a.currentUser.toKey()];y||(y=new Un(Gt)),y=y.insert(l,p),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield qd(r,i.changes),yield b_(r.remoteStore)}catch(i){const a=C_(i,"Failed to persist write");t.reject(a)}}),lA.apply(this,arguments)}function Ux(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,me.Z)(function*(n,e){const t=et(n);try{const r=yield function _k(n,e){const t=et(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const p=[];e.targetChanges.forEach((T,R)=>{const k=i.get(R);if(!k)return;p.push(t.Bs.removeMatchingKeys(a,T.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(a,T.addedDocuments,R)));let V=k.withSequenceNumber(a.currentSequenceNumber);var $,ee,oe;null!==e.targetMismatches.get(R)?V=V.withResumeToken(Pr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),i=i.insert(R,V),ee=V,oe=T,(0===($=k).resumeToken.approximateByteSize()||ee.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(a,V))});let y=di(),E=Qt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),p.push(yx(a,l,e.documentUpdates).next(T=>{y=T.nr,E=T.sr})),!r.isEqual(Et.min())){const T=t.Bs.getLastRemoteSnapshotVersion(a).next(R=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(T)}return ne.waitFor(p).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,E)).next(()=>y)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?wt(l.fc):i.removedDocuments.size>0&&(wt(l.fc),l.fc=!1))}),yield qd(t,r,e)}catch(r){yield Td(r)}}),cA.apply(this,arguments)}function Bx(n,e,t){const r=et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const p=l.view.Mu(e);p.snapshot&&i.push(p.snapshot)}),function(a,l){const p=et(a);p.onlineState=l;let y=!1;p.queries.forEach((E,T)=>{for(const R of T.listeners)R.Mu(l)&&(y=!0)}),y&&rA(p)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Jk(n,e,t){return dA.apply(this,arguments)}function dA(){return dA=(0,me.Z)(function*(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new Un(Je.comparator);l=l.insert(a,Xn.newNoDocument(a,Et.min()));const p=Qt().add(a),y=new n_(Et.min(),new Map,new Un(Gt),l,p);yield Ux(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),_A(r)}else yield E_(r.localStore,e,!1).then(()=>A_(r,e,t)).catch(Td)}),dA.apply(this,arguments)}function eF(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,me.Z)(function*(n,e){const t=et(n),r=e.batch.batchId;try{const i=yield function yk(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,p,y,E){const T=y.batch,R=T.keys();let k=ne.resolve();return R.forEach(V=>{k=k.next(()=>E.getEntry(p,V)).next($=>{const ee=y.docVersions.get(V);wt(null!==ee),$.version.compareTo(ee)<0&&(T.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))})}),k.next(()=>l.mutationQueue.removeMutationBatch(p,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let p=Qt();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(p=p.add(l.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);mA(t,r,null),gA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qd(t,i)}catch(i){yield Td(i)}}),hA.apply(this,arguments)}function tF(n,e,t){return fA.apply(this,arguments)}function fA(){return fA=(0,me.Z)(function*(n,e,t){const r=et(n);try{const i=yield function(a,l){const p=et(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,l).next(T=>(wt(null!==T),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,l)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(r.localStore,e);mA(r,e,t),gA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qd(r,i)}catch(i){yield Td(i)}}),fA.apply(this,arguments)}function pA(){return pA=(0,me.Z)(function*(n,e){const t=et(n);Kf(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=et(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>l.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=C_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),pA.apply(this,arguments)}function gA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function mA(n,e,t){const r=et(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function A_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||jx(n,r)})}function jx(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(R0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),_A(n))}function yA(n,e,t){for(const r of t)r instanceof Fx?(n.Ic.addReference(r.key,e),rF(n,r)):r instanceof Lx?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||jx(n,r.key)):ut()}function rF(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.mc.add(r),_A(n))}function _A(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Je(hn.fromString(e)),r=n.Ac.next();n.yc.set(r,new Zk(t)),n.gc=n.gc.insert(t,r),rD(n.remoteStore,new Yu(Ui(xd(t.path)),r,"TargetPurposeLimboResolution",Bs.ct))}}function qd(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,me.Z)(function*(n,e,t){const r=et(n),i=[],a=[],l=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,y)=>{l.push(r.Rc(y,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const T=Pt.Li(y.targetId,E);a.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(p=(0,me.Z)(function*(y,E){const T=et(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ne.forEach(E,k=>ne.forEach(k.Fi,V=>T.persistence.referenceDelegate.addReference(R,k.targetId,V)).next(()=>ne.forEach(k.Bi,V=>T.persistence.referenceDelegate.removeReference(R,k.targetId,V)))))}catch(R){if(!Uu(R))throw R;Fe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of E){const k=R.targetId;if(!R.fromCache){const V=T.Ji.get(k),ee=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);T.Ji=T.Ji.insert(k,ee)}}}),function(y,E){return p.apply(this,arguments)})(r.localStore,a))}),vA.apply(this,arguments)}function iF(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,me.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield mr(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(p=>{p.reject(new Ce(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qd(t,r.er)}var i}),wA.apply(this,arguments)}function sF(n,e){const t=et(n),r=t.yc.get(e);if(r&&r.fc)return Qt().add(r.key);{let i=Qt();const a=t._c.get(e);if(!a)return i;for(const l of a){const p=t.wc.get(l);i=i.unionWith(p.view.nc)}return i}}function oF(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,me.Z)(function*(n,e){const t=et(n),r=yield Xb(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&yA(t,e.targetId,i.cc),i}),EA.apply(this,arguments)}function aF(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,me.Z)(function*(n,e){const t=et(n);return vx(t.localStore,e).then(r=>qd(t,r))}),IA.apply(this,arguments)}function uF(n,e,t,r){return bA.apply(this,arguments)}function bA(){return bA=(0,me.Z)(function*(n,e,t,r){const i=et(n),a=yield function(l,p){const y=et(l),E=et(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>E.Sn(T,p).next(R=>R?y.localDocuments.getDocuments(T,R):ne.resolve(null)))}(i.localStore,e);var p;null!==a?("pending"===t?yield b_(i.remoteStore):"acknowledged"===t||"rejected"===t?(mA(i,e,r||null),gA(i,e),p=e,et(et(i.localStore).mutationQueue).Cn(p)):ut(),yield qd(i,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),bA.apply(this,arguments)}function DA(){return DA=(0,me.Z)(function*(n,e){const t=et(n);if(AA(t),MA(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield $x(t,r.toArray());t.vc=!0,yield YS(t.remoteStore,!0);for(const a of i)rD(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(A_(t,l),E_(t.localStore,l,!0))),R0(t.remoteStore,l)}),yield i,yield $x(t,r),function(a){const l=et(a);l.yc.forEach((p,y)=>{R0(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Un(Je.comparator)}(t),t.vc=!1,yield YS(t.remoteStore,!1)}}),DA.apply(this,arguments)}function $x(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,me.Z)(function*(n,e,t){const r=et(n),i=[],a=[];for(const l of e){let p;const y=r._c.get(l);if(y&&0!==y.length){p=yield w_(r.localStore,Ui(y[0]));for(const E of y){const T=r.wc.get(E),R=yield oF(r,T);R.snapshot&&a.push(R.snapshot)}}else{const E=yield _x(r.localStore,l);p=yield w_(r.localStore,E),yield oA(r,Hx(E),l,!1,p.resumeToken)}i.push(p)}return r.dc.nu(a),i}),CA.apply(this,arguments)}function Hx(n){return Zy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cF(n){const e=et(n);return et(et(e.localStore).persistence).$i()}function dF(n,e,t,r){return TA.apply(this,arguments)}function TA(){return TA=(0,me.Z)(function*(n,e,t,r){const i=et(n);if(i.vc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield vx(i.localStore,cb(a[0])),p=n_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Pr.EMPTY_BYTE_STRING);yield qd(i,l,p);break}case"rejected":yield E_(i.localStore,e,!0),A_(i,e,r);break;default:ut()}}),TA.apply(this,arguments)}function hF(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,me.Z)(function*(n,e,t){const r=AA(n);if(r.vc){for(const i of e){if(r._c.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const a=yield _x(r.localStore,i),l=yield w_(r.localStore,a);yield oA(r,Hx(a),l.targetId,!1,l.resumeToken),rD(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield E_(r.localStore,i,!1).then(()=>{R0(r.remoteStore,i),A_(r,i)}).catch(Td))}}),SA.apply(this,arguments)}function AA(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ux.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jk.bind(null,e),e.dc.nu=Hk.bind(null,e.eventManager),e.dc.Pc=zk.bind(null,e.eventManager),e}function MA(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tF.bind(null,e),e}class x0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.serializer=A0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qn(this.persistence,new Re,e.initialUser,this.serializer)}createPersistence(e){return new b(M.zs,this.serializer)}createSharedClientState(e){return new bx}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class RA extends x0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield MA(r.Vc.syncEngine),yield b_(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return qn(this.persistence,new Re,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Kb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Vw(t,this.persistence);return new MT(e.asyncQueue,r)}createPersistence(e){const t=dt(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new ve(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Cx(),nD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bx}}class zx extends RA{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof xS&&(r.sharedClientState.syncEngine={jr:uF.bind(null,i),zr:dF.bind(null,i),Wr:hF.bind(null,i),$i:cF.bind(null,i),Qr:aF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,me.Z)(function*(l){yield function lF(n,e){return DA.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Cx();if(!xS.D(t))throw new Ce(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dt(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class M_{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Bx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=iF.bind(null,r.syncEngine),yield YS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $k}createDatastore(e){const t=A0(e.databaseInfo.databaseId),r=new Ck(e.databaseInfo);return new Ak(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>Bx(this.syncEngine,p,0),l=Dx.D()?new Dx:new Ik,new xk(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,p,y,E){const T=new Kk(r,i,a,l,p,y);return E&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=et(t);Fe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield I_(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Gx(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class sD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gF{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new sr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,me.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new Gk(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,me.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class mF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ce(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,me.Z)(function*(a,l){const p=et(a),y=Ud(p.serializer)+"/documents",E={documents:l.map(V=>em(p.serializer,V))},T=yield p.vo("BatchGetDocuments",y,E,l.length),R=new Map;T.forEach(V=>{const $=function kb(n,e){return"found"in e?function(t,r){wt(!!r.found);const i=Zu(t,r.found.name),a=bn(r.found.updateTime),l=r.found.createTime?bn(r.found.createTime):Et.min(),p=new ci({mapValue:{fields:r.found.fields}});return Xn.newFoundDocument(i,a,l,p)}(n,e):"missing"in e?function(t,r){wt(!!r.missing),wt(!!r.readTime);const i=Zu(t,r.missing),a=bn(r.readTime);return Xn.newNoDocument(i,a)}(n,e):ut()}(p.serializer,V);R.set($.key.toString(),$)});const k=[];return l.forEach(V=>{const $=R.get(V.toString());wt(!!$),k.push($)}),k}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Je.fromPath(i);e.mutations.push(new Cb(a,e.precondition(a)))}),yield(r=(0,me.Z)(function*(i,a){const l=et(i),p=Ud(l.serializer)+"/documents",y={writes:a.map(E=>tm(l.serializer,E))};yield l.Io("Commit",p,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ce(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Et.min())?Gn.exists(!1):Gn.updateTime(t):Gn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Ce(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gn.updateTime(t)}return Gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class yF{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new NS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,me.Z)(function*(){const t=new mF(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Nf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Yg(t)}return!1}}class _F{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ai.UNAUTHENTICATED,this.clientId=OI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,me.Z)(function*(p){Fe("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=C_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function oD(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,me.Z)(function*(a){r.isEqual(a)||(yield mr(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),xA.apply(this,arguments)}function PA(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield OA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Px(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Px(e.remoteStore,a)),n._onlineComponents=e}),NA.apply(this,arguments)}function qx(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function OA(n){return kA.apply(this,arguments)}function kA(){return kA=(0,me.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield oD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!qx(t))throw t;go("Error using user provided cache. Falling back to memory cache: "+t),yield oD(n,new x0)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield oD(n,new x0);return n._offlineComponents}),kA.apply(this,arguments)}function aD(n){return FA.apply(this,arguments)}function FA(){return FA=(0,me.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield PA(n,n._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield PA(n,new M_))),n._onlineComponents}),FA.apply(this,arguments)}function Wx(n){return OA(n).then(e=>e.persistence)}function uD(n){return OA(n).then(e=>e.localStore)}function Zx(n){return aD(n).then(e=>e.remoteStore)}function LA(n){return aD(n).then(e=>e.syncEngine)}function R_(n){return VA.apply(this,arguments)}function VA(){return VA=(0,me.Z)(function*(n){const e=yield aD(n),t=e.eventManager;return t.onListen=Yk.bind(null,e.syncEngine),t.onUnlisten=Qk.bind(null,e.syncEngine),t}),VA.apply(this,arguments)}function Yx(n,e,t={}){const r=new sr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,a,l,p,y){const E=new sD({next:R=>{a.enqueueAndForget(()=>tA(i,T));const k=R.docs.has(l);!k&&R.fromCache?y.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&p&&"server"===p.source?y.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new iA(xd(l.path),E,{includeMetadataChanges:!0,Ku:!0});return JS(i,T)}(yield R_(n),n.asyncQueue,e,t,r)})),r.promise}function Qx(n,e,t={}){const r=new sr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,a,l,p,y){const E=new sD({next:R=>{a.enqueueAndForget(()=>tA(i,T)),R.fromCache&&"server"===p.source?y.reject(new Ce(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new iA(l,E,{includeMetadataChanges:!0,Ku:!0});return JS(i,T)}(yield R_(n),n.asyncQueue,e,t,r)})),r.promise}function Xx(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Jx=new Map;function UA(n,e,t){if(!t)throw new Ce(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eP(n,e,t,r){if(!0===e&&!0===r)throw new Ce(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tP(n){if(!Je.isDocumentKey(n))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nP(n){if(Je.isDocumentKey(n))throw new Ce(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lD(n);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function rP(n,e){if(e<=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class iP{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Xx(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new bT;switch(t.type){case"firstParty":return new NI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jx.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),Jx.delete(e),t.terminate())}(this),Promise.resolve()}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class ts{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class dc extends ts{constructor(e,t,r){super(e,t,xd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Je(e))}withConverter(e){return new dc(this.firestore,e,this._path)}}function oP(n,e,...t){if(n=(0,Yt.m9)(n),UA("collection","path",e),n instanceof P0){const r=hn.fromString(e,...t);return nP(r),new dc(n,null,r)}{if(!(n instanceof ar||n instanceof dc))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return nP(r),new dc(n.firestore,null,r)}}function cD(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=OI.A()),UA("doc","path",e),n instanceof P0){const r=hn.fromString(e,...t);return tP(r),new ar(n,null,new Je(r))}{if(!(n instanceof ar||n instanceof dc))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return tP(r),new ar(n.firestore,n instanceof dc?n.converter:null,new Je(r))}}function aP(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof ar||n instanceof dc)&&(e instanceof ar||e instanceof dc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function BA(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof ts&&e instanceof ts&&n.firestore===e.firestore&&Gg(n._query,e._query)&&n.converter===e.converter}class AF{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new NS(this,"async_queue_retry"),this.Xc=()=>{const t=nD();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=nD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=nD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new sr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,me.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Uu(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,pr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=XS.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&ut()}verifyOperationInProgress(){}sa(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function jA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class MF{constructor(){this._progressObserver={},this._taskCompletionResolver=new sr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ur extends P0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new AF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uP(this),this._firestoreClient.terminate()}}function qr(n){return n._firestoreClient||uP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uP(n){var e,t,r;const i=n._freezeSettings(),a=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new KI(n._databaseId,p,n._persistenceKey,(E=i).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Xx(E.experimentalLongPollingOptions),E.useFetchStreams));var p,E;n._firestoreClient=new _F(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function lP(n,e,t){const r=new sr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield oD(n,t),yield PA(n,e),r.resolve()}catch(i){const a=i;if(!qx(a))throw a;go("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function cP(n){if(n._initialized||n._terminated)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(Pr.fromBase64String(e))}catch(t){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hc(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class am{constructor(e){this._methodName=e}}class dD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const BF=/^__.*__$/;class jF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $a(e,this.data,this.fieldMask,t,this.fieldTransforms):new kd(e,this.data,t,this.fieldTransforms)}}class dP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class hD{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new hD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return gD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(hP(this.ca)&&BF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $F{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||A0(e)}ya(e,t,r,i=!1){return new hD({ca:e,methodName:t,ga:r,path:gr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(n){const e=n._freezeSettings(),t=A0(n._databaseId);return new $F(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fD(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);GA("Data must be an object, but it was:",l,r);const p=gP(r,l);let y,E;if(a.merge)y=new ps(l.fieldMask),E=l.fieldTransforms;else if(a.mergeFields){const T=[];for(const R of a.mergeFields){const k=k0(e,R,t);if(!l.contains(k))throw new Ce(le.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);yP(T,k)||T.push(k)}y=new ps(T),E=l.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,E=l.fieldTransforms;return new jF(new ci(p),y,E)}class O0 extends am{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O0}}function fP(n,e,t){return new hD({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $A extends am{_toFieldTransform(e){return new jf(e.path,new Nd)}isEqual(e){return e instanceof $A}}class HF extends am{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=fP(this,e,!0),r=this.pa.map(a=>lm(a,t)),i=new Wu(r);return new jf(e.path,i)}isEqual(e){return this===e}}class zF extends am{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=fP(this,e,!0),r=this.pa.map(a=>lm(a,t)),i=new Od(r);return new jf(e.path,i)}isEqual(e){return this===e}}class GF extends am{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Bf(e.serializer,a0(e.serializer,this.Ia));return new jf(e.path,t)}isEqual(e){return this===e}}function HA(n,e,t,r){const i=n.ya(1,e,t);GA("Data must be an object, but it was:",i,r);const a=[],l=ci.empty();js(r,(y,E)=>{const T=pD(e,y,t);E=(0,Yt.m9)(E);const R=i.da(T);if(E instanceof O0)a.push(T);else{const k=lm(E,R);null!=k&&(a.push(T),l.set(T,k))}});const p=new ps(a);return new dP(l,p,i.fieldTransforms)}function zA(n,e,t,r,i,a){const l=n.ya(1,e,t),p=[k0(e,r,t)],y=[i];if(a.length%2!=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<a.length;k+=2)p.push(k0(e,a[k])),y.push(a[k+1]);const E=[],T=ci.empty();for(let k=p.length-1;k>=0;--k)if(!yP(E,p[k])){const V=p[k];let $=y[k];$=(0,Yt.m9)($);const ee=l.da(V);if($ instanceof O0)E.push(V);else{const oe=lm($,ee);null!=oe&&(E.push(V),T.set(V,oe))}}const R=new ps(E);return new dP(T,R,l.fieldTransforms)}function pP(n,e,t,r=!1){return lm(t,n.ya(r?4:3,e))}function lm(n,e){if(mP(n=(0,Yt.m9)(n)))return GA("Unsupported field value:",e,n),gP(n,e);if(n instanceof am)return function(t,r){if(!hP(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let p=lm(l,r.wa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return a0(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=zn.fromDate(t);return{timestampValue:Vd(r.serializer,i)}}if(t instanceof zn){const i=new zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Vd(r.serializer,i)}}if(t instanceof dD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hc)return{bytesValue:d0(r.serializer,t._byteString)};if(t instanceof ar){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:h0(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${lD(t)}`)}(n,e)}function gP(n,e){const t={};return $w(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(n,(r,i)=>{const a=lm(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function mP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof dD||n instanceof hc||n instanceof ar||n instanceof am)}function GA(n,e,t){if(!mP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function k0(n,e,t){if((e=(0,Yt.m9)(e))instanceof Wd)return e._internalPath;if("string"==typeof e)return pD(n,e);throw gD("Field path arguments must be of type string or ",n,!1,void 0,t)}const qF=new RegExp("[~\\*/\\[\\]]");function pD(n,e,t){if(e.search(qF)>=0)throw gD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wd(...e.split("."))._internalPath}catch{throw gD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gD(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new Ce(le.INVALID_ARGUMENT,p+n+y)}function yP(n,e){return n.some(t=>t.isEqual(e))}class F0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new WF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class WF extends F0{data(){return super.data()}}function mD(n,e){return"string"==typeof e?pD(n,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}function _P(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ce(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qA{}class L0 extends qA{}function Qf(n,e,...t){let r=[];e instanceof qA&&r.push(e),r=r.concat(t),function(i){const a=i.filter(p=>p instanceof x_).length,l=i.filter(p=>p instanceof V0).length;if(a>1||a>0&&l>0)throw new Ce(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class V0 extends L0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new V0(e,t,r)}_apply(e){const t=this._parse(e);return IP(e._query,t),new ts(e.firestore,e.converter,r0(e._query,t))}_parse(e){const t=um(e.firestore);return function(i,a,l,p,y,E,T){let R;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Ce(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){EP(T,E);const k=[];for(const V of T)k.push(wP(p,i,V));R={arrayValue:{values:k}}}else R=wP(p,i,T)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||EP(T,E),R=pP(l,"where",T,"in"===E||"not-in"===E);return un.create(y,E,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class x_ extends qA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new x_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:In.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const p of l)IP(a,p),a=r0(a,p)}(e._query,t),new ts(e.firestore,e.converter,r0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class WA extends L0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WA(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new kf(i,a);return function(p,y){if(null===Ky(p)){const E=Hg(p);null!==E&&bP(0,E,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ba(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class yD extends L0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new yD(e,t,r)}_apply(e){return new ts(e.firestore,e.converter,zg(e._query,this._limit,this._limitType))}}class _D extends L0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new _D(e,t,r)}_apply(e){const t=vP(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(i=t,new Ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class vD extends L0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vD(e,t,r)}_apply(e){const t=vP(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(i=t,new Ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function vP(n,e,t,r){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof F0)return function(i,a,l,p,y){if(!p)throw new Ce(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const E=[];for(const T of oc(i))if(T.field.isKeyField())E.push(Md(a,p.key));else{const R=p.data.field(T.field);if(Ly(R))throw new Ce(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const k=T.field.canonicalString();throw new Ce(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}E.push(R)}return new Gu(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=um(n.firestore);return function(a,l,p,y,E,T){const R=a.explicitOrderBy;if(E.length>R.length)throw new Ce(le.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let V=0;V<E.length;V++){const $=E[V];if(R[V].field.isKeyField()){if("string"!=typeof $)throw new Ce(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof $}`);if(!n0(a)&&-1!==$.indexOf("/"))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${$}' contains a slash.`);const ee=a.path.child(hn.fromString($));if(!Je.isDocumentKey(ee))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const oe=new Je(ee);k.push(Md(l,oe))}else{const ee=pP(p,y,$);k.push(ee)}}return new Gu(k,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function wP(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n0(e)&&-1!==t.indexOf("/"))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hn.fromString(t));if(!Je.isDocumentKey(r))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Md(n,new Je(r))}if(t instanceof ar)return Md(n,t._key);throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lD(t)}.`)}function EP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ce(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IP(n,e){if(e.isInequality()){const r=Hg(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=Ky(n);null!==a&&bP(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ce(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function bP(n,e,t){if(!t.isEqual(e))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ZA{convertValue(e,t="none"){switch(ic(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return js(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new dD(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vg(e));default:return null}}convertTimestamp(e){const t=Bu(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hn.fromString(e);wt(jb(r));const i=new Sd(r.get(1),r.get(3)),a=new Je(r.popFirst(5));return i.isEqual(t)||pr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function wD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class nL extends ZA{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}class cm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zd extends F0{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new U0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class U0 extends Zd{data(e={}){return super.data(e)}}class Xf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new U0(this._firestore,this._userDataWriter,r.key,r,new cm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new U0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const p=new U0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cm(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,E=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),E=a.indexOf(l.doc.key)),{type:iL(l.type),doc:p,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function CP(n,e){return n instanceof Zd&&e instanceof Zd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xf&&e instanceof Xf&&n._firestore===e._firestore&&BA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Jf extends ZA{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function TP(n,e,t){n=fn(n,ar);const r=fn(n.firestore,ur),i=wD(n.converter,e,t);return P_(r,[fD(um(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Gn.none())])}function SP(n,e,t,...r){n=fn(n,ar);const i=fn(n.firestore,ur),a=um(i);let l;return l="string"==typeof(e=(0,Yt.m9)(e))||e instanceof Wd?zA(a,"updateDoc",n._key,e,t,r):HA(a,"updateDoc",n._key,e),P_(i,[l.toMutation(n._key,Gn.exists(!0))])}function AP(n,...e){var t,r,i;n=(0,Yt.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||jA(e[l])||(a=e[l],l++);const p={includeMetadataChanges:a.includeMetadataChanges};if(jA(e[l])){const R=e[l];e[l]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[l+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[l+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let y,E,T;if(n instanceof ar)E=fn(n.firestore,ur),T=xd(n._key.path),y={next:R=>{e[l]&&e[l](KA(E,n,R))},error:e[l+1],complete:e[l+2]};else{const R=fn(n,ts);E=fn(R.firestore,ur),T=R._query;const k=new Jf(E);y={next:V=>{e[l]&&e[l](new Xf(E,k,R,V))},error:e[l+1],complete:e[l+2]},_P(n._query)}return function(R,k,V,$){const ee=new sD($),oe=new iA(k,ee,V);return R.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return JS(yield R_(R),oe)})),()=>{ee.Dc(),R.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return tA(yield R_(R),oe)}))}}(qr(E),T,p,y)}function P_(n,e){return function(t,r){const i=new sr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function Xk(n,e,t){return lA.apply(this,arguments)}(yield LA(t),r,i)})),i.promise}(qr(n),e)}function KA(n,e,t){const r=t.docs.get(e._key),i=new Jf(n);return new Zd(n,i,e._key,r,new cm(t.hasPendingWrites,t.fromCache),e.converter)}const IL={maxAttempts:5};class MP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=um(e)}set(e,t,r){this._verifyNotCommitted();const i=ep(e,this._firestore),a=wD(i.converter,t,r),l=fD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Gn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=ep(e,this._firestore);let l;return l="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Wd?zA(this._dataReader,"WriteBatch.update",a._key,t,r,i):HA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ep(e,this._firestore);return this._mutations=this._mutations.concat(new Fd(t._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ep(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new Ce(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=um(e)}get(e){const t=ep(e,this._firestore),r=new nL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ut();const a=i[0];if(a.isFoundDocument())return new F0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new F0(this._firestore,r,t._key,null,t.converter);throw ut()})}set(e,t,r){const i=ep(e,this._firestore),a=wD(i.converter,t,r),l=fD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=ep(e,this._firestore);let l;return l="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Wd?zA(this._dataReader,"Transaction.update",a._key,t,r,i):HA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=ep(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ep(e,this._firestore),r=new Jf(this._firestore);return super.get(e).then(i=>new Zd(this._firestore,r,t._key,i._document,new cm(!1,!1),t.converter))}}!function(n,e=!0){Vu=Ko.SDK_VERSION,(0,Ko._registerComponent)(new rf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new ur(new My(t.getProvider("auth-internal")),new CT(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(p.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Ko.registerVersion)(Dd,"3.12.0",n),(0,Ko.registerVersion)(Dd,"3.12.0","esm2017")}();function YA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ce("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function xP(){if(typeof Uint8Array>"u")throw new Ce("unimplemented","Uint8Arrays are not available in this environment.")}function PP(){if(!function Gw(){return typeof atob<"u"}())throw new Ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}class B0{constructor(e){this._delegate=e}static fromBase64String(e){return PP(),new B0(hc.fromBase64String(e))}static fromUint8Array(e){return xP(),new B0(hc.fromUint8Array(e))}toBase64(){return PP(),this._delegate.toBase64()}toUint8Array(){return xP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QA(n){return function PL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class NL{enableIndexedDbPersistence(e,t){return function xF(n,e){cP(n=fn(n,ur));const t=qr(n);if(t._uninitializedComponentsProvider)throw new Ce(le.FAILED_PRECONDITION,"SDK cache is already specified.");go("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new M_;return lP(t,i,new RA(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function PF(n){cP(n=fn(n,ur));const e=qr(n);if(e._uninitializedComponentsProvider)throw new Ce(le.FAILED_PRECONDITION,"SDK cache is already specified.");go("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new M_;return lP(e,r,new zx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function NF(n){if(n._initialized&&!n._terminated)throw new Ce(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new sr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!ta.D())return Promise.resolve();const i=r+"main";yield ta.delete(i)}),function(r){return t.apply(this,arguments)})(dt(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class NP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Sd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&go("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function sP(n,e,t,r={}){var i;const a=(n=fn(n,P0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&go("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,p;if("string"==typeof r.mockUserToken)l=r.mockUserToken,p=ai.MOCK_USER;else{l=(0,Yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ai(y)}n._authCredentials=new DT(new xI(l,p))}}(this._delegate,e,t,r)}enableNetwork(){return function kF(n){return function vF(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Wx(n),t=yield Zx(n);return e.setNetworkEnabled(!0),function(r){const i=et(r);return i.vu.delete(0),M0(i)}(t)}))}(qr(n=fn(n,ur)))}(this._delegate)}disableNetwork(){return function FF(n){return function wF(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Wx(n),t=yield Zx(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(i){const a=et(i);a.vu.add(0),yield I_(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(qr(n=fn(n,ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,eP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function OF(n){return function(e){const t=new sr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function nF(n,e){return pA.apply(this,arguments)}(yield LA(e),t)})),t.promise}(qr(n=fn(n,ur)))}(this._delegate)}onSnapshotsInSync(e){return function fL(n,e){return function bF(n,e){const t=new sD(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield R_(n),i=t,et(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield R_(n),i=t,void et(r).ku.delete(i);var r,i}))}}(qr(n=fn(n,ur)),jA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ce("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new N_(this,oP(this._delegate,e))}catch(t){throw $s(t,"collection()","Firestore.collection()")}}doc(e){try{return new za(this,cD(this._delegate,e))}catch(t){throw $s(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hs(this,function SF(n,e){if(n=fn(n,P0),UA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(n,null,(t=e,new Ba(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw $s(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function DL(n,e,t){n=fn(n,ur);const r=Object.assign(Object.assign({},IL),t);return function(i){if(i.maxAttempts<1)throw new Ce(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const p=new sr;return i.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const y=yield function Kx(n){return aD(n).then(e=>e.datastore)}(i);new yF(i.asyncQueue,y,l,a,p).run()})),p.promise}(qr(n),i=>e(new bL(n,i)),r)}(this._delegate,t=>e(new OP(this,t)))}batch(){return qr(this._delegate),new kP(new MP(this._delegate,e=>P_(this._delegate,e)))}loadBundle(e){return function LF(n,e){const t=qr(n=fn(n,ur)),r=new MF;return function DF(n,e,t,r){const i=function(a,l){let p;return p="string"==typeof a?l0().encode(a):a,y=function(y,E){if(y instanceof Uint8Array)return Gx(y,E);if(y instanceof ArrayBuffer)return Gx(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new gF(y,l);var y}(t,A0(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function fF(n,e,t){const r=et(n);var i;(i=(0,me.Z)(function*(a,l,p){try{const y=yield l.getMetadata();if(yield function(k,V){const $=et(k),ee=bn(V.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",oe=>$.qs.getBundleMetadata(oe,V.id)).then(oe=>!!oe&&oe.createTime.compareTo(ee)>=0)}(a.localStore,y))return yield l.close(),p._completeWith({taskState:"Success",documentsLoaded:(k=y).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);p._updateProgress(kx(y));const E=new qk(y,a.localStore,l.serializer);let T=yield l.bc();for(;T;){const k=yield E.zu(T);k&&p._updateProgress(k),T=yield l.bc()}const R=yield E.complete();return yield qd(a,R.Ju,void 0),yield function(k,V){const $=et(k);return $.persistence.runTransaction("Save bundle","readwrite",ee=>$.qs.saveBundleMetadata(ee,V))}(a.localStore,y),p._completeWith(R.progress),Promise.resolve(R.Hu)}catch(y){return go("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var k}),function(a,l,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield LA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function VF(n,e){return function CF(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const i=et(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield uD(n),e)}))}(qr(n=fn(n,ur)),e).then(t=>t?new ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Hs(this,t):null)}}class ED extends ZA{constructor(e){super(),this.firestore=e}convertBytes(e){return new B0(new hc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return za.forKey(t,this.firestore,null)}}class OP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ED(e)}get(e){const t=hm(e);return this._delegate.get(t).then(r=>new j0(this._firestore,new Zd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=hm(e);return r?(YA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=hm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=hm(e);return this._delegate.delete(t),this}}class kP{constructor(e){this._delegate=e}set(e,t,r){const i=hm(e);return r?(YA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=hm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=hm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new U0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=dm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new dm(e,new ED(e),t),i.set(t,a)),a}}dm.INSTANCES=new WeakMap;class za{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ED(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new za(t,new ar(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new za(t,new ar(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new N_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new N_(this.firestore,oP(this._delegate,e))}catch(t){throw $s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof ar&&aP(this._delegate,e)}set(e,t){t=YA("DocumentReference.set",t);try{return t?TP(this._delegate,e,t):TP(this._delegate,e)}catch(r){throw $s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?SP(this._delegate,e):SP(this._delegate,e,t,...r)}catch(i){throw $s(i,"updateDoc()","DocumentReference.update()")}}delete(){return function dL(n){return P_(fn(n.firestore,ur),[new Fd(n._key,Gn.none())])}(this._delegate)}onSnapshot(...e){const t=FP(e),r=LP(e,i=>new j0(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return AP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function oL(n){n=fn(n,ar);const e=fn(n.firestore,ur),t=qr(e),r=new Jf(e);return function EF(n,e){const t=new sr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,a,l){try{const p=yield function(y,E){const T=et(y);return T.persistence.runTransaction("read document","readonly",R=>T.localDocuments.getDocument(R,E))}(i,a);p.isFoundDocument()?l.resolve(p):p.isNoDocument()?l.resolve(null):l.reject(new Ce(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=C_(p,`Failed to get document '${a} from cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield uD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Zd(e,r,n._key,i,new cm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function aL(n){n=fn(n,ar);const e=fn(n.firestore,ur);return Yx(qr(e),n._key,{source:"server"}).then(t=>KA(e,n,t))}(this._delegate):function sL(n){n=fn(n,ar);const e=fn(n.firestore,ur);return Yx(qr(e),n._key).then(t=>KA(e,n,t))}(this._delegate),t.then(r=>new j0(this.firestore,new Zd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new za(this.firestore,this._delegate.withConverter(e?dm.getInstance(this.firestore,e):null))}}function $s(n,e,t){return n.message=n.message.replace(e,t),n}function FP(n){for(const e of n)if("object"==typeof e&&!QA(e))return e;return{}}function LP(n,e){var t,r;let i;return i=QA(n[0])?n[0]:QA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class j0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return CP(this._delegate,e._delegate)}}class $0 extends j0{data(e){const t=this._delegate.data(e);return function RI(n,e){n||ut()}(void 0!==t),t}}class Hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ED(e)}where(e,t,r){try{return new Hs(this.firestore,Qf(this._delegate,function ZF(n,e,t){const r=e,i=mD("where",n);return V0._create(i,r,t)}(e,t,r)))}catch(i){throw $s(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Hs(this.firestore,Qf(this._delegate,function KF(n,e="asc"){const t=e,r=mD("orderBy",n);return WA._create(r,t)}(e,t)))}catch(r){throw $s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hs(this.firestore,Qf(this._delegate,function YF(n){return rP("limit",n),yD._create("limit",n,"F")}(e)))}catch(t){throw $s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Hs(this.firestore,Qf(this._delegate,function QF(n){return rP("limitToLast",n),yD._create("limitToLast",n,"L")}(e)))}catch(t){throw $s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hs(this.firestore,Qf(this._delegate,function XF(...n){return _D._create("startAt",n,!0)}(...e)))}catch(t){throw $s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hs(this.firestore,Qf(this._delegate,function JF(...n){return _D._create("startAfter",n,!1)}(...e)))}catch(t){throw $s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hs(this.firestore,Qf(this._delegate,function eL(...n){return vD._create("endBefore",n,!1)}(...e)))}catch(t){throw $s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hs(this.firestore,Qf(this._delegate,function tL(...n){return vD._create("endAt",n,!0)}(...e)))}catch(t){throw $s(t,"endAt()","Query.endAt()")}}isEqual(e){return BA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function lL(n){n=fn(n,ts);const e=fn(n.firestore,ur),t=qr(e),r=new Jf(e);return function IF(n,e){const t=new sr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,a,l){try{const p=yield Xb(i,a,!0),y=new Vx(a,p.ir),E=y.sc(p.documents),T=y.applyChanges(E,!1);l.resolve(T.snapshot)}catch(p){const y=C_(p,`Failed to execute query '${a} against cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield uD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Xf(e,r,n,i))}(this._delegate):"server"===e?.source?function cL(n){n=fn(n,ts);const e=fn(n.firestore,ur),t=qr(e),r=new Jf(e);return Qx(t,n._query,{source:"server"}).then(i=>new Xf(e,r,n,i))}(this._delegate):function uL(n){n=fn(n,ts);const e=fn(n.firestore,ur),t=qr(e),r=new Jf(e);return _P(n._query),Qx(t,n._query).then(i=>new Xf(e,r,n,i))}(this._delegate),t.then(r=>new XA(this.firestore,new Xf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=FP(e),r=LP(e,i=>new XA(this.firestore,new Xf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return AP(this._delegate,t,r)}withConverter(e){return new Hs(this.firestore,this._delegate.withConverter(e?dm.getInstance(this.firestore,e):null))}}class kL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $0(this._firestore,r))})}isEqual(e){return CP(this._delegate,e._delegate)}}class N_ extends Hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new za(this.firestore,e):null}doc(e){try{return new za(this.firestore,void 0===e?cD(this._delegate):cD(this._delegate,e))}catch(t){throw $s(t,"doc()","CollectionReference.doc()")}}add(e){return function hL(n,e){const t=fn(n.firestore,ur),r=cD(n),i=wD(n.converter,e);return P_(t,[fD(um(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new za(this.firestore,t))}isEqual(e){return aP(this._delegate,e._delegate)}withConverter(e){return new N_(this.firestore,this._delegate.withConverter(e?dm.getInstance(this.firestore,e):null))}}function hm(n){return fn(n,ar)}class JA{constructor(...e){this._delegate=new Wd(...e)}static documentId(){return new JA(gr.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof Wd&&this._delegate._internalPath.isEqual(e._internalPath)}}class fm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function TL(){return new $A("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new fm(e)}static delete(){const e=function CL(){return new O0("deleteField")}();return e._methodName="FieldValue.delete",new fm(e)}static arrayUnion(...e){const t=function SL(...n){return new HF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new fm(t)}static arrayRemove(...e){const t=function AL(...n){return new zF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new fm(t)}static increment(e){const t=function ML(n){return new GF("increment",n)}(e);return t._methodName="FieldValue.increment",new fm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const FL={Firestore:NP,GeoPoint:dD,Timestamp:zn,Blob:B0,Transaction:OP,WriteBatch:kP,DocumentReference:za,DocumentSnapshot:j0,Query:Hs,QueryDocumentSnapshot:$0,QuerySnapshot:XA,CollectionReference:N_,FieldPath:JA,FieldValue:fm,setLogLevel:function OL(n){!function nx(n){ea.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function VL(n){(function LL(n,e){n.INTERNAL.registerComponent(new rf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},FL)))})(n,(e,t)=>new NP(e,t,new NL)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(xv.Z);var UL=F(6451),ID=F(5363),BL=F(6063);class jL extends Br.x{constructor(e=1/0,t=1/0,r=BL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)p=y;p&&r.splice(0,p+1)}}}var $L=F(3099);function VP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,$L.B)({connector:()=>new jL(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function UP(n,e){return(0,Eu.m)(e)?$n(()=>n,e):$n(()=>n)}var eM=F(9468);F(259);const nM=new Map,jP={activated:!1,tokenObservers:[]},WL={initialized:!1,enabled:!1};function Nr(n){return nM.get(n)||Object.assign({},jP)}function DD(){return WL}const rM="https://content-firebaseappcheck.googleapis.com/v1",QL="exchangeDebugToken",$P={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class JL{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function e2(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ns=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function oM(){return oM=(0,me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const R=yield i.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,p;try{l=yield fetch(n,a)}catch(R){throw ns.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==l.status)throw ns.create("fetch-status-error",{httpStatus:l.status});try{p=yield l.json()}catch(R){throw ns.create("fetch-parse-error",{originalErrorMessage:R?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw ns.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const E=1e3*Number(y[1]),T=Date.now();return{token:p.token,expireTimeMillis:T+E,issuedAtTimeMillis:T}}),oM.apply(this,arguments)}const i2="firebase-app-check-database",s2=1,H0="firebase-app-check-store";let AD=null;function aM(){return aM=(0,me.Z)(function*(n,e){const r=(yield function GP(){return AD||(AD=new Promise((n,e)=>{try{const t=indexedDB.open(i2,s2);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ns.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(H0,{keyPath:"compositeKey"})}}catch(t){e(ns.create("storage-open",{originalErrorMessage:t?.message}))}}),AD)}()).transaction(H0,"readwrite"),a=r.objectStore(H0).put({compositeKey:n,value:e});return new Promise((l,p)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var E;p(ns.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})}),aM.apply(this,arguments)}const z0=new Ou.Yd("@firebase/app-check");function cM(n,e){return(0,Yt.hl)()?function a2(n,e){return function qP(n,e){return aM.apply(this,arguments)}(function ZP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{z0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function pM(){return pM=(0,me.Z)(function*(){const n=DD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pM.apply(this,arguments)}const f2={error:"UNKNOWN_ERROR"};function p2(n){return Yt.US.encodeString(JSON.stringify(n),!1)}function MD(n){return gM.apply(this,arguments)}function gM(){return gM=(0,me.Z)(function*(n,e=!1){const t=n.app;!function iM(n){if(!Nr(n).activated)throw ns.create("use-before-activation",{appName:n.name})}(t);const r=Nr(t);let a,i=r.token;if(i&&!O_(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(O_(y)?i=y:yield cM(t,void 0))}if(!e&&i&&O_(i))return{token:i.token};let p,l=!1;if(function hM(){return DD().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function SD(n,e){return oM.apply(this,arguments)}(function HP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${rM}/projects/${t}/apps/${r}:${QL}?key=${i}`,body:{debug_token:e}}}(t,yield function fM(){return pM.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield cM(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Nr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?z0.warn(y.message):z0.error(y),a=y}return i?a?p=O_(i)?{token:i.token,internalError:a}:QP(a):(p={token:i.token},r.token=i,yield cM(t,i)):p=QP(a),l&&function YP(n,e){const t=Nr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,p),p}),gM.apply(this,arguments)}function _M(n,e){const t=Nr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function KP(n){const{app:e}=n,t=Nr(e);let r=t.tokenRefresher;r||(r=function m2(n){const{app:e}=n;return new JL((0,me.Z)(function*(){let r;if(r=Nr(e).token?yield MD(n,!0):yield MD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Nr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},$P.RETRIAL_MIN_WAIT,$P.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function O_(n){return n.expireTimeMillis-Date.now()>0}function QP(n){return{token:p2(f2),error:n}}class y2{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Nr(this.app);for(const t of e)_M(this.app,t.next);return Promise.resolve()}}const sN="app-check-internal";!function x2(){(0,Ko._registerComponent)(new rf.wA("app-check",n=>function _2(n,e){return new y2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sN).initialize()})),(0,Ko._registerComponent)(new rf.wA(sN,n=>function v2(n){return{getToken:e=>MD(n,e),addTokenListener:e=>function yM(n,e,t,r){const{app:i}=n,a=Nr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&O_(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),KP(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>KP(n))}(n,"INTERNAL",e),removeTokenListener:e=>_M(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ko.registerVersion)("@firebase/app-check","0.7.0")}();class xD{constructor(){return(0,Vn.vb)("app-check")}}typeof window<"u"&&window;const aN=new d.OlP("angularfire2.auth.use-emulator"),uN=new d.OlP("angularfire2.auth.settings"),lN=new d.OlP("angularfire2.auth.tenant-id"),cN=new d.OlP("angularfire2.auth.langugage-code"),dN=new d.OlP("angularfire2.auth.use-device-language"),hN=new d.OlP("angularfire.auth.persistence"),fN=(n,e,t,r,i,a,l,p)=>(0,wi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[E,T]of Object.entries(l))y.settings[E]=T;return p&&y.setPersistence(p),y},[t,r,i,a,l,p]);let bM=(()=>{class n{constructor(t,r,i,a,l,p,y,E,T,R,k,V){const $=new Br.x,ee=lt(void 0).pipe((0,ID.Q)(l.outsideAngular),$n(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2644)))),(0,gt.U)(()=>(0,wi.on)(t,a,r)),(0,gt.U)(oe=>fN(oe,a,p,E,T,R,y,k)),VP({bufferSize:1,refCount:!1}));if(Cs(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{ee.pipe(Ki()).subscribe();const Me=ee.pipe($n(Ke=>Ke.getRedirectResult().then(At=>At,()=>null)),Vn.iC,VP({bufferSize:1,refCount:!1})),Ze=ee.pipe($n(Ke=>new ni.y(At=>({unsubscribe:a.runOutsideAngular(()=>Ke.onAuthStateChanged(kt=>At.next(kt),kt=>At.error(kt),()=>At.complete()))})))),Ue=ee.pipe($n(Ke=>new ni.y(At=>({unsubscribe:a.runOutsideAngular(()=>Ke.onIdTokenChanged(kt=>At.next(kt),kt=>At.error(kt),()=>At.complete()))}))));this.authState=Me.pipe(UP(Ze),(0,eM.R)(l.outsideAngular),(0,ID.Q)(l.insideAngular)),this.user=Me.pipe(UP(Ue),(0,eM.R)(l.outsideAngular),(0,ID.Q)(l.insideAngular)),this.idToken=this.user.pipe($n(Ke=>Ke?(0,sn.D)(Ke.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe($n(Ke=>Ke?(0,sn.D)(Ke.getIdTokenResult()):lt(null))),this.credential=(0,UL.T)(Me,$,this.authState.pipe(ri(Ke=>!Ke))).pipe((0,gt.U)(Ke=>Ke?.user?Ke:null),(0,eM.R)(l.outsideAngular),(0,ID.Q)(l.insideAngular))}return(0,wi.pX)(this,ee,a,{spy:{apply:(oe,Me,Ze)=>{(oe.startsWith("signIn")||oe.startsWith("createUser"))&&Ze.then(Ue=>$.next(Ue))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wi.Dh),d.LFG(wi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Vn.HU),d.LFG(aN,8),d.LFG(uN,8),d.LFG(lN,8),d.LFG(cN,8),d.LFG(dN,8),d.LFG(hN,8),d.LFG(xD,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),L2=(()=>{class n{constructor(){ef.Z.registerVersion("angularfire",Vn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[bM]}),n})();function pN(n,e){return function V2(n,e=tf.z){return new ni.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function DM(n,e){return pN(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function PD(n,e){return DM(n,e).pipe(jo(void 0),nf(),(0,gt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,p)=>{const y=i.find(T=>T.doc.ref.isEqual(l.ref)),E=t?.payload.docs.find(T=>T.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:l}})}),a}))}function gN(n,e,t){return PD(n,t).pipe(Ll((r,i)=>function B2(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function j2(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return CM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return CM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return CM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function jE(n,e=to.y){return n=n??Rv,(0,xr.e)((t,r)=>{let i,a=!0;t.subscribe((0,Ir.x)(r,l=>{const p=e(l);(a||!n(i,p))&&(a=!1,i=p,r.next(l))}))})}(),(0,gt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function CM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function mN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=PD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(jo(void 0),nf(),ri(([r,i])=>i.length>0||!r),(0,gt.U)(([r,i])=>i),Vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ll((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=mN(e);return gN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return DM(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Vn.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Vn.iC)}add(e){return this.ref.add(e)}doc(e){return new _N(this.ref.doc(e),this.afs)}}class _N{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=EN(r,t);return new yN(i,a,this.afs)}snapshotChanges(){return function U2(n,e){return pN(n,e).pipe(jo(void 0),nf(),(0,gt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,sn.D)(this.ref.get(e)).pipe(Vn.iC)}}class $2{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?PD(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ri(t=>t.length>0),Vn.iC):PD(this.query,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ll((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=mN(e);return gN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vn.iC)}valueChanges(e={}){return DM(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Vn.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Vn.iC)}}const vN=new d.OlP("angularfire2.enableFirestorePersistence"),wN=new d.OlP("angularfire2.firestore.persistenceSettings"),H2=new d.OlP("angularfire2.firestore.settings"),z2=new d.OlP("angularfire2.firestore.use-emulator");function EN(n,e=(t=>t)){return{query:e(n),ref:n}}let ND=(()=>{class n{constructor(t,r,i,a,l,p,y,E,T,R,k,V,$,ee,oe,Me,Ze){this.schedulers=y;const Ue=(0,wi.on)(t,p,r),Ke=T;R&&fN(Ue,p,k,$,ee,oe,V,Me),[this.firestore,this.persistenceEnabled$]=(0,wi.cc)(`${Ue.name}.firestore`,"AngularFirestore",Ue.name,()=>{const At=p.runOutsideAngular(()=>Ue.firestore());if(a&&At.settings(a),Ke&&At.useEmulator(...Ke),i&&!Cs(l)){const kt=()=>{try{return(0,sn.D)(At.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(pn){return typeof console<"u"&&console.warn(pn),lt(!1)}};return[At,p.runOutsideAngular(kt)]}return[At,lt(!1)]},[a,Ke,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=EN(i,r),p=this.schedulers.ngZone.run(()=>a);return new yN(p,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new $2(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new _N(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wi.Dh),d.LFG(wi.xv,8),d.LFG(vN,8),d.LFG(H2,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Vn.HU),d.LFG(wN,8),d.LFG(z2,8),d.LFG(bM,8),d.LFG(aN,8),d.LFG(uN,8),d.LFG(lN,8),d.LFG(cN,8),d.LFG(dN,8),d.LFG(hN,8),d.LFG(xD,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),G2=(()=>{class n{constructor(){ef.Z.registerVersion("angularfire",Vn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:vN,useValue:!0},{provide:wN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ND]}),n})(),TM=(()=>{class n{constructor(t){this.afs=t}loadFeatured(){return this.afs.collection("abhisposts",t=>t.where("isFeatured","==",!0).limit(4)).snapshotChanges().pipe((0,gt.U)(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,data:i}})))}loadLatest(){return this.afs.collection("abhisposts",t=>t.orderBy("createdAt")).snapshotChanges().pipe((0,gt.U)(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,data:i}})))}loadCategoryPosts(t){return this.afs.collection("abhisposts",r=>r.where("category.categoryId","==",t).limit(4)).snapshotChanges().pipe((0,gt.U)(r=>r.map(i=>{const a=i.payload.doc.data();return{id:i.payload.doc.id,data:a}})))}loadOnePost(t){return this.afs.doc(`abhisposts/${t}`).valueChanges()}loadSimilar(t){return this.afs.collection("abhisposts",r=>r.where("category.categoryId","==",t).limit(4)).snapshotChanges().pipe((0,gt.U)(r=>r.map(i=>{const a=i.payload.doc.data();return{id:i.payload.doc.id,data:a}})))}countViews(t){const r={veiws:ef.Z.firestore.FieldValue.increment(939)};this.afs.doc(`abhisposts/${t}`).update(r).then(()=>{console.log("Views Count Updated...!")})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ND))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q2=(()=>{class n{transform(t,r){return t.length>r?t.substr(0,r)+"....":t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=d.Yjl({name:"truncate",type:n,pure:!0}),n})();function W2(n,e){1&n&&(d.TgZ(0,"small",9),d._uU(1,"Featured"),d.qZA())}const Z2=function(n){return["/post",n]};function K2(n,e){if(1&n&&(d.TgZ(0,"div",1),d._UZ(1,"img",2),d.TgZ(2,"div",3)(3,"small",4),d._uU(4),d.qZA(),d.YNc(5,W2,2,0,"small",5),d.TgZ(6,"small",6),d._uU(7),d.qZA(),d.TgZ(8,"h5",7),d._uU(9),d.ALo(10,"truncate"),d.qZA(),d.TgZ(11,"p"),d._uU(12),d.ALo(13,"truncate"),d.qZA(),d.TgZ(14,"small",8),d._uU(15),d.ALo(16,"date"),d.qZA()()()),2&n){const t=d.oxw();d.Q6J("routerLink",d.VKq(16,Z2,t.postData.id)),d.xp6(1),d.s9C("src",t.postData.data.postImgPath,d.LSH),d.xp6(3),d.Oqu(t.postData.data.category.category),d.xp6(1),d.Q6J("ngIf",t.postData.data.isFeatured),d.xp6(2),d.hij("Views - ",t.postData.data.views,""),d.xp6(2),d.hij(" ",d.xi3(10,8,t.postData.data.title,31)," "),d.xp6(3),d.Oqu(d.xi3(13,11,t.postData.data.excerpt,300)),d.xp6(3),d.hij("LAST UPDATED - ",d.lcZ(16,14,t.postData.data.createdAt.toMillis()),"")}}let SM=(()=>{class n{constructor(){}ngOnInit(){console.log(this.postData)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-post-card"]],inputs:{postData:"postData"},decls:1,vars:1,consts:[["class","card shadow-effect ",3,"routerLink",4,"ngIf"],[1,"card","shadow-effect",3,"routerLink"],["alt","post-image",1,"card-img-top",2,"height","240px",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center ml-3",4,"ngIf"],[1,"bg-light","text-info","text-center","ml-3"],[1,"mt-1"],[1,"bg-light","text-warning","text-center","ml-3"],[1,"bg-light","text-success","text-center","ml-3"]],template:function(t,r){1&t&&d.YNc(0,K2,17,18,"div",0),2&t&&d.Q6J("ngIf",r.postData)},dependencies:[os,Kh,Xr,q2],styles:[".card[_ngcontent-%COMP%]{max-width:400px;min-height:550px}"]}),n})();function Y2(n,e){if(1&n&&(d.TgZ(0,"div",9),d._UZ(1,"app-post-card",10),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("postData",t)}}function Q2(n,e){if(1&n&&(d.TgZ(0,"div",11),d._UZ(1,"app-post-card",10),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("postData",t)}}let X2=(()=>{class n{constructor(t){this.postService=t}ngOnInit(){this.postService.loadFeatured().subscribe(t=>{this.featuredPostArray=t}),this.postService.loadLatest().subscribe(t=>{this.latestPostArray=t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(TM))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:18,vars:2,consts:[[1,"featured-section"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center","mt-5"],[1,"text-white"],["class","col-lg-3",4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"col-md-12","text-center"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],[1,"col-lg-3"],[3,"postData"],[1,"col-md-4","mt-3"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),d._uU(5,"Featured Posts"),d.qZA(),d.TgZ(6,"p",4),d._uU(7,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic, iste."),d.qZA()()(),d.TgZ(8,"div",2),d.YNc(9,Y2,2,1,"div",5),d.qZA()()(),d.TgZ(10,"section",6)(11,"div",7)(12,"h2"),d._uU(13,"Latest Posts"),d.qZA(),d.TgZ(14,"p"),d._uU(15,"Lorem ipsum dolor sit amet consectetur adipisicing elit."),d.qZA()(),d.TgZ(16,"div",2),d.YNc(17,Q2,2,1,"div",8),d.qZA()()),2&t&&(d.xp6(9),d.Q6J("ngForOf",r.featuredPostArray),d.xp6(8),d.Q6J("ngForOf",r.latestPostArray))},dependencies:[Es,SM],styles:[".featured-section[_ngcontent-%COMP%]{padding-left:130px;padding-right:130px;padding-bottom:130px;background-color:var(--primary-color)}"]}),n})();function J2(n,e){if(1&n&&(d.TgZ(0,"div",6),d._UZ(1,"app-post-card",7),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("postData",t)}}let eV=(()=>{class n{constructor(t,r){this.route=t,this.postService=r}ngOnInit(){this.route.params.subscribe(t=>{this.categoryObj=t,console.log(this.categoryObj),this.postService.loadCategoryPosts(this.categoryObj.id).subscribe(r=>{this.postArray=r,console.log("postsArray: "+this.postArray)})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(fr),d.Y36(TM))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-single-category"]],decls:9,vars:2,consts:[[1,"bg-theme","p-5"],[1,"container"],[1,"text-white"],[1,"container","mt-5","md-5"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[3,"postData"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),d._uU(3),d.qZA(),d.TgZ(4,"p",2),d._uU(5,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptas, inventore."),d.qZA()(),d.TgZ(6,"div",3)(7,"div",4),d.YNc(8,J2,2,1,"div",5),d.qZA()()()),2&t&&(d.xp6(3),d.hij(" ",r.categoryObj.category," "),d.xp6(5),d.Q6J("ngForOf",r.postArray))},dependencies:[Es,SM]}),n})(),IN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),pm=(()=>{class n extends IN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const fc=new d.OlP("NgValueAccessor"),rV={provide:fc,useExisting:(0,d.Gpc)(()=>OD),multi:!0},sV=new d.OlP("CompositionEventMode");let OD=(()=>{class n extends IN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iV(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(sV,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([rV]),d.qOj]}),n})();const oV=!1;function tp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ys=new d.OlP("NgValidators"),np=new d.OlP("NgAsyncValidators"),aV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function SN(n){return tp(n.value)?{required:!0}:null}function MN(n){return tp(n.value)||aV.test(n.value)?null:{email:!0}}function kD(n){return null}function NN(n){return null!=n}function ON(n){const e=(0,d.QGY)(n)?(0,sn.D)(n):n;if(oV&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function kN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function FN(n,e){return e.map(t=>t(n))}function LN(n){return n.map(e=>function uV(n){return!n.validate}(e)?e:t=>e.validate(t))}function AM(n){return null!=n?function VN(n){if(!n)return null;const e=n.filter(NN);return 0==e.length?null:function(t){return kN(FN(t,e))}}(LN(n)):null}function MM(n){return null!=n?function UN(n){if(!n)return null;const e=n.filter(NN);return 0==e.length?null:function(t){return function tV(...n){const e=(0,vi.jO)(n),{args:t,keys:r}=vu(n),i=new ni.y(a=>{const{length:l}=t;if(!l)return void a.complete();const p=new Array(l);let y=l,E=l;for(let T=0;T<l;T++){let R=!1;(0,ba.Xf)(t[T]).subscribe((0,Ir.x)(a,k=>{R||(R=!0,E--),p[T]=k},()=>y--,void 0,()=>{(!y||!R)&&(E||a.next(r?ro(r,p):p),a.complete())}))}});return e?i.pipe(no(e)):i}(FN(t,e).map(ON)).pipe((0,gt.U)(kN))}}(LN(n)):null}function BN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RM(n){return n?Array.isArray(n)?n:[n]:[]}function FD(n,e){return Array.isArray(n)?n.includes(e):n===e}function HN(n,e){const t=RM(e);return RM(n).forEach(i=>{FD(t,i)||t.push(i)}),t}function zN(n,e){return RM(e).filter(t=>!FD(n,t))}class GN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=AM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=MM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zs extends GN{get formDirective(){return null}get path(){return null}}class rp extends GN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let WN=(()=>{class n extends qN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rp,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),xM=(()=>{class n extends qN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zs,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();function ZN(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const OM=!1,G0="VALID",VD="INVALID",k_="PENDING",q0="DISABLED";function kM(n){return(UD(n)?n.validators:n)||null}function FM(n,e){return(UD(e)?e.asyncValidators:n)||null}function UD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class QN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===G0}get invalid(){return this.status===VD}get pending(){return this.status==k_}get disabled(){return this.status===q0}get enabled(){return this.status!==q0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zN(e,this._rawAsyncValidators))}hasValidator(e){return FD(this._rawValidators,e)}hasAsyncValidator(e){return FD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=k_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=q0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=G0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===G0||this.status===k_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?q0:G0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=k_,this._hasOwnPendingAsyncValidator=!0;const t=ON(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?q0:this.errors?VD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(k_)?k_:this._anyControlsHaveStatus(VD)?VD:G0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){UD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gV(n){return Array.isArray(n)?AM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mV(n){return Array.isArray(n)?MM(n):n||null}(this._rawAsyncValidators)}}class LM extends QN{constructor(e,t,r){super(kM(t),FM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function YN(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,OM?function pV(n,e){return`Must supply a value for form control ${ZN(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function KN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,OM?function hV(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new d.vHH(1001,OM?function fV(n,e){return`Cannot find form control ${ZN(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const gm=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>W0}),W0="always";function Z0(n,e,t=W0){VM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function vV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&XN(n,e)})}(n,e),function EV(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function wV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&XN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _V(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $D(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function VM(n,e){const t=function jN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(BN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function $N(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(BN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();$D(e._rawValidators,i),$D(e._rawAsyncValidators,i)}function XN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const TV={provide:zs,useExisting:(0,d.Gpc)(()=>Y0)},K0=(()=>Promise.resolve())();let Y0=(()=>{class n extends zs{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new LM({},AM(t),MM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){K0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Z0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){K0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){K0.then(()=>{const r=this._findContainer(t.path),i=new LM({});(function JN(n,e){VM(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){K0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){K0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function eO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ys,10),d.Y36(np,10),d.Y36(gm,8))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([TV]),d.qOj]}),n})();function tO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function nO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const rO=class extends QN{constructor(e=null,t,r){super(kM(t),FM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),UD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=nO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){nO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},MV={provide:rp,useExisting:(0,d.Gpc)(()=>$M)},oO=(()=>Promise.resolve())();let $M=(()=>{class n extends rp{constructor(t,r,i,a,l,p){super(),this._changeDetectorRef=l,this.callSetDisabledState=p,this.control=new rO,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function jM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===OD?t=a:function DV(n){return Object.getPrototypeOf(n.constructor)===pm}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function BM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Z0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){oO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);oO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function BD(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zs,9),d.Y36(ys,10),d.Y36(np,10),d.Y36(fc,10),d.Y36(d.sBO,8),d.Y36(gm,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([MV]),d.qOj,d.TTD]}),n})(),HM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),uO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const zM=new d.OlP("NgModelWithFormControlWarning");let mm=(()=>{class n{constructor(){this._validator=kD}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):kD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const WV={provide:ys,useExisting:(0,d.Gpc)(()=>zD),multi:!0};let zD=(()=>{class n extends mm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=t=>SN}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([WV]),d.qOj]}),n})();const KV={provide:ys,useExisting:(0,d.Gpc)(()=>YM),multi:!0};let YM=(()=>{class n extends mm{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=d.D6c,this.createValidator=t=>MN}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[d._Bn([KV]),d.qOj]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[uO]}),n})(),eU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gm,useValue:t.callSetDisabledState??W0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[DO]}),n})(),tU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gm,useValue:t.callSetDisabledState??W0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[DO]}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-comment-form"]],decls:17,vars:0,consts:[[1,"card","mt-5","shadow-effect"],[1,"card-body"],["action",""],[1,"form-group"],["for",""],["type","text","placeholder","Enter your name here",1,"form-control","shadow-effect"],["cols","30","rows","10","placeholder","Add your comment here",1,"form-control","shadow-effect"],[1,"btn","btn-info","btn-theme"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h4"),d._uU(3,"Leave a comment"),d.qZA(),d.TgZ(4,"p"),d._uU(5,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis, facere?"),d.qZA(),d.TgZ(6,"form",2)(7,"div",3)(8,"label",4),d._uU(9,"Name"),d.qZA(),d._UZ(10,"input",5),d.qZA(),d.TgZ(11,"div",3)(12,"label",4),d._uU(13,"Commnet"),d.qZA(),d._UZ(14,"textarea",6),d.qZA(),d.TgZ(15,"button",7),d._uU(16,"Add a Comment"),d.qZA()()()())},dependencies:[HM,xM,Y0]}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-comment-list"]],decls:40,vars:0,consts:[[1,"card","mb-5","mt-5","pb-5","shadow-effect"],[1,"card-body"],[1,"mt-3","mb-3"],[1,"comment-box","mt-3"],[1,"mb-0"],[1,"text-danger"],["href","#",1,"mt-1"],["href","#",1,"mt-1","ml-3"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),d._uU(3,"Comments(15,256)"),d.qZA(),d.TgZ(4,"div",3)(5,"h6",4),d._uU(6,"John Doe"),d.qZA(),d.TgZ(7,"small",5),d._uU(8,"LAST UPDATED -MAY 12, 2023"),d.qZA(),d.TgZ(9,"div",2),d._uU(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat repudiandae cupiditate velit est eaque et suscipit ad ex explicabo illo!"),d.qZA(),d.TgZ(11,"a",6),d._uU(12,"Reply"),d.qZA(),d.TgZ(13,"a",7),d._uU(14,"View Reply"),d.qZA(),d._UZ(15,"hr"),d.qZA(),d.TgZ(16,"div",3)(17,"h6",4),d._uU(18,"John Doe"),d.qZA(),d.TgZ(19,"small",5),d._uU(20,"LAST UPDATED -MAY 12, 2023"),d.qZA(),d.TgZ(21,"div",2),d._uU(22,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat repudiandae cupiditate velit est eaque et suscipit ad ex explicabo illo!"),d.qZA(),d.TgZ(23,"a",6),d._uU(24,"Reply"),d.qZA(),d.TgZ(25,"a",7),d._uU(26,"View Reply"),d.qZA(),d._UZ(27,"hr"),d.qZA(),d.TgZ(28,"div",3)(29,"h6",4),d._uU(30,"John Doe"),d.qZA(),d.TgZ(31,"small",5),d._uU(32,"LAST UPDATED -MAY 12, 2023"),d.qZA(),d.TgZ(33,"div",2),d._uU(34,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat repudiandae cupiditate velit est eaque et suscipit ad ex explicabo illo!"),d.qZA(),d.TgZ(35,"a",6),d._uU(36,"Reply"),d.qZA(),d.TgZ(37,"a",7),d._uU(38,"View Reply"),d.qZA(),d._UZ(39,"hr"),d.qZA()()())},styles:[".comment-box[_ngcontent-%COMP%]{padding:15px 35px;background-color:#f0f0f0}"]}),n})();function iU(n,e){1&n&&(d.TgZ(0,"small",14),d._uU(1," Featured "),d.qZA())}function sU(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"app-post-card",15),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("postData",t)}}const oU=[{path:"",component:X2},{path:"category/:category/:id",component:eV},{path:"post/:id",component:(()=>{class n{constructor(t,r){this.route=t,this.postService=r}ngOnInit(){this.route.params.subscribe(t=>{this.postService.countViews(t.id),this.postService.loadOnePost(t.id).subscribe(r=>{console.log(r),this.postData=r,this.loadSimilarPost(this.postData.category.categoryId)})})}loadSimilarPost(t){this.postService.loadSimilar(t).subscribe(r=>{this.similarPostArray=r})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(fr),d.Y36(TM))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-single-post"]],decls:21,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-md-9"],[1,"card","shadow-effect"],[3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center ml-2",4,"ngIf"],[1,"bg-light","text-info","text-center","ml-2"],[1,"bg-light","text-warning","text-center","ml-2"],[1,"mt-3","mb-3"],[3,"innerHTML"],[1,"col-md-3"],[4,"ngFor","ngForOf"],[1,"bg-light","text-success","text-center","ml-2"],[3,"postData"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d._UZ(4,"img",4),d.TgZ(5,"div",5)(6,"small",6),d._uU(7),d.qZA(),d.YNc(8,iU,2,0,"small",7),d.TgZ(9,"small",8),d._uU(10),d.qZA(),d.TgZ(11,"small",9),d._uU(12),d.ALo(13,"date"),d.qZA(),d.TgZ(14,"h1",10),d._uU(15),d.qZA(),d._UZ(16,"p",11),d.qZA()(),d._UZ(17,"app-comment-form")(18,"app-comment-list"),d.qZA(),d.TgZ(19,"div",12),d.YNc(20,sU,2,1,"div",13),d.qZA()()()),2&t&&(d.xp6(4),d.s9C("src",r.postData.postImgPath,d.LSH),d.xp6(3),d.hij(" ",r.postData.category.category," "),d.xp6(1),d.Q6J("ngIf",r.postData.isFeatured),d.xp6(2),d.hij(" Views - ",r.postData.views," "),d.xp6(2),d.hij(" LAST UPDATED - ",d.lcZ(13,8,r.postData.createdAt.toMillis())," "),d.xp6(3),d.hij(" ",r.postData.title," "),d.xp6(1),d.Q6J("innerHTML",r.postData.content,d.oJD),d.xp6(4),d.Q6J("ngForOf",r.similarPostArray))},dependencies:[Es,os,nU,rU,SM,Xr]}),n})()},{path:"about",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-about-us"]],decls:16,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-theme-primary"],[1,"text-center"],[1,"btn","btn-info","btn-sm","mt-4","btn-theme"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),d._uU(3,"About Us"),d.qZA(),d.TgZ(4,"div",3)(5,"p"),d._uU(6,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla ullam ratione molestias voluptatum placeat consequuntur est possimus labore nesciunt maiores. Quia ipsum facilis veritatis natus aut nihil quisquam, molestias ea molestiae amet. Ipsam eum quos deserunt nulla, non sapiente. Debitis perferendis impedit quo tempore aspernatur, nulla commodi modi laborum expedita consectetur ad sit corporis inventore dicta rem. Optio in minus, autem voluptas tenetur quaerat, eius quos ipsum sunt sint veniam."),d.qZA(),d.TgZ(7,"p"),d._uU(8,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla ullam ratione molestias voluptatum placeat consequuntur est possimus labore nesciunt maiores. Quia ipsum facilis veritatis natus aut nihil quisquam, molestias ea molestiae amet. Ipsam eum quos deserunt nulla, non sapiente. Debitis perferendis impedit quo tempore aspernatur, nulla commodi modi laborum expedita consectetur ad sit corporis inventore dicta rem. Optio in minus, autem voluptas tenetur quaerat, eius quos ipsum sunt sint veniam."),d.qZA(),d.TgZ(9,"p"),d._uU(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla ullam ratione molestias voluptatum placeat consequuntur est possimus labore nesciunt maiores. Quia ipsum facilis veritatis natus aut nihil quisquam, molestias ea molestiae amet. Ipsam eum quos deserunt nulla, non sapiente. Debitis perferendis impedit quo tempore aspernatur, nulla commodi modi laborum expedita consectetur ad sit corporis inventore dicta rem. Optio in minus, autem voluptas tenetur quaerat, eius quos ipsum sunt sint veniam."),d.qZA(),d.TgZ(11,"p"),d._uU(12,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla ullam ratione molestias voluptatum placeat consequuntur est possimus labore nesciunt maiores. Quia ipsum facilis veritatis natus aut nihil quisquam, molestias ea molestiae amet. Ipsam eum quos deserunt nulla, non sapiente. Debitis perferendis impedit quo tempore aspernatur, nulla commodi modi laborum expedita consectetur ad sit corporis inventore dicta rem. Optio in minus, autem voluptas tenetur quaerat, eius quos ipsum sunt sint veniam."),d.qZA(),d.TgZ(13,"div",4)(14,"button",5),d._uU(15,"Back to Home"),d.qZA()()()()())}}),n})()},{path:"term-conditions",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-terms-and-condition"]],decls:16,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-theme-primary"],[1,"text-center"],[1,"btn","btn-info","btn-sm","mt-4","btn-theme"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),d._uU(3,"Terms & Condition"),d.qZA(),d.TgZ(4,"div",3)(5,"p"),d._uU(6,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla ullam ratione molestias voluptatum placeat consequuntur est possimus labore nesciunt maiores. Quia ipsum facilis veritatis natus aut nihil quisquam, molestias ea molestiae amet. Ipsam eum quos deserunt nulla, non sapiente. Debitis perferendis impedit quo tempore aspernatur, nulla commodi modi laborum expedita consectetur ad sit corporis inventore dicta rem. Optio in minus, autem voluptas tenetur quaerat, eius quos ipsum sunt sint veniam."),d.qZA(),d.TgZ(7,"p"),d._uU(8,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla ullam ratione molestias voluptatum placeat consequuntur est possimus labore nesciunt maiores. Quia ipsum facilis veritatis natus aut nihil quisquam, molestias ea molestiae amet. Ipsam eum quos deserunt nulla, non sapiente. Debitis perferendis impedit quo tempore aspernatur, nulla commodi modi laborum expedita consectetur ad sit corporis inventore dicta rem. Optio in minus, autem voluptas tenetur quaerat, eius quos ipsum sunt sint veniam."),d.qZA(),d.TgZ(9,"p"),d._uU(10,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla ullam ratione molestias voluptatum placeat consequuntur est possimus labore nesciunt maiores. Quia ipsum facilis veritatis natus aut nihil quisquam, molestias ea molestiae amet. Ipsam eum quos deserunt nulla, non sapiente. Debitis perferendis impedit quo tempore aspernatur, nulla commodi modi laborum expedita consectetur ad sit corporis inventore dicta rem. Optio in minus, autem voluptas tenetur quaerat, eius quos ipsum sunt sint veniam."),d.qZA(),d.TgZ(11,"p"),d._uU(12,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla ullam ratione molestias voluptatum placeat consequuntur est possimus labore nesciunt maiores. Quia ipsum facilis veritatis natus aut nihil quisquam, molestias ea molestiae amet. Ipsam eum quos deserunt nulla, non sapiente. Debitis perferendis impedit quo tempore aspernatur, nulla commodi modi laborum expedita consectetur ad sit corporis inventore dicta rem. Optio in minus, autem voluptas tenetur quaerat, eius quos ipsum sunt sint veniam."),d.qZA(),d.TgZ(13,"div",4)(14,"button",5),d._uU(15,"Back to Home"),d.qZA()()()()())}}),n})()},{path:"contact",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-contact-us"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"contact-us works!"),d.qZA())}}),n})()}];let aU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[XC.forRoot(oU),XC]}),n})(),uU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:4,vars:0,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],["routerLink","/",1,"site-logo"]],template:function(t,r){1&t&&(d.TgZ(0,"header",0)(1,"div",1)(2,"a",2),d._uU(3,"The Artistic Pen"),d.qZA()()())},dependencies:[Kh],styles:["header[_ngcontent-%COMP%]{height:100px}.site-logo[_ngcontent-%COMP%]{font-size:1.5em}"]}),n})(),lU=(()=>{class n{constructor(t){this.afs=t}loadData(){return this.afs.collection("abhiscategories").snapshotChanges().pipe((0,gt.U)(t=>t.map(r=>{const i=r.payload.doc.data();return{id:r.payload.doc.id,data:i}})))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ND))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cU=function(n,e){return["/category",n,e]};function dU(n,e){if(1&n&&(d.TgZ(0,"ul",4)(1,"li",5)(2,"a",6),d._uU(3),d.qZA()()()),2&n){const t=e.$implicit;d.xp6(2),d.Q6J("routerLink",d.WLB(2,cU,t.data.category,t.id)),d.xp6(1),d.Oqu(t.data.category)}}let hU=(()=>{class n{constructor(t){this.categoryService=t}ngOnInit(){this.categoryService.loadData().subscribe(t=>{this.categoryArray=t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(lU))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-category-navbar"]],decls:4,vars:1,consts:[[1,"navbar","navbar-expand-lg","fixed-top"],[1,"container"],[1,"collapse","navbar-collapse","justify-content-center"],["class","navbar-nav",4,"ngFor","ngForOf"],[1,"navbar-nav"],[1,"nav-item","ml-3"],[1,"nav-link",3,"routerLink"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),d.YNc(3,dU,4,5,"ul",3),d.qZA()()()),2&t&&(d.xp6(3),d.Q6J("ngForOf",r.categoryArray))},dependencies:[Es,Kh],styles:["nav[_ngcontent-%COMP%]{margin-top:100px;height:50px;background-color:var(--navbar-footer-color)}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase}"]}),n})(),fU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"nav","justify-content-center"],[1,"nav-item"],["href","",1,"nav-link"],[1,"mb-2","mt-2"]],template:function(t,r){1&t&&(d.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),d._uU(5,"The Artistic Pen"),d.qZA(),d.TgZ(6,"div")(7,"ul",4)(8,"li",5)(9,"a",6),d._uU(10,"Home"),d.qZA()(),d.TgZ(11,"li",5)(12,"a",6),d._uU(13,"About"),d.qZA()(),d.TgZ(14,"li",5)(15,"a",6),d._uU(16,"Terms & Conditions"),d.qZA()(),d.TgZ(17,"li",5)(18,"a",6),d._uU(19,"Contact"),d.qZA()()()(),d.TgZ(20,"p",7),d._uU(21,"Copyright \xa9 2023 Angular Blogsite"),d.qZA()()()()())},styles:["footer[_ngcontent-%COMP%]{height:130px;padding:15px;background-color:var(--navbar-footer-color)}.site-logo[_ngcontent-%COMP%]{font-size:1.2em}"]}),n})(),pU=(()=>{class n{constructor(t){this.afs=t}addSubs(t){this.afs.collection("abhisSubscribers").add(t).then(()=>{console.log("Subscriber added Successfully")})}checkSubs(t){return this.afs.collection("abhisSubscribers",r=>r.where("email","==",t)).get()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ND))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gU(n,e){1&n&&(d.TgZ(0,"div",7),d._uU(1," Email is already in use.. "),d.qZA())}function mU(n,e){1&n&&(d.TgZ(0,"div",8),d._uU(1," Thank you for subscribing to our newsletter service. Stay tuned... "),d.qZA())}function yU(n,e){1&n&&(d.TgZ(0,"div"),d._uU(1,"Name is Required"),d.qZA())}function _U(n,e){if(1&n&&(d.TgZ(0,"div",19),d.YNc(1,yU,2,0,"div",20),d.qZA()),2&n){d.oxw();const t=d.MAs(4);d.xp6(1),d.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function vU(n,e){1&n&&(d.TgZ(0,"div"),d._uU(1,"Email is Required"),d.qZA())}function wU(n,e){1&n&&(d.TgZ(0,"div"),d._uU(1,"Please rnter a valid email address"),d.qZA())}function EU(n,e){if(1&n&&(d.TgZ(0,"div",19),d.YNc(1,vU,2,0,"div",20),d.YNc(2,wU,2,0,"div",20),d.qZA()),2&n){d.oxw();const t=d.MAs(8);d.xp6(1),d.Q6J("ngIf",null==t.errors?null:t.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.errors?null:t.errors.email)}}const CO=function(n){return{"is-invalid":n}};function IU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"form",9,10),d.NdJ("ngSubmit",function(){d.CHM(t);const i=d.MAs(1),a=d.oxw();return d.KtG(a.onSbmit(i.value))}),d.TgZ(2,"div",11),d._UZ(3,"input",12,13),d.YNc(5,_U,2,1,"div",14),d.qZA(),d.TgZ(6,"div",11),d._UZ(7,"input",15,16),d.YNc(9,EU,3,2,"div",14),d.qZA(),d.TgZ(10,"div",17)(11,"button",18),d._uU(12," SUBSCRIBE "),d.qZA()()()}if(2&n){const t=d.MAs(1),r=d.MAs(4),i=d.MAs(8);d.xp6(3),d.Q6J("ngClass",d.VKq(5,CO,r.touched&&r.invalid)),d.xp6(2),d.Q6J("ngIf",r.touched&&r.invalid),d.xp6(2),d.Q6J("ngClass",d.VKq(7,CO,i.touched&&i.invalid)),d.xp6(2),d.Q6J("ngIf",i.touched&&i.invalid),d.xp6(2),d.Q6J("disabled",t.invalid)}}let bU=(()=>{class n{constructor(t){this.subService=t,this.isEmailError=!1,this.isSubscribed=!1}ngOnInit(){}onSbmit(t){const r={name:t.name,email:t.email};this.subService.checkSubs(r.email).subscribe(i=>{i.empty?(this.subService.addSubs(r),this.isSubscribed=!0):this.isEmailError=!0})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(pU))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-subcription-form"]],decls:10,vars:3,consts:[[1,"card","shadow-effect","mb-5"],[1,"card-body"],[1,"text-center","mt-3","mb-5"],[1,"m-auto","subs-text"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],["class","form-inline mb-5 mt-5",3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-info","mt-3"],[1,"form-inline","mb-5","mt-5",3,"ngSubmit"],["subForm","ngForm"],[1,"form-group","col-md-5"],["type","text","placeholder","Your Name","name","name","required","","ngModel","",1,"form-control",3,"ngClass"],["Name","ngModel"],["class","text-danger",4,"ngIf"],["type","email","placeholder","Email Address","name","email","email","","required","","ngModel","",1,"form-control",3,"ngClass"],["Email","ngModel"],[1,"col-md-2"],[1,"btn","btn-info","btn-block","btn-theme",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),d._uU(4,"SUBSCRIPTION FORM"),d.qZA(),d.TgZ(5,"p",3),d._uU(6,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Error, et. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit nihil assumenda possimus laborum asperiores voluptatem velit! Voluptas dicta qui dolore."),d.qZA(),d.YNc(7,gU,2,0,"div",4),d.YNc(8,mU,2,0,"div",5),d.YNc(9,IU,13,9,"form",6),d.qZA()()()),2&t&&(d.xp6(7),d.Q6J("ngIf",r.isEmailError),d.xp6(1),d.Q6J("ngIf",r.isSubscribed),d.xp6(1),d.Q6J("ngIf",!r.isSubscribed))},dependencies:[Bt,os,HM,OD,WN,xM,zD,YM,$M,Y0],styles:[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color);width:1200px}input[type= text][_ngcontent-%COMP%], input[type= email][_ngcontent-%COMP%]{width:100%}.subs-text[_ngcontent-%COMP%]{width:500px}"]}),n})(),DU=(()=>{class n{constructor(){this.title="Project-01"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"app-body"],[1,"container","md-5","mt-5"],[1,"row","justify-content-center"]],template:function(t,r){1&t&&(d._UZ(0,"app-header")(1,"app-category-navbar"),d.TgZ(2,"div",0),d._UZ(3,"router-outlet"),d.qZA(),d.TgZ(4,"div",1)(5,"div",2),d._UZ(6,"app-subcription-form"),d.qZA()(),d._UZ(7,"app-footer"))},dependencies:[Y,uU,hU,fU,bU],styles:[".app-body[_ngcontent-%COMP%]{min-height:45vh;margin-top:150px}"]}),n})();const CU_firebaseConfig={apiKey:"AIzaSyAgvMB0rYgdZldYJXoIfkKViN2CsIUA018",authDomain:"ang-blog-8e133.firebaseapp.com",projectId:"ang-blog-8e133",storageBucket:"ang-blog-8e133.appspot.com",messagingSenderId:"1039503623523",appId:"1:1039503623523:web:851237b682cdc605d2ff56",measurementId:"G-RZTB85SHXX"};class TO{}class TU{}const Kd="*";function SO(n,e=null){return{type:2,steps:n,options:e}}function AO(n){return{type:6,styles:n,offset:null}}function MO(n){Promise.resolve().then(n)}class Q0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){MO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class RO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?MO(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,p)=>Math.max(l,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const QM="!";function xO(n){return new d.vHH(3e3,!1)}function aB(){return typeof window<"u"&&typeof window.document<"u"}function XM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ip(n){switch(n.length){case 0:return new Q0;case 1:return n[0];default:return new RO(n)}}function PO(n,e,t,r,i=new Map,a=new Map){const l=[],p=[];let y=-1,E=null;if(r.forEach(T=>{const R=T.get("offset"),k=R==y,V=k&&E||new Map;T.forEach(($,ee)=>{let oe=ee,Me=$;if("offset"!==ee)switch(oe=e.normalizePropertyName(oe,l),Me){case QM:Me=i.get(ee);break;case Kd:Me=a.get(ee);break;default:Me=e.normalizeStyleValue(ee,oe,Me,l)}V.set(oe,Me)}),k||p.push(V),E=V,y=R}),l.length)throw function KU(n){return new d.vHH(3502,!1)}();return p}function JM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&eR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&eR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&eR(t,"destroy",n)))}}function eR(n,e,t){const a=tR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function tR(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function ra(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function NO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let nR=(n,e)=>!1,OO=(n,e,t)=>[],kO=null;function rR(n){const e=n.parentNode||n.host;return e===kO?null:e}(XM()||typeof Element<"u")&&(aB()?(kO=(()=>document.documentElement)(),nR=(n,e)=>{for(;e;){if(e===n)return!0;e=rR(e)}return!1}):nR=(n,e)=>n.contains(e),OO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ym=null,FO=!1;const LO=nR,VO=OO;let UO=(()=>{class n{validateStyleProperty(t){return function lB(n){ym||(ym=function cB(){return typeof document<"u"?document.body:null}()||{},FO=!!ym.style&&"WebkitAppearance"in ym.style);let e=!0;return ym.style&&!function uB(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ym.style,!e&&FO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ym.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return LO(t,r)}getParentElement(t){return rR(t)}query(t,r,i){return VO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,p=[],y){return new Q0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),iR=(()=>{class n{}return n.NOOP=new UO,n})();const dB=1e3,sR="ng-enter",GD="ng-leave",qD="ng-trigger",WD=".ng-trigger",jO="ng-animating",oR=".ng-animating";function Yd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aR(parseFloat(e[1]),e[2])}function aR(n,e){return"s"===e?n*dB:n}function ZD(n,e,t){return n.hasOwnProperty("duration")?n:function fB(n,e,t){let i,a=0,l="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(xO()),{duration:0,delay:0,easing:""};i=aR(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(a=aR(parseFloat(y),p[4]));const E=p[5];E&&(l=E)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function SU(){return new d.vHH(3100,!1)}()),p=!0),a<0&&(e.push(function AU(){return new d.vHH(3101,!1)}()),p=!0),p&&e.splice(y,0,xO())}return{duration:i,delay:a,easing:l}}(n,e,t)}function X0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $O(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function sp(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function zO(n,e,t){return t?e+":"+t+";":""}function GO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=zO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=zO(0,yB(t),n.style[t]));n.setAttribute("style",e)}function pc(n,e,t){n.style&&(e.forEach((r,i)=>{const a=lR(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),XM()&&GO(n))}function _m(n,e){n.style&&(e.forEach((t,r)=>{const i=lR(r);n.style[i]=""}),XM()&&GO(n))}function J0(n){return Array.isArray(n)?1==n.length?n[0]:SO(n):n}const uR=new RegExp("{{\\s*(.+?)\\s*}}","g");function qO(n){let e=[];if("string"==typeof n){let t;for(;t=uR.exec(n);)e.push(t[1]);uR.lastIndex=0}return e}function eE(n,e,t){const r=n.toString(),i=r.replace(uR,(a,l)=>{let p=e[l];return null==p&&(t.push(function RU(n){return new d.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function KD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const mB=/-+([a-z0-9])/g;function lR(n){return n.replace(mB,(...e)=>e[1].toUpperCase())}function yB(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ia(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function xU(n){return new d.vHH(3004,!1)}()}}function WO(n,e){return window.getComputedStyle(n)[e]}const XD="*";function bB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function DB(n,e,t){if(":"==n[0]){const y=function CB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function GU(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function zU(n){return new d.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(ZO(i,l));"<"==a[0]&&!(i==XD&&l==XD)&&e.push(ZO(l,i))}(r,t,e)):t.push(n),t}const JD=new Set(["true","1"]),eC=new Set(["false","0"]);function ZO(n,e){const t=JD.has(n)||eC.has(n),r=JD.has(e)||eC.has(e);return(i,a)=>{let l=n==XD||n==i,p=e==XD||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?JD.has(n):eC.has(n)),!p&&r&&"boolean"==typeof a&&(p=a?JD.has(e):eC.has(e)),l&&p}}const TB=new RegExp("s*:selfs*,?","g");function cR(n,e,t,r){return new SB(n).build(e,t,r)}class SB{constructor(e){this._driver=e}build(e,t,r){const i=new RB(t);return this._resetContextStyleTimingState(i),ia(this,J0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function NU(){return new d.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,E=y.name;E.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,a.push(this.visitState(y,t))}),y.name=E}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function OU(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{qO(y).forEach(E=>{l.hasOwnProperty(E)||a.add(E)})})}),a.size&&(KD(a.values()),t.errors.push(function kU(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ia(this,J0(e.animation),t);return{type:1,matchers:bB(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:vm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ia(this,r,t)),options:vm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const p=ia(this,l,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:a,options:vm(e.options)}}visitAnimate(e,t){const r=function PB(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dR(ZD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=dR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=ZD(t,e);return dR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:AO({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,p=!1;if(!l){p=!0;const E={};r.easing&&(E.easing=r.easing),l=AO(E)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Kd?r.push(p):t.errors.push(new d.vHH(3002,!1)):r.push($O(p));let a=!1,l=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(l=p.get("easing"),p.delete("easing")),!a))for(let y of p.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((p,y)=>{const E=t.collectedStyles.get(t.currentQuerySelector),T=E.get(y);let R=!0;T&&(a!=i&&a>=T.startTime&&i<=T.endTime&&(t.errors.push(function LU(n,e,t,r,i){return new d.vHH(3010,!1)}()),R=!1),a=T.startTime),R&&E.set(y,{startTime:a,endTime:i}),t.options&&function gB(n,e,t){const r=e.params||{},i=qO(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function MU(n){return new d.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function VU(){return new d.vHH(3011,!1)}()),r;let a=0;const l=[];let p=!1,y=!1,E=0;const T=e.steps.map(Me=>{const Ze=this._makeStyleAst(Me,t);let Ue=null!=Ze.offset?Ze.offset:function xB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ze.styles),Ke=0;return null!=Ue&&(a++,Ke=Ze.offset=Ue),y=y||Ke<0||Ke>1,p=p||Ke<E,E=Ke,l.push(Ke),Ze});y&&t.errors.push(function UU(){return new d.vHH(3012,!1)}()),p&&t.errors.push(function BU(){return new d.vHH(3200,!1)}());const R=e.steps.length;let k=0;a>0&&a<R?t.errors.push(function jU(){return new d.vHH(3202,!1)}()):0==a&&(k=1/(R-1));const V=R-1,$=t.currentTime,ee=t.currentAnimateTimings,oe=ee.duration;return T.forEach((Me,Ze)=>{const Ue=k>0?Ze==V?1:k*Ze:l[Ze],Ke=Ue*oe;t.currentTime=$+ee.delay+Ke,ee.duration=Ke,this._validateStyleAst(Me,t),Me.offset=Ue,r.styles.push(Me)}),r}visitReference(e,t){return{type:8,animation:ia(this,J0(e.animation),t),options:vm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:vm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:vm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function AB(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(TB,"")),n=n.replace(/@\*/g,WD).replace(/@\w+/g,t=>WD+"-"+t.slice(1)).replace(/:animating/g,oR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ra(t.collectedStyles,t.currentQuerySelector,new Map);const p=ia(this,J0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:p,originalSelector:e.selector,options:vm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function $U(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ZD(e.timings,t.errors,!0);return{type:12,animation:ia(this,J0(e.animation),t),timings:r,options:null}}}class RB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vm(n){return n?(n=X0(n)).params&&(n.params=function MB(n){return n?X0(n):null}(n.params)):n={},n}function dR(n,e,t){return{duration:n,delay:e,easing:t}}function hR(n,e,t,r,i,a,l=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:p}}class tC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const kB=new RegExp(":enter","g"),LB=new RegExp(":leave","g");function fR(n,e,t,r,i,a=new Map,l=new Map,p,y,E=[]){return(new VB).buildKeyframes(n,e,t,r,i,a,l,p,y,E)}class VB{buildKeyframes(e,t,r,i,a,l,p,y,E,T=[]){E=E||new tC;const R=new pR(e,t,E,i,a,T,[]);R.options=y;const k=y.delay?Yd(y.delay):0;R.currentTimeline.delayNextStep(k),R.currentTimeline.setStyles([l],null,R.errors,y),ia(this,r,R);const V=R.timelines.filter($=>$.containsAnimation());if(V.length&&p.size){let $;for(let ee=V.length-1;ee>=0;ee--){const oe=V[ee];if(oe.element===t){$=oe;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([p],null,R.errors,y)}return V.length?V.map($=>$.buildKeyframes()):[hR(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:Yd(eE(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?Yd(r.duration):null,p=null!=r.delay?Yd(r.delay):null;return 0!==l&&e.forEach(y=>{const E=t.appendInstructionToTimeline(y,l,p);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ia(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nC);const l=Yd(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>ia(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Yd(e.options.delay):0;e.steps.forEach(l=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),ia(this,l,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ZD(t.params?eE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*a),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Yd(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nC);let l=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((E,T)=>{t.currentQueryIndex=T;const R=t.createSubContext(e.options,E);a&&R.delayNextStep(a),E===t.element&&(y=R.currentTimeline),ia(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),p=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const R=T.currentTime;ia(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-R+(i.startTime-r.currentTimeline.startTime)}}const nC={};class pR{constructor(e,t,r,i,a,l,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new rC(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Yd(r.duration)),null!=r.delay&&(i.delay=Yd(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!l.hasOwnProperty(p))&&(l[p]=eE(a[p],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new pR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=nC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new UB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(kB,"."+this._enterClassName)).replace(LB,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),p.push(...E)}return!a&&0==p.length&&l.push(function HU(n){return new d.vHH(3014,!1)}()),p}}class rC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Kd),this._currentKeyframe.set(t,Kd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function BB(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Kd)}else sp(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,y]of l){const E=eE(y,a,r);this._pendingStyles.set(p,E),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Kd),this._updateStyle(p,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const E=sp(p,new Map,this._backFill);E.forEach((T,R)=>{T===QM?e.add(R):T===Kd&&t.add(R)}),r||E.set("offset",y/this.duration),i.push(E)});const a=e.size?KD(e.values()):[],l=t.size?KD(t.values()):[];if(r){const p=i[0],y=new Map(p);p.set("offset",0),y.set("offset",1),i=[p,y]}return hR(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class UB extends rC{constructor(e,t,r,i,a,l,p=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,p=t/l,y=sp(e[0]);y.set("offset",0),a.push(y);const E=sp(e[0]);E.set("offset",QO(p)),a.push(E);const T=e.length-1;for(let R=1;R<=T;R++){let k=sp(e[R]);const V=k.get("offset");k.set("offset",QO((t+V*r)/l)),a.push(k)}r=l,t=0,i="",e=a}return hR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function QO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class gR{}const jB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $B extends gR{normalizePropertyName(e,t){return lR(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(jB.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function PU(n,e){return new d.vHH(3005,!1)}())}return l+a}}function XO(n,e,t,r,i,a,l,p,y,E,T,R,k){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:p,queriedElements:y,preStyleProps:E,postStyleProps:T,totalTime:R,errors:k}}const mR={};class JO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function HB(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,p,y,E,T){const R=[],k=this.ast.options&&this.ast.options.params||mR,$=this.buildStyles(r,p&&p.params||mR,R),ee=y&&y.params||mR,oe=this.buildStyles(i,ee,R),Me=new Set,Ze=new Map,Ue=new Map,Ke="void"===i,At={params:zB(ee,k),delay:this.ast.options?.delay},kt=T?[]:fR(e,t,this.ast.animation,a,l,$,oe,At,E,R);let pn=0;if(kt.forEach(vs=>{pn=Math.max(vs.duration+vs.delay,pn)}),R.length)return XO(t,this._triggerName,r,i,Ke,$,oe,[],[],Ze,Ue,pn,R);kt.forEach(vs=>{const eh=vs.element,fk=ra(Ze,eh,new Set);vs.preStyleProps.forEach(Em=>fk.add(Em));const uE=ra(Ue,eh,new Set);vs.postStyleProps.forEach(Em=>uE.add(Em)),eh!==t&&Me.add(eh)});const Tr=KD(Me.values());return XO(t,this._triggerName,r,i,Ke,$,oe,kt,Tr,Ze,Ue,pn)}}function zB(n,e){const t=X0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class GB{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=X0(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,p)=>{l&&(l=eE(l,i,t));const y=this.normalizer.normalizePropertyName(p,t);l=this.normalizer.normalizeStyleValue(p,y,l,t),r.set(p,l)})}),r}}class WB{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new GB(i.style,i.options&&i.options.params||{},r))}),e1(this.states,"true","1"),e1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new JO(e,i,this.states))}),this.fallbackTransition=function ZB(n,e,t){return new JO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function e1(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const KB=new tC;class YB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=cR(this._driver,t,r,i);if(r.length)throw function YU(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=PO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const p=new Map;if(a?(l=fR(this._driver,t,a,sR,GD,new Map,new Map,r,KB,i),l.forEach(T=>{const R=ra(p,T.element,new Map);T.postStyleProps.forEach(k=>R.set(k,null))})):(i.push(function QU(){return new d.vHH(3300,!1)}()),l=[]),i.length)throw function XU(n){return new d.vHH(3504,!1)}();p.forEach((T,R)=>{T.forEach((k,V)=>{T.set(V,this._driver.computeStyle(R,V,Kd))})});const E=ip(l.map(T=>{const R=p.get(T.element);return this._buildPlayer(T,new Map,R)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function JU(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=tR(t,"","","");return JM(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const t1="ng-animate-queued",yR="ng-animate-disabled",tj=[],n1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ga="__ng_removed";class _R{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function oj(n){return n??null}(r?e.value:e),r){const a=X0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const tE="void",vR=new _R(tE);class rj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function eB(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function tB(n){return new d.vHH(3303,!1)}();if(!function aj(n){return"start"==n||"done"==n}(r))throw function nB(n,e){return new d.vHH(3400,!1)}();const a=ra(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const p=ra(this._engine.statesByElement,e,new Map);return p.has(t)||(qa(e,qD),qa(e,qD+"-"+t),p.set(t,vR)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function rB(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new wR(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(qa(e,qD),qa(e,qD+"-"+t),this._engine.statesByElement.set(e,p=new Map));let y=p.get(t);const E=new _R(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),p.set(t,E),y||(y=vR),E.value!==tE&&y.value===E.value){if(!function cj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,E.params)){const ee=[],oe=a.matchStyles(y.value,y.params,ee),Me=a.matchStyles(E.value,E.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{_m(e,oe),pc(e,Me)})}return}const k=ra(this._engine.playersByElement,e,[]);k.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let V=a.matchTransition(y.value,E.value,e,E.params),$=!1;if(!V){if(!i)return;V=a.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:y,toState:E,player:l,isFallbackTransition:$}),$||(qa(e,t1),l.onStart(()=>{F_(e,t1)})),l.onDone(()=>{let ee=this.players.indexOf(l);ee>=0&&this.players.splice(ee,1);const oe=this._engine.playersByElement.get(e);if(oe){let Me=oe.indexOf(l);Me>=0&&oe.splice(Me,1)}}),this.players.push(l),k.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,WD,!0);r.forEach(i=>{if(i[Ga])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const p=[];if(a.forEach((y,E)=>{if(l.set(E,y.value),this._triggers.has(E)){const T=this.trigger(e,E,tE,i);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&ip(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,E=r.get(l)||vR,T=new _R(tE),R=new wR(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:E,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ga];(!a||a===n1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){qa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(p=>{if(p.name==r.triggerName){const y=tR(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,JM(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ij{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new rj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const E=r.indexOf(y);r.splice(E+1,0,e),l=!0;break}p=this.driver.getParentElement(p)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(iC(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!iC(t))return;const a=t[Ga];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qa(e,yR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),F_(e,yR))}removeNode(e,t,r,i){if(iC(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ga]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return iC(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,WD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ip(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ga];if(t&&t.setForRemoval){if(e[Ga]=n1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(yR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)qa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ip(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function iB(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new tC,i=[],a=new Map,l=[],p=new Map,y=new Map,E=new Map,T=new Set;this.disabledNodes.forEach(It=>{T.add(It);const Ft=this.driver.query(It,".ng-animate-queued",!0);for(let zt=0;zt<Ft.length;zt++)T.add(Ft[zt])});const R=this.bodyNode,k=Array.from(this.statesByElement.keys()),V=s1(k,this.collectedEnterElements),$=new Map;let ee=0;V.forEach((It,Ft)=>{const zt=sR+ee++;$.set(Ft,zt),It.forEach(Dn=>qa(Dn,zt))});const oe=[],Me=new Set,Ze=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const Ft=this.collectedLeaveElements[It],zt=Ft[Ga];zt&&zt.setForRemoval&&(oe.push(Ft),Me.add(Ft),zt.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(Dn=>Me.add(Dn)):Ze.add(Ft))}const Ue=new Map,Ke=s1(k,Array.from(Me));Ke.forEach((It,Ft)=>{const zt=GD+ee++;Ue.set(Ft,zt),It.forEach(Dn=>qa(Dn,zt))}),e.push(()=>{V.forEach((It,Ft)=>{const zt=$.get(Ft);It.forEach(Dn=>F_(Dn,zt))}),Ke.forEach((It,Ft)=>{const zt=Ue.get(Ft);It.forEach(Dn=>F_(Dn,zt))}),oe.forEach(It=>{this.processLeaveNode(It)})});const At=[],kt=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(t).forEach(zt=>{const Dn=zt.player,$i=zt.element;if(At.push(Dn),this.collectedEnterElements.length){const ws=$i[Ga];if(ws&&ws.setForMove){if(ws.previousTriggersValues&&ws.previousTriggersValues.has(zt.triggerName)){const Im=ws.previousTriggersValues.get(zt.triggerName),Wa=this.statesByElement.get(zt.element);if(Wa&&Wa.has(zt.triggerName)){const yC=Wa.get(zt.triggerName);yC.value=Im,Wa.set(zt.triggerName,yC)}}return void Dn.destroy()}}const _c=!R||!this.driver.containsElement(R,$i),oa=Ue.get($i),up=$.get($i),Sr=this._buildInstruction(zt,r,up,oa,_c);if(Sr.errors&&Sr.errors.length)return void kt.push(Sr);if(_c)return Dn.onStart(()=>_m($i,Sr.fromStyles)),Dn.onDestroy(()=>pc($i,Sr.toStyles)),void i.push(Dn);if(zt.isFallbackTransition)return Dn.onStart(()=>_m($i,Sr.fromStyles)),Dn.onDestroy(()=>pc($i,Sr.toStyles)),void i.push(Dn);const mk=[];Sr.timelines.forEach(ws=>{ws.stretchStartingKeyframe=!0,this.disabledNodes.has(ws.element)||mk.push(ws)}),Sr.timelines=mk,r.append($i,Sr.timelines),l.push({instruction:Sr,player:Dn,element:$i}),Sr.queriedElements.forEach(ws=>ra(p,ws,[]).push(Dn)),Sr.preStyleProps.forEach((ws,Im)=>{if(ws.size){let Wa=y.get(Im);Wa||y.set(Im,Wa=new Set),ws.forEach((yC,BR)=>Wa.add(BR))}}),Sr.postStyleProps.forEach((ws,Im)=>{let Wa=E.get(Im);Wa||E.set(Im,Wa=new Set),ws.forEach((yC,BR)=>Wa.add(BR))})});if(kt.length){const It=[];kt.forEach(Ft=>{It.push(function sB(n,e){return new d.vHH(3505,!1)}())}),At.forEach(Ft=>Ft.destroy()),this.reportError(It)}const pn=new Map,Tr=new Map;l.forEach(It=>{const Ft=It.element;r.has(Ft)&&(Tr.set(Ft,Ft),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,pn))}),i.forEach(It=>{const Ft=It.element;this._getPreviousPlayers(Ft,!1,It.namespaceId,It.triggerName,null).forEach(Dn=>{ra(pn,Ft,[]).push(Dn),Dn.destroy()})});const vs=oe.filter(It=>a1(It,y,E)),eh=new Map;i1(eh,this.driver,Ze,E,Kd).forEach(It=>{a1(It,y,E)&&vs.push(It)});const uE=new Map;V.forEach((It,Ft)=>{i1(uE,this.driver,new Set(It),y,QM)}),vs.forEach(It=>{const Ft=eh.get(It),zt=uE.get(It);eh.set(It,new Map([...Array.from(Ft?.entries()??[]),...Array.from(zt?.entries()??[])]))});const Em=[],pk=[],gk={};l.forEach(It=>{const{element:Ft,player:zt,instruction:Dn}=It;if(r.has(Ft)){if(T.has(Ft))return zt.onDestroy(()=>pc(Ft,Dn.toStyles)),zt.disabled=!0,zt.overrideTotalTime(Dn.totalTime),void i.push(zt);let $i=gk;if(Tr.size>1){let oa=Ft;const up=[];for(;oa=oa.parentNode;){const Sr=Tr.get(oa);if(Sr){$i=Sr;break}up.push(oa)}up.forEach(Sr=>Tr.set(Sr,$i))}const _c=this._buildAnimation(zt.namespaceId,Dn,pn,a,uE,eh);if(zt.setRealPlayer(_c),$i===gk)Em.push(zt);else{const oa=this.playersByElement.get($i);oa&&oa.length&&(zt.parentPlayer=ip(oa)),i.push(zt)}}else _m(Ft,Dn.fromStyles),zt.onDestroy(()=>pc(Ft,Dn.toStyles)),pk.push(zt),T.has(Ft)&&i.push(zt)}),pk.forEach(It=>{const Ft=a.get(It.element);if(Ft&&Ft.length){const zt=ip(Ft);It.setRealPlayer(zt)}}),i.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<oe.length;It++){const Ft=oe[It],zt=Ft[Ga];if(F_(Ft,GD),zt&&zt.hasAnimation)continue;let Dn=[];if(p.size){let _c=p.get(Ft);_c&&_c.length&&Dn.push(..._c);let oa=this.driver.query(Ft,oR,!0);for(let up=0;up<oa.length;up++){let Sr=p.get(oa[up]);Sr&&Sr.length&&Dn.push(...Sr)}}const $i=Dn.filter(_c=>!_c.destroyed);$i.length?uj(this,Ft,$i):this.processLeaveNode(Ft)}return oe.length=0,Em.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const Ft=this.players.indexOf(It);this.players.splice(Ft,1)}),It.play()}),Em}elementContainsData(e,t){let r=!1;const i=t[Ga];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(l=p)}else{const p=this.playersByElement.get(e);if(p){const y=!a||a==tE;p.forEach(E=>{E.queued||!y&&E.triggerName!=i||l.push(E)})}}return(r||i)&&(l=l.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const E=y.element,T=E!==a,R=ra(r,E,[]);this._getPreviousPlayers(E,T,l,p,t.toState).forEach(V=>{const $=V.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),V.destroy(),R.push(V)})}_m(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const p=t.triggerName,y=t.element,E=[],T=new Set,R=new Set,k=t.timelines.map($=>{const ee=$.element;T.add(ee);const oe=ee[Ga];if(oe&&oe.removedBeforeQueried)return new Q0($.duration,$.delay);const Me=ee!==y,Ze=function lj(n){const e=[];return o1(n,e),e}((r.get(ee)||tj).map(pn=>pn.getRealPlayer())).filter(pn=>!!pn.element&&pn.element===ee),Ue=a.get(ee),Ke=l.get(ee),At=PO(0,this._normalizer,0,$.keyframes,Ue,Ke),kt=this._buildPlayer($,At,Ze);if($.subTimeline&&i&&R.add(ee),Me){const pn=new wR(e,p,ee);pn.setRealPlayer(kt),E.push(pn)}return kt});E.forEach($=>{ra(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function sj(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,$.element,$))}),T.forEach($=>qa($,jO));const V=ip(k);return V.onDestroy(()=>{T.forEach($=>F_($,jO)),pc(y,t.toStyles)}),R.forEach($=>{ra(i,$,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Q0(e.duration,e.delay)}}class wR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Q0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>JM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ra(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iC(n){return n&&1===n.nodeType}function r1(n,e){const t=n.style.display;return n.style.display=e??"none",t}function i1(n,e,t,r,i){const a=[];t.forEach(y=>a.push(r1(y)));const l=[];r.forEach((y,E)=>{const T=new Map;y.forEach(R=>{const k=e.computeStyle(E,R,i);T.set(R,k),(!k||0==k.length)&&(E[Ga]=nj,l.push(E))}),n.set(E,T)});let p=0;return t.forEach(y=>r1(y,a[p++])),l}function s1(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(p){if(!p)return r;let y=a.get(p);if(y)return y;const E=p.parentNode;return y=t.has(E)?E:i.has(E)?r:l(E),a.set(p,y),y}return e.forEach(p=>{const y=l(p);y!==r&&t.get(y).push(p)}),t}function qa(n,e){n.classList?.add(e)}function F_(n,e){n.classList?.remove(e)}function uj(n,e,t){ip(t).onDone(()=>n.processLeaveNode(e))}function o1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof RO?o1(r.players,e):e.push(r)}}function a1(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class sC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new ij(e,t,r),this._timelineEngine=new YB(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let p=this._triggerCache[l];if(!p){const y=[],E=[],T=cR(this._driver,a,y,E);if(y.length)throw function ZU(n,e){return new d.vHH(3404,!1)}();p=function qB(n,e,t){return new WB(n,e,t)}(i,T,this._normalizer),this._triggerCache[l]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=NO(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,p]=NO(r);return this._timelineEngine.listen(l,t,p,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let hj=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pc(this._element,this._initialStyles),this._endStyles&&(pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_m(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_m(this._element,this._endStyles),this._endStyles=null),pc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ER(n){let e=null;return n.forEach((t,r)=>{(function fj(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class u1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:WO(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class pj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return LO(e,t)}getParentElement(e){return rR(e)}query(e,t,r){return VO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const E=new Map,T=l.filter(V=>V instanceof u1);(function _B(n,e){return 0===n||0===e})(r,i)&&T.forEach(V=>{V.currentSnapshot.forEach(($,ee)=>E.set(ee,$))});let R=function pB(n){return n.length?n[0]instanceof Map?n:n.map(e=>$O(e)):[]}(t).map(V=>sp(V));R=function vB(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(p=>l.set(p,WO(n,p)))}}return e}(e,R,E);const k=function dj(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ER(e[0]),e.length>1&&(r=ER(e[e.length-1]))):e instanceof Map&&(t=ER(e)),t||r?new hj(n,t,r):null}(e,R);return new u1(e,R,y,k)}}let gj=(()=>{class n extends TO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?SO(t):t;return l1(this._renderer,null,r,"register",[i]),new mj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class mj extends TU{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new yj(this._id,e,t||{},this._renderer)}}class yj{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return l1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function l1(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const c1="@.disabled";let _j=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const p=l?.parentNode(a);p&&l.removeChild(p,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new d1("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,T)),T}const l=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(l,p,t,T.name,T)};return r.data.animation.forEach(y),new vj(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,p]=a;l(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(sC),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class d1{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==c1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class vj extends d1{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==c1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function wj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function Ej(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let Ij=(()=>{class n extends sC{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie),d.LFG(iR),d.LFG(gR),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const h1=[{provide:TO,useClass:gj},{provide:gR,useFactory:function bj(){return new $B}},{provide:sC,useClass:Ij},{provide:d.FYo,useFactory:function Dj(n,e,t){return new _j(n,e,t)},deps:[xi,sC,d.R0b]}],IR=[{provide:iR,useFactory:()=>new pj},{provide:d.QbO,useValue:"BrowserAnimations"},...h1],f1=[{provide:iR,useClass:UO},{provide:d.QbO,useValue:"NoopAnimations"},...h1];let Cj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?f1:IR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:IR,imports:[Oo]}),n})();class aC{}class bR{}class Qd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(a=>a.toString()),i.length>0){const a=t.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(t,a)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Qd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Qd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Qd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(p=>-1===a.indexOf(p)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Tj{encodeKey(e){return p1(e)}encodeValue(e){return p1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Aj=/%(\d[a-f0-9])/gi,Mj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function p1(n){return encodeURIComponent(n).replace(Aj,(e,t)=>Mj[t]??e)}function uC(n){return`${n}`}class op{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Sj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,p]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],y=t.get(l)||[];y.push(p),t.set(l,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(uC):[uC(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new op({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(uC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(uC(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Rj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function g1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function m1(n){return typeof Blob<"u"&&n instanceof Blob}function y1(n){return typeof FormData<"u"&&n instanceof FormData}class nE{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Qd),this.context||(this.context=new Rj),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+l}}else this.params=new op,this.urlWithParams=t}serializeBody(){return null===this.body?null:g1(this.body)||m1(this.body)||y1(this.body)||function Pj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof op?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||y1(this.body)?null:m1(this.body)?this.body.type||null:g1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof op?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,E=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((R,k)=>R.set(k,e.setHeaders[k]),y)),e.setParams&&(E=Object.keys(e.setParams).reduce((R,k)=>R.set(k,e.setParams[k]),E)),new nE(t,r,a,{params:E,headers:y,context:T,reportProgress:p,responseType:i,withCredentials:l})}}var hi=(()=>((hi=hi||{})[hi.Sent=0]="Sent",hi[hi.UploadProgress=1]="UploadProgress",hi[hi.ResponseHeader=2]="ResponseHeader",hi[hi.DownloadProgress=3]="DownloadProgress",hi[hi.Response=4]="Response",hi[hi.User=5]="User",hi))();class DR{constructor(e,t=200,r="OK"){this.headers=e.headers||new Qd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class CR extends DR{constructor(e={}){super(e),this.type=hi.ResponseHeader}clone(e={}){return new CR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class lC extends DR{constructor(e={}){super(e),this.type=hi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new lC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _1 extends DR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function TR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Nj=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof nE)a=t;else{let y,E;y=i.headers instanceof Qd?i.headers:new Qd(i.headers),i.params&&(E=i.params instanceof op?i.params:new op({fromObject:i.params})),a=new nE(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=lt(a).pipe(ds(y=>this.handler.handle(y)));if(t instanceof nE||"events"===i.observe)return l;const p=l.pipe(ri(y=>y instanceof lC));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,gt.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,gt.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,gt.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,gt.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new op).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,TR(i,r))}post(t,r,i={}){return this.request("POST",t,TR(i,r))}put(t,r,i={}){return this.request("PUT",t,TR(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(aC))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function v1(n,e){return e(n)}function Oj(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Fj=new d.OlP("HTTP_INTERCEPTORS"),rE=new d.OlP("HTTP_INTERCEPTOR_FNS");function Lj(){let n=null;return(e,t)=>(null===n&&(n=((0,d.f3M)(Fj,{optional:!0})??[]).reduceRight(Oj,v1)),n(e,t))}let w1=(()=>{class n extends aC{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(rE)));this.chain=r.reduceRight((i,a)=>function kj(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),v1)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(bR),d.LFG(d.lqb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const jj=/^\)\]\}',?\n/;let I1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ni.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,$)=>i.setRequestHeader(V,$.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const a=t.serializeBody();let l=null;const p=()=>{if(null!==l)return l;const V=i.statusText||"OK",$=new Qd(i.getAllResponseHeaders()),ee=function $j(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new CR({headers:$,status:i.status,statusText:V,url:ee}),l},y=()=>{let{headers:V,status:$,statusText:ee,url:oe}=p(),Me=null;204!==$&&(Me=typeof i.response>"u"?i.responseText:i.response),0===$&&($=Me?200:0);let Ze=$>=200&&$<300;if("json"===t.responseType&&"string"==typeof Me){const Ue=Me;Me=Me.replace(jj,"");try{Me=""!==Me?JSON.parse(Me):null}catch(Ke){Me=Ue,Ze&&(Ze=!1,Me={error:Ke,text:Me})}}Ze?(r.next(new lC({body:Me,headers:V,status:$,statusText:ee,url:oe||void 0})),r.complete()):r.error(new _1({error:Me,headers:V,status:$,statusText:ee,url:oe||void 0}))},E=V=>{const{url:$}=p(),ee=new _1({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:$||void 0});r.error(ee)};let T=!1;const R=V=>{T||(r.next(p()),T=!0);let $={type:hi.DownloadProgress,loaded:V.loaded};V.lengthComputable&&($.total=V.total),"text"===t.responseType&&i.responseText&&($.partialText=i.responseText),r.next($)},k=V=>{let $={type:hi.UploadProgress,loaded:V.loaded};V.lengthComputable&&($.total=V.total),r.next($)};return i.addEventListener("load",y),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",R),null!==a&&i.upload&&i.upload.addEventListener("progress",k)),i.send(a),r.next({type:hi.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",y),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",R),null!==a&&i.upload&&i.upload.removeEventListener("progress",k)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(eu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const SR=new d.OlP("XSRF_ENABLED"),b1=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),D1=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class C1{}let Gj=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie),d.LFG(d.Lbi),d.LFG(b1))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function qj(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(SR)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,d.f3M)(C1).getToken(),i=(0,d.f3M)(D1);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Wr=(()=>((Wr=Wr||{})[Wr.Interceptors=0]="Interceptors",Wr[Wr.LegacyInterceptors=1]="LegacyInterceptors",Wr[Wr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Wr[Wr.NoXsrfProtection=3]="NoXsrfProtection",Wr[Wr.JsonpSupport=4]="JsonpSupport",Wr[Wr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Wr))();function L_(n,e){return{\u0275kind:n,\u0275providers:e}}function Wj(...n){const e=[Nj,I1,w1,{provide:aC,useExisting:w1},{provide:bR,useExisting:I1},{provide:rE,useValue:qj,multi:!0},{provide:SR,useValue:!0},{provide:C1,useClass:Gj}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const T1=new d.OlP("LEGACY_INTERCEPTOR_FN");let Kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Wj(L_(Wr.LegacyInterceptors,[{provide:T1,useFactory:Lj},{provide:rE,useExisting:T1,multi:!0}]))]}),n})();const S1="firebasestorage.googleapis.com",A1="storageBucket";class Cr extends Yt.ZR{constructor(e,t,r=0){super(AR(e),`Firebase Storage: ${t} (${AR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return AR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Jn=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Jn||(Jn={})),Jn))();function AR(n){return"storage/"+n}function MR(){return new Cr(Jn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function M1(){return new Cr(Jn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R1(){return new Cr(Jn.CANCELED,"User canceled the upload/download.")}function x1(){return new Cr(Jn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V_(n){return new Cr(Jn.INVALID_ARGUMENT,n)}function P1(){return new Cr(Jn.APP_DELETED,"The Firebase app was deleted.")}function N1(n){return new Cr(Jn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iE(n,e){return new Cr(Jn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function sE(n){throw new Cr(Jn.INTERNAL_ERROR,"Internal error: "+n)}class _s{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=_s.makeFromUrl(e,t)}catch{return new _s(e,"")}if(""===r.path)return r;throw function o$(n){return new Cr(Jn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(Ke){Ke.path_=decodeURIComponent(Ke.path)}const R=t.replace(/[.]/g,"\\."),Ue=[{regex:p,indices:{bucket:1,path:3},postModify:function a(Ke){"/"===Ke.path.charAt(Ke.path.length-1)&&(Ke.path_=Ke.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===S1?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let Ke=0;Ke<Ue.length;Ke++){const At=Ue[Ke],kt=At.regex.exec(e);if(kt){let Tr=kt[At.indices.path];Tr||(Tr=""),r=new _s(kt[At.indices.bucket],Tr),At.postModify(r);break}}if(null==r)throw function s$(n){return new Cr(Jn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class d${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cC(n){return"string"==typeof n||n instanceof String}function O1(n){return RR()&&n instanceof Blob}function RR(){return typeof Blob<"u"&&!(0,Yt.UG)()}function xR(n,e,t,r){if(r<e)throw V_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw V_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Xd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function k1(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var ap=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ap||(ap={})),ap))();function F1(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class y${constructor(e,t,r,i,a,l,p,y,E,T,R,k=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=p,this.errorCallback_=y,this.timeout_=E,this.progressCallback_=T,this.connectionFactory_=R,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,$)=>{this.resolve_=V,this.reject_=$,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,p=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());!function p$(n){return void 0!==n}(y)?a():a(y)}catch(y){l(y)}else if(null!==p){const y=MR();y.serverResponse=p.getErrorText(),l(this.errorCallback_?this.errorCallback_(p,y):y)}else l(i.canceled?this.appDelete_?P1():R1():M1())};this.canceled_?t(0,new dC(!1,null,!0)):this.backoffId_=function h$(n,e,t){let r=1,i=null,a=null,l=!1,p=0;function y(){return 2===p}let E=!1;function T(...oe){E||(E=!0,e.apply(null,oe))}function R(oe){i=setTimeout(()=>{i=null,n(V,y())},oe)}function k(){a&&clearTimeout(a)}function V(oe,...Me){if(E)return void k();if(oe)return k(),void T.call(null,oe,...Me);if(y()||l)return k(),void T.call(null,oe,...Me);let Ue;r<64&&(r*=2),1===p?(p=2,Ue=0):Ue=1e3*(r+Math.random()),R(Ue)}let $=!1;function ee(oe){$||($=!0,k(),!E&&(null!==i?(oe||(p=2),clearTimeout(i),R(0)):oe||(p=1)))}return R(0),a=setTimeout(()=>{l=!0,ee(!0)},t),ee}((r,i)=>{if(i)return void r(!1,new dC(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const p=a.getErrorCode()===ap.NO_ERROR,y=a.getStatus();if(!p||F1(y,this.additionalRetryCodes_)&&this.retry){const T=a.getErrorCode()===ap.ABORT;return void r(!1,new dC(!1,null,T))}const E=-1!==this.successCodes_.indexOf(y);r(!0,new dC(E,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function f$(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class dC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function D$(...n){const e=function b$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(RR())return new Blob(n);throw new Cr(Jn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const sa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class PR{constructor(e,t){this.data=e,this.contentType=t||null}}function NR(n,e){switch(n){case sa.RAW:return new PR(L1(e));case sa.BASE64:case sa.BASE64URL:return new PR(V1(n,e));case sa.DATA_URL:return new PR(function A$(n){const e=new U1(n);return e.base64?V1(sa.BASE64,e.rest):function S$(n){let e;try{e=decodeURIComponent(n)}catch{throw iE(sa.DATA_URL,"Malformed data URL.")}return L1(e)}(e.rest)}(e),function M$(n){return new U1(n).contentType}(e))}throw MR()}function L1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function V1(n,e){switch(n){case sa.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw iE(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case sa.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw iE(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function T$(n){if(typeof atob>"u")throw function c$(n){return new Cr(Jn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:iE(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class U1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw iE(sa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function R$(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class gc{constructor(e,t){let r=0,i="";O1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(O1(this.data_)){const i=function C$(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new gc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new gc(r,!0)}}static getBlob(...e){if(RR()){const t=e.map(r=>r instanceof gc?r.data_:r);return new gc(D$.apply(null,t))}{const t=e.map(l=>cC(l)?NR(sa.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let p=0;p<l.length;p++)i[a++]=l[p]}),new gc(i,!0)}}uploadData(){return this.data_}}function OR(n){let e;try{e=JSON.parse(n)}catch{return null}return function m$(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function B1(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function N$(n,e){return e}class Gs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||N$}}let hC=null;function oE(){if(hC)return hC;const n=[];n.push(new Gs("bucket")),n.push(new Gs("generation")),n.push(new Gs("metageneration")),n.push(new Gs("name","fullPath",!0));const t=new Gs("name");t.xform=function e(a,l){return function O$(n){return!cC(n)||n.length<2?n:B1(n)}(l)},n.push(t);const i=new Gs("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Gs("timeCreated")),n.push(new Gs("updated")),n.push(new Gs("md5Hash",null,!0)),n.push(new Gs("cacheControl",null,!0)),n.push(new Gs("contentDisposition",null,!0)),n.push(new Gs("contentEncoding",null,!0)),n.push(new Gs("contentLanguage",null,!0)),n.push(new Gs("contentType",null,!0)),n.push(new Gs("metadata","customMetadata",!0)),hC=n,hC}function j1(n,e,t){const r=OR(e);return null===r?null:function F$(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return function k$(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new _s(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function kR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const $1="prefixes",H1="items";class mc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yc(n){if(!n)throw MR()}function fC(n,e){return function t(r,i){const a=j1(n,i,e);return yc(null!==a),a}}function U_(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function r$(){return new Cr(Jn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function n$(){return new Cr(Jn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function t$(n){return new Cr(Jn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function i$(n){return new Cr(Jn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function aE(n){const e=U_(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function e$(n){return new Cr(Jn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function z1(n,e,t){const i=Xd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,p=new mc(i,"GET",fC(n,t),l);return p.errorHandler=aE(e),p}function $$(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const p=Xd(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,T=new mc(p,"GET",function B$(n,e){return function t(r,i){const a=function U$(n,e,t){const r=OR(t);return null===r?null:function V$(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[$1])for(const i of t[$1]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new _s(e,a));r.prefixes.push(l)}if(t[H1])for(const i of t[H1]){const a=n._makeStorageReference(new _s(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return yc(null!==a),a}}(n,e.bucket),E);return T.urlParams=a,T.errorHandler=U_(e),T}function q1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function q$(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class pC{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function FR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{yc(!1)}return yc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Y$={STATE_CHANGED:"state_changed"},qs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function LR(n){switch(n){case"running":case"pausing":case"canceling":return qs.RUNNING;case"paused":return qs.PAUSED;case"success":return qs.SUCCESS;case"canceled":return qs.CANCELED;default:return qs.ERROR}}class Q${constructor(e,t,r){if(function g$(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function B_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let K1=null;class X${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ap.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ap.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ap.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw sE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class J$ extends X${initXhr(){this.xhr_.responseType="text"}}function el(){return K1?K1():new J$}class Y1{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=oE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Jn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(F1(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=M1()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Jn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function W$(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l=q1(e,r,i),p={name:l.fullPath},y=Xd(a,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},R=kR(l,t),$=new mc(y,"POST",function V(ee){let oe;FR(ee);try{oe=ee.getResponseHeader("X-Goog-Upload-URL")}catch{yc(!1)}return yc(cC(oe)),oe},n.maxUploadRetryTime);return $.urlParams=p,$.headers=T,$.body=R,$.errorHandler=U_(e),$}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,el,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Z$(n,e,t,r){const y=new mc(t,"POST",function a(E){const T=FR(E,["active","final"]);let R=null;try{R=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch{yc(!1)}R||yc(!1);const k=Number(R);return yc(!isNaN(k)),new pC(k,r.size(),"final"===T)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=U_(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,el,t,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new pC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=function K$(n,e,t,r,i,a,l,p){const y=new pC(0,0);if(l?(y.current=l.current,y.total=l.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function u$(){return new Cr(Jn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const E=y.total-y.current;let T=E;i>0&&(T=Math.min(T,i));const R=y.current;let V="";V=0===T?"finalize":E===T?"upload, finalize":"upload";const $={"X-Goog-Upload-Command":V,"X-Goog-Upload-Offset":`${y.current}`},ee=r.slice(R,R+T);if(null===ee)throw x1();const Ue=new mc(t,"POST",function oe(Ke,At){const kt=FR(Ke,["active","final"]),pn=y.current+T,Tr=r.size();let vs;return vs="final"===kt?fC(e,a)(Ke,At):null,new pC(pn,Tr,"final"===kt,vs)},e.maxUploadRetryTime);return Ue.headers=$,Ue.body=ee.uploadData(),Ue.progressCallback=p||null,Ue.errorHandler=U_(n),Ue}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const p=this._ref.storage._makeRequest(l,el,i,a,!1);this._request=p,p.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=z1(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,el,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function W1(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},y=function p(){let Ue="";for(let Ke=0;Ke<2;Ke++)Ue+=Math.random().toString().slice(2);return Ue}();l["Content-Type"]="multipart/related; boundary="+y;const E=q1(e,r,i),T=kR(E,t),V=gc.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+y+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===V)throw x1();const $={name:E.fullPath},ee=Xd(a,n.host,n._protocol),Me=n.maxUploadRetryTime,Ze=new mc(ee,"POST",fC(n,t),Me);return Ze.urlParams=$,Ze.headers=l,Ze.body=V.uploadData(),Ze.errorHandler=U_(e),Ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,el,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=R1(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=LR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new Q$(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(LR(this._state)){case qs.SUCCESS:B_(this._resolve.bind(null,this.snapshot))();break;case qs.CANCELED:case qs.ERROR:B_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(LR(this._state)){case qs.RUNNING:case qs.PAUSED:e.next&&B_(e.next.bind(e,this.snapshot))();break;case qs.SUCCESS:e.complete&&B_(e.complete.bind(e))();break;default:e.error&&B_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class wm{constructor(e,t){this._service=e,this._location=t instanceof _s?t:_s.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new wm(e,t)}get root(){const e=new _s(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B1(this._location.path)}get storage(){return this._service}get parent(){const e=function x$(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new _s(this._location.bucket,e);return new wm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw N1(e)}}function X1(n,e,t){return VR.apply(this,arguments)}function VR(){return VR=(0,me.Z)(function*(n,e,t){const i=yield J1(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield X1(n,e,i.nextPageToken))}),VR.apply(this,arguments)}function J1(n,e){null!=e&&"number"==typeof e.maxResults&&xR("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=$$(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,el)}function dH(n){n._throwIfRoot("getDownloadURL");const e=function H$(n,e,t){const i=Xd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,p=new mc(i,"GET",function j$(n,e){return function t(r,i){const a=j1(n,i,e);return yc(null!==a),function L$(n,e,t,r){const i=OR(e);if(null===i||!cC(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(E=>{const R=n.fullPath;return Xd("/b/"+l(n.bucket)+"/o/"+l(R),t,r)+k1({alt:"media",token:E})})[0]}(a,i,n.host,n._protocol)}}(n,t),l);return p.errorHandler=aE(e),p}(n.storage,n._location,oE());return n.storage.makeRequestWithTokens(e,el).then(t=>{if(null===t)throw function l$(){return new Cr(Jn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function ek(n,e){const t=function P$(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new _s(n._location.bucket,t);return new wm(n.storage,r)}function tk(n,e){if(n instanceof UR){const t=n;if(null==t._bucket)throw function a$(){return new Cr(Jn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+A1+"' property when initializing the app?")}();const r=new wm(t,t._bucket);return null!=e?tk(r,e):r}return void 0!==e?ek(n,e):n}function gH(n,e){if(e&&function fH(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof UR)return function pH(n,e){return new wm(n,e)}(n,e);throw V_("To use ref(service, url), the first argument must be a Storage instance.")}return tk(n,e)}function nk(n,e){const t=e?.[A1];return null==t?null:_s.makeFromBucketSpec(t,n)}class UR{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=S1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?_s.makeFromBucketSpec(i,this._host):nk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_s.makeFromBucketSpec(this._url,e):nk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wm(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new d$(P1());{const l=function I$(n,e,t,r,i,a,l=!0){const p=k1(n.urlParams),y=n.url+p,E=Object.assign({},n.headers);return function w$(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function _$(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function v$(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(E,a),function E$(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,r),new y$(y,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,me.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const rk="@firebase/storage";function ok(n,e){return gH(n=(0,Yt.m9)(n),e)}function CH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new UR(t,r,i,e,Ko.SDK_VERSION)}!function TH(){(0,Ko._registerComponent)(new rf.wA("storage",CH,"PUBLIC").setMultipleInstances(!0)),(0,Ko.registerVersion)(rk,"0.11.2",""),(0,Ko.registerVersion)(rk,"0.11.2","esm2017")}();class gC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class uk{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new gC(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?l=>t(new gC(l,this,this._ref)):{next:t.next?l=>t.next(new gC(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class lk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Jd(e,this._service))}get items(){return this._delegate.items.map(e=>new Jd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Jd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function DH(n,e){return ek(n,e)}(this._delegate,e);return new Jd(t,this.storage)}get root(){return new Jd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Jd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new uk(function yH(n,e,t){return function oH(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Y1(n,new gc(e),t)}(n=(0,Yt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=sa.RAW,r){this._throwIfRoot("putString");const i=NR(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new uk(new Y1(this._delegate,new gc(i.data,!0),a),this)}listAll(){return function EH(n){return function uH(n){const e={prefixes:[],items:[]};return X1(n,e).then(()=>e)}(n=(0,Yt.m9)(n))}(this._delegate).then(e=>new lk(e,this.storage))}list(e){return function wH(n,e){return J1(n=(0,Yt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new lk(t,this.storage))}getMetadata(){return function _H(n){return function lH(n){n._throwIfRoot("getMetadata");const e=z1(n.storage,n._location,oE());return n.storage.makeRequestWithTokens(e,el)}(n=(0,Yt.m9)(n))}(this._delegate)}updateMetadata(e){return function vH(n,e){return function cH(n,e){n._throwIfRoot("updateMetadata");const t=function z$(n,e,t,r){const a=Xd(e.fullServerUrl(),n.host,n._protocol),p=kR(t,r),E=n.maxOperationRetryTime,T=new mc(a,"PATCH",fC(n,r),E);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=p,T.errorHandler=aE(e),T}(n.storage,n._location,e,oE());return n.storage.makeRequestWithTokens(t,el)}(n=(0,Yt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function IH(n){return dH(n=(0,Yt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function bH(n){return function hH(n){n._throwIfRoot("deleteObject");const e=function G$(n,e){const r=Xd(e.fullServerUrl(),n.host,n._protocol),p=new mc(r,"DELETE",function l(y,E){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=aE(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,el)}(n=(0,Yt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw N1(e)}}class ck{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(dk(e))throw V_("ref() expected a child path but got a URL, use refFromURL instead.");return new Jd(ok(this._delegate,e),this)}refFromURL(e){if(!dk(e))throw V_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_s.makeFromUrl(e,this._delegate.host)}catch{throw V_("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jd(ok(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function ak(n,e,t,r={}){!function mH(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Yt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function dk(n){return/^[A-Za-z]+:\/\//.test(n)}function RH(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new ck(t,r)}function hk(n){const e=function PH(n){return new ni.y(e=>{const t=l=>e.next(l);t(n.snapshot);const a=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(function Yj(n,e=tf.z){return(0,xr.e)((t,r)=>{let i=null,a=null,l=null;const p=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function y(){const E=l+n,T=e.now();if(T<E)return i=this.schedule(void 0,E-T),void r.add(i);p()}t.subscribe((0,Ir.x)(r,E=>{a=E,l=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,gt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function mC(n){return{getDownloadURL:()=>lt(void 0).pipe(Vn.fc,$n(()=>n.getDownloadURL()),Vn.iC),getMetadata:()=>lt(void 0).pipe(Vn.fc,$n(()=>n.getMetadata()),Vn.iC),delete:()=>(0,sn.D)(n.delete()),child:e=>mC(n.child(e)),updateMetadata:e=>(0,sn.D)(n.updateMetadata(e)),put:(e,t)=>hk(n.put(e,t)),putString:(e,t,r)=>hk(n.putString(e,t,r)),list:e=>(0,sn.D)(n.list(e)),listAll:()=>(0,sn.D)(n.listAll())}}!function xH(n){const e={TaskState:qs,TaskEvent:Y$,StringFormat:sa,Storage:ck,Reference:Jd};n.INTERNAL.registerComponent(new rf.wA("storage-compat",RH,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(xv.Z);const NH=new d.OlP("angularfire2.storageBucket"),OH=new d.OlP("angularfire2.storage.maxUploadRetryTime"),kH=new d.OlP("angularfire2.storage.maxOperationRetryTime"),FH=new d.OlP("angularfire2.storage.use-emulator");let LH=(()=>{class n{constructor(t,r,i,a,l,p,y,E,T,R){const k=(0,wi.on)(t,l,r);this.storage=(0,wi.cc)(`${k.name}.storage.${i}`,"AngularFireStorage",k.name,()=>{const V=l.runOutsideAngular(()=>k.storage(i||void 0)),$=T;return $&&V.useEmulator(...$),y&&V.setMaxUploadRetryTime(y),E&&V.setMaxOperationRetryTime(E),V},[y,E])}ref(t){return mC(this.storage.ref(t))}refFromURL(t){return mC(this.storage.refFromURL(t))}upload(t,r,i){return mC(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wi.Dh),d.LFG(wi.xv,8),d.LFG(NH,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Vn.HU),d.LFG(OH,8),d.LFG(kH,8),d.LFG(FH,8),d.LFG(xD,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),UH=(()=>{class n{constructor(){ef.Z.registerVersion("angularfire",Vn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[LH],imports:[VH]}),n})(),BH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[DU]}),n.\u0275inj=d.cJS({imports:[Oo,aU,wi.hO.initializeApp(CU_firebaseConfig),G2,eU,Cj,Kj,tU,UH,L2]}),n})();kc().bootstrapModule(BH).catch(n=>console.error(n))},9751:(bt,Te,F)=>{F.d(Te,{y:()=>we});var d=F(2961),X=F(727),O=F(8822),ae=F(9635),ue=F(2416),ie=F(576),ye=F(2806);let we=(()=>{class Z{constructor(De){De&&(this._subscribe=De)}lift(De){const Qe=new Z;return Qe.source=this,Qe.operator=De,Qe}subscribe(De,Qe,pt){const pe=function H(Z){return Z&&Z instanceof d.Lv||function z(Z){return Z&&(0,ie.m)(Z.next)&&(0,ie.m)(Z.error)&&(0,ie.m)(Z.complete)}(Z)&&(0,X.Nn)(Z)}(De)?De:new d.Hp(De,Qe,pt);return(0,ye.x)(()=>{const{operator:Pe,source:Ne}=this;pe.add(Pe?Pe.call(pe,Ne):Ne?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(De){try{return this._subscribe(De)}catch(Qe){De.error(Qe)}}forEach(De,Qe){return new(Qe=he(Qe))((pt,pe)=>{const Pe=new d.Hp({next:Ne=>{try{De(Ne)}catch(Be){pe(Be),Pe.unsubscribe()}},error:pe,complete:pt});this.subscribe(Pe)})}_subscribe(De){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(De)}[O.L](){return this}pipe(...De){return(0,ae.U)(De)(this)}toPromise(De){return new(De=he(De))((Qe,pt)=>{let pe;this.subscribe(Pe=>pe=Pe,Pe=>pt(Pe),()=>Qe(pe))})}}return Z.create=ze=>new Z(ze),Z})();function he(Z){var ze;return null!==(ze=Z??ue.v.Promise)&&void 0!==ze?ze:Promise}},7579:(bt,Te,F)=>{F.d(Te,{x:()=>ye});var d=F(9751),X=F(727);const ae=(0,F(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=F(8737),ie=F(2806);let ye=(()=>{class he extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Z=new we(this,this);return Z.operator=H,Z}_throwIfClosed(){if(this.closed)throw new ae}next(H){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(H)}})}error(H){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Z}=this;for(;Z.length;)Z.shift().error(H)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Z,isStopped:ze,observers:De}=this;return Z||ze?X.Lc:(this.currentObservers=null,De.push(H),new X.w0(()=>{this.currentObservers=null,(0,ue.P)(De,H)}))}_checkFinalizedStatuses(H){const{hasError:Z,thrownError:ze,isStopped:De}=this;Z?H.error(ze):De&&H.complete()}asObservable(){const H=new d.y;return H.source=this,H}}return he.create=(z,H)=>new we(z,H),he})();class we extends ye{constructor(z,H){super(),this.destination=z,this.source=H}next(z){var H,Z;null===(Z=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Z||Z.call(H,z)}error(z){var H,Z;null===(Z=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Z||Z.call(H,z)}complete(){var z,H;null===(H=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===H||H.call(z)}_subscribe(z){var H,Z;return null!==(Z=null===(H=this.source)||void 0===H?void 0:H.subscribe(z))&&void 0!==Z?Z:X.Lc}}},2961:(bt,Te,F)=>{F.d(Te,{Hp:()=>pt,Lv:()=>Z});var d=F(576),X=F(727),O=F(2416),ae=F(7849);function ue(){}const ie=he("C",void 0,void 0);function he(Oe,Ee,Ie){return{kind:Oe,value:Ee,error:Ie}}var z=F(3410),H=F(2806);class Z extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=Be}static create(Ee,Ie,Ge){return new pt(Ee,Ie,Ge)}next(Ee){this.isStopped?Ne(function we(Oe){return he("N",Oe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ne(function ye(Oe){return he("E",void 0,Oe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ne(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function De(Oe,Ee){return ze.call(Oe,Ee)}class Qe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(Ee)}catch(Ge){pe(Ge)}}error(Ee){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(Ee)}catch(Ge){pe(Ge)}else pe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ie){pe(Ie)}}}class pt extends Z{constructor(Ee,Ie,Ge){let ke;if(super(),(0,d.m)(Ee)||!Ee)ke={next:Ee??void 0,error:Ie??void 0,complete:Ge??void 0};else{let ot;this&&O.v.useDeprecatedNextContext?(ot=Object.create(Ee),ot.unsubscribe=()=>this.unsubscribe(),ke={next:Ee.next&&De(Ee.next,ot),error:Ee.error&&De(Ee.error,ot),complete:Ee.complete&&De(Ee.complete,ot)}):ke=Ee}this.destination=new Qe(ke)}}function pe(Oe){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Oe):(0,ae.h)(Oe)}function Ne(Oe,Ee){const{onStoppedNotification:Ie}=O.v;Ie&&z.z.setTimeout(()=>Ie(Oe,Ee))}const Be={closed:!0,next:ue,error:function Pe(Oe){throw Oe},complete:ue}},727:(bt,Te,F)=>{F.d(Te,{Lc:()=>ie,w0:()=>ue,Nn:()=>ye});var d=F(576);const O=(0,F(3888).d)(he=>function(H){he(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Z,ze)=>`${ze+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ae=F(8737);class ue{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const De of H)De.remove(this);else H.remove(this);const{initialTeardown:Z}=this;if((0,d.m)(Z))try{Z()}catch(De){z=De instanceof O?De.errors:[De]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const De of ze)try{we(De)}catch(Qe){z=z??[],Qe instanceof O?z=[...z,...Qe.errors]:z.push(Qe)}}if(z)throw new O(z)}}add(z){var H;if(z&&z!==this)if(this.closed)we(z);else{if(z instanceof ue){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(z)}}_hasParent(z){const{_parentage:H}=this;return H===z||Array.isArray(H)&&H.includes(z)}_addParent(z){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(z),H):H?[H,z]:z}_removeParent(z){const{_parentage:H}=this;H===z?this._parentage=null:Array.isArray(H)&&(0,ae.P)(H,z)}remove(z){const{_finalizers:H}=this;H&&(0,ae.P)(H,z),z instanceof ue&&z._removeParent(this)}}ue.EMPTY=(()=>{const he=new ue;return he.closed=!0,he})();const ie=ue.EMPTY;function ye(he){return he instanceof ue||he&&"closed"in he&&(0,d.m)(he.remove)&&(0,d.m)(he.add)&&(0,d.m)(he.unsubscribe)}function we(he){(0,d.m)(he)?he():he.unsubscribe()}},2416:(bt,Te,F)=>{F.d(Te,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,Te,F)=>{F.d(Te,{E:()=>X});const X=new(F(9751).y)(ue=>ue.complete())},8996:(bt,Te,F)=>{F.d(Te,{D:()=>Ee});var d=F(8421),X=F(5363),O=F(9468),ie=F(9751),we=F(2202),he=F(576),z=F(9672);function Z(Ie,Ge){if(!Ie)throw new Error("Iterable cannot be null");return new ie.y(ke=>{(0,z.f)(ke,Ge,()=>{const ot=Ie[Symbol.asyncIterator]();(0,z.f)(ke,Ge,()=>{ot.next().then(se=>{se.done?ke.complete():ke.next(se.value)})},0,!0)})})}var ze=F(3670),De=F(8239),Qe=F(1144),pt=F(6495),pe=F(2206),Pe=F(4532),Ne=F(3260);function Ee(Ie,Ge){return Ge?function Oe(Ie,Ge){if(null!=Ie){if((0,ze.c)(Ie))return function ae(Ie,Ge){return(0,d.Xf)(Ie).pipe((0,O.R)(Ge),(0,X.Q)(Ge))}(Ie,Ge);if((0,Qe.z)(Ie))return function ye(Ie,Ge){return new ie.y(ke=>{let ot=0;return Ge.schedule(function(){ot===Ie.length?ke.complete():(ke.next(Ie[ot++]),ke.closed||this.schedule())})})}(Ie,Ge);if((0,De.t)(Ie))return function ue(Ie,Ge){return(0,d.Xf)(Ie).pipe((0,O.R)(Ge),(0,X.Q)(Ge))}(Ie,Ge);if((0,pe.D)(Ie))return Z(Ie,Ge);if((0,pt.T)(Ie))return function H(Ie,Ge){return new ie.y(ke=>{let ot;return(0,z.f)(ke,Ge,()=>{ot=Ie[we.h](),(0,z.f)(ke,Ge,()=>{let se,Rt;try{({value:se,done:Rt}=ot.next())}catch(rt){return void ke.error(rt)}Rt?ke.complete():ke.next(se)},0,!0)}),()=>(0,he.m)(ot?.return)&&ot.return()})}(Ie,Ge);if((0,Ne.L)(Ie))return function Be(Ie,Ge){return Z((0,Ne.Q)(Ie),Ge)}(Ie,Ge)}throw(0,Pe.z)(Ie)}(Ie,Ge):(0,d.Xf)(Ie)}},8421:(bt,Te,F)=>{F.d(Te,{Xf:()=>ze});var d=F(655),X=F(1144),O=F(8239),ae=F(9751),ue=F(3670),ie=F(2206),ye=F(4532),we=F(6495),he=F(3260),z=F(576),H=F(7849),Z=F(8822);function ze(Oe){if(Oe instanceof ae.y)return Oe;if(null!=Oe){if((0,ue.c)(Oe))return function De(Oe){return new ae.y(Ee=>{const Ie=Oe[Z.L]();if((0,z.m)(Ie.subscribe))return Ie.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,X.z)(Oe))return function Qe(Oe){return new ae.y(Ee=>{for(let Ie=0;Ie<Oe.length&&!Ee.closed;Ie++)Ee.next(Oe[Ie]);Ee.complete()})}(Oe);if((0,O.t)(Oe))return function pt(Oe){return new ae.y(Ee=>{Oe.then(Ie=>{Ee.closed||(Ee.next(Ie),Ee.complete())},Ie=>Ee.error(Ie)).then(null,H.h)})}(Oe);if((0,ie.D)(Oe))return Pe(Oe);if((0,we.T)(Oe))return function pe(Oe){return new ae.y(Ee=>{for(const Ie of Oe)if(Ee.next(Ie),Ee.closed)return;Ee.complete()})}(Oe);if((0,he.L)(Oe))return function Ne(Oe){return Pe((0,he.Q)(Oe))}(Oe)}throw(0,ye.z)(Oe)}function Pe(Oe){return new ae.y(Ee=>{(function Be(Oe,Ee){var Ie,Ge,ke,ot;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,d.KL)(Oe);!(Ge=yield Ie.next()).done;)if(Ee.next(Ge.value),Ee.closed)return}catch(se){ke={error:se}}finally{try{Ge&&!Ge.done&&(ot=Ie.return)&&(yield ot.call(Ie))}finally{if(ke)throw ke.error}}Ee.complete()})})(Oe,Ee).catch(Ie=>Ee.error(Ie))})}},6451:(bt,Te,F)=>{F.d(Te,{T:()=>ie});var d=F(8189),X=F(8421),O=F(515),ae=F(7669),ue=F(8996);function ie(...ye){const we=(0,ae.yG)(ye),he=(0,ae._6)(ye,1/0),z=ye;return z.length?1===z.length?(0,X.Xf)(z[0]):(0,d.J)(he)((0,ue.D)(z,we)):O.E}},5403:(bt,Te,F)=>{F.d(Te,{x:()=>X});var d=F(2961);function X(ae,ue,ie,ye,we){return new O(ae,ue,ie,ye,we)}class O extends d.Lv{constructor(ue,ie,ye,we,he,z){super(ue),this.onFinalize=he,this.shouldUnsubscribe=z,this._next=ie?function(H){try{ie(H)}catch(Z){ue.error(Z)}}:super._next,this._error=we?function(H){try{we(H)}catch(Z){ue.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(H){ue.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(bt,Te,F)=>{F.d(Te,{U:()=>O});var d=F(4482),X=F(5403);function O(ae,ue){return(0,d.e)((ie,ye)=>{let we=0;ie.subscribe((0,X.x)(ye,he=>{ye.next(ae.call(ue,he,we++))}))})}},8189:(bt,Te,F)=>{F.d(Te,{J:()=>O});var d=F(5577),X=F(4671);function O(ae=1/0){return(0,d.z)(X.y,ae)}},5577:(bt,Te,F)=>{F.d(Te,{z:()=>we});var d=F(4004),X=F(8421),O=F(4482),ae=F(9672),ue=F(5403),ye=F(576);function we(he,z,H=1/0){return(0,ye.m)(z)?we((Z,ze)=>(0,d.U)((De,Qe)=>z(Z,De,ze,Qe))((0,X.Xf)(he(Z,ze))),H):("number"==typeof z&&(H=z),(0,O.e)((Z,ze)=>function ie(he,z,H,Z,ze,De,Qe,pt){const pe=[];let Pe=0,Ne=0,Be=!1;const Oe=()=>{Be&&!pe.length&&!Pe&&z.complete()},Ee=Ge=>Pe<Z?Ie(Ge):pe.push(Ge),Ie=Ge=>{De&&z.next(Ge),Pe++;let ke=!1;(0,X.Xf)(H(Ge,Ne++)).subscribe((0,ue.x)(z,ot=>{ze?.(ot),De?Ee(ot):z.next(ot)},()=>{ke=!0},void 0,()=>{if(ke)try{for(Pe--;pe.length&&Pe<Z;){const ot=pe.shift();Qe?(0,ae.f)(z,Qe,()=>Ie(ot)):Ie(ot)}Oe()}catch(ot){z.error(ot)}}))};return he.subscribe((0,ue.x)(z,Ee,()=>{Be=!0,Oe()})),()=>{pt?.()}}(Z,ze,he,H)))}},5363:(bt,Te,F)=>{F.d(Te,{Q:()=>ae});var d=F(9672),X=F(4482),O=F(5403);function ae(ue,ie=0){return(0,X.e)((ye,we)=>{ye.subscribe((0,O.x)(we,he=>(0,d.f)(we,ue,()=>we.next(he),ie),()=>(0,d.f)(we,ue,()=>we.complete(),ie),he=>(0,d.f)(we,ue,()=>we.error(he),ie)))})}},3099:(bt,Te,F)=>{F.d(Te,{B:()=>ue});var d=F(8421),X=F(7579),O=F(2961),ae=F(4482);function ue(ye={}){const{connector:we=(()=>new X.x),resetOnError:he=!0,resetOnComplete:z=!0,resetOnRefCountZero:H=!0}=ye;return Z=>{let ze,De,Qe,pt=0,pe=!1,Pe=!1;const Ne=()=>{De?.unsubscribe(),De=void 0},Be=()=>{Ne(),ze=Qe=void 0,pe=Pe=!1},Oe=()=>{const Ee=ze;Be(),Ee?.unsubscribe()};return(0,ae.e)((Ee,Ie)=>{pt++,!Pe&&!pe&&Ne();const Ge=Qe=Qe??we();Ie.add(()=>{pt--,0===pt&&!Pe&&!pe&&(De=ie(Oe,H))}),Ge.subscribe(Ie),!ze&&pt>0&&(ze=new O.Hp({next:ke=>Ge.next(ke),error:ke=>{Pe=!0,Ne(),De=ie(Be,he,ke),Ge.error(ke)},complete:()=>{pe=!0,Ne(),De=ie(Be,z),Ge.complete()}}),(0,d.Xf)(Ee).subscribe(ze))})(Z)}}function ie(ye,we,...he){if(!0===we)return void ye();if(!1===we)return;const z=new O.Hp({next:()=>{z.unsubscribe(),ye()}});return(0,d.Xf)(we(...he)).subscribe(z)}},9468:(bt,Te,F)=>{F.d(Te,{R:()=>X});var d=F(4482);function X(O,ae=0){return(0,d.e)((ue,ie)=>{ie.add(O.schedule(()=>ue.subscribe(ie),ae))})}},8505:(bt,Te,F)=>{F.d(Te,{b:()=>ue});var d=F(576),X=F(4482),O=F(5403),ae=F(4671);function ue(ie,ye,we){const he=(0,d.m)(ie)||ye||we?{next:ie,error:ye,complete:we}:ie;return he?(0,X.e)((z,H)=>{var Z;null===(Z=he.subscribe)||void 0===Z||Z.call(he);let ze=!0;z.subscribe((0,O.x)(H,De=>{var Qe;null===(Qe=he.next)||void 0===Qe||Qe.call(he,De),H.next(De)},()=>{var De;ze=!1,null===(De=he.complete)||void 0===De||De.call(he),H.complete()},De=>{var Qe;ze=!1,null===(Qe=he.error)||void 0===Qe||Qe.call(he,De),H.error(De)},()=>{var De,Qe;ze&&(null===(De=he.unsubscribe)||void 0===De||De.call(he)),null===(Qe=he.finalize)||void 0===Qe||Qe.call(he)}))}):ae.y}},4408:(bt,Te,F)=>{F.d(Te,{o:()=>ue});var d=F(727);class X extends d.w0{constructor(ye,we){super()}schedule(ye,we=0){return this}}const O={setInterval(ie,ye,...we){const{delegate:he}=O;return he?.setInterval?he.setInterval(ie,ye,...we):setInterval(ie,ye,...we)},clearInterval(ie){const{delegate:ye}=O;return(ye?.clearInterval||clearInterval)(ie)},delegate:void 0};var ae=F(8737);class ue extends X{constructor(ye,we){super(ye,we),this.scheduler=ye,this.work=we,this.pending=!1}schedule(ye,we=0){var he;if(this.closed)return this;this.state=ye;const z=this.id,H=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(H,z,we)),this.pending=!0,this.delay=we,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(H,this.id,we),this}requestAsyncId(ye,we,he=0){return O.setInterval(ye.flush.bind(ye,this),he)}recycleAsyncId(ye,we,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return we;null!=we&&O.clearInterval(we)}execute(ye,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ye,we);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,we){let z,he=!1;try{this.work(ye)}catch(H){he=!0,z=H||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ye,scheduler:we}=this,{actions:he}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(he,this),null!=ye&&(this.id=this.recycleAsyncId(we,ye,null)),this.delay=null,super.unsubscribe()}}}},7565:(bt,Te,F)=>{F.d(Te,{v:()=>O});var d=F(6063);class X{constructor(ue,ie=X.now){this.schedulerActionCtor=ue,this.now=ie}schedule(ue,ie=0,ye){return new this.schedulerActionCtor(this,ue).schedule(ye,ie)}}X.now=d.l.now;class O extends X{constructor(ue,ie=X.now){super(ue,ie),this.actions=[],this._active=!1}flush(ue){const{actions:ie}=this;if(this._active)return void ie.push(ue);let ye;this._active=!0;do{if(ye=ue.execute(ue.state,ue.delay))break}while(ue=ie.shift());if(this._active=!1,ye){for(;ue=ie.shift();)ue.unsubscribe();throw ye}}}},4986:(bt,Te,F)=>{F.d(Te,{z:()=>O});var d=F(4408);const O=new(F(7565).v)(d.o)},6063:(bt,Te,F)=>{F.d(Te,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(bt,Te,F)=>{F.d(Te,{z:()=>d});const d={setTimeout(X,O,...ae){const{delegate:ue}=d;return ue?.setTimeout?ue.setTimeout(X,O,...ae):setTimeout(X,O,...ae)},clearTimeout(X){const{delegate:O}=d;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(bt,Te,F)=>{F.d(Te,{h:()=>X});const X=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Te,F)=>{F.d(Te,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(bt,Te,F)=>{F.d(Te,{_6:()=>ie,jO:()=>ae,yG:()=>ue});var d=F(576);function O(ye){return ye[ye.length-1]}function ae(ye){return(0,d.m)(O(ye))?ye.pop():void 0}function ue(ye){return function X(ye){return ye&&(0,d.m)(ye.schedule)}(O(ye))?ye.pop():void 0}function ie(ye,we){return"number"==typeof O(ye)?ye.pop():we}},8737:(bt,Te,F)=>{function d(X,O){if(X){const ae=X.indexOf(O);0<=ae&&X.splice(ae,1)}}F.d(Te,{P:()=>d})},3888:(bt,Te,F)=>{function d(X){const ae=X(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Te,{d:()=>d})},2806:(bt,Te,F)=>{F.d(Te,{O:()=>ae,x:()=>O});var d=F(2416);let X=null;function O(ue){if(d.v.useDeprecatedSynchronousErrorHandling){const ie=!X;if(ie&&(X={errorThrown:!1,error:null}),ue(),ie){const{errorThrown:ye,error:we}=X;if(X=null,ye)throw we}}else ue()}function ae(ue){d.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ue)}},9672:(bt,Te,F)=>{function d(X,O,ae,ue=0,ie=!1){const ye=O.schedule(function(){ae(),ie?X.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(X.add(ye),!ie)return ye}F.d(Te,{f:()=>d})},4671:(bt,Te,F)=>{function d(X){return X}F.d(Te,{y:()=>d})},1144:(bt,Te,F)=>{F.d(Te,{z:()=>d});const d=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(bt,Te,F)=>{F.d(Te,{D:()=>X});var d=F(576);function X(O){return Symbol.asyncIterator&&(0,d.m)(O?.[Symbol.asyncIterator])}},576:(bt,Te,F)=>{function d(X){return"function"==typeof X}F.d(Te,{m:()=>d})},3670:(bt,Te,F)=>{F.d(Te,{c:()=>O});var d=F(8822),X=F(576);function O(ae){return(0,X.m)(ae[d.L])}},6495:(bt,Te,F)=>{F.d(Te,{T:()=>O});var d=F(2202),X=F(576);function O(ae){return(0,X.m)(ae?.[d.h])}},8239:(bt,Te,F)=>{F.d(Te,{t:()=>X});var d=F(576);function X(O){return(0,d.m)(O?.then)}},3260:(bt,Te,F)=>{F.d(Te,{L:()=>ae,Q:()=>O});var d=F(655),X=F(576);function O(ue){return(0,d.FC)(this,arguments,function*(){const ye=ue.getReader();try{for(;;){const{value:we,done:he}=yield(0,d.qq)(ye.read());if(he)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(we)}}finally{ye.releaseLock()}})}function ae(ue){return(0,X.m)(ue?.getReader)}},4482:(bt,Te,F)=>{F.d(Te,{A:()=>X,e:()=>O});var d=F(576);function X(ae){return(0,d.m)(ae?.lift)}function O(ae){return ue=>{if(X(ue))return ue.lift(function(ie){try{return ae(ie,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(bt,Te,F)=>{F.d(Te,{U:()=>O,z:()=>X});var d=F(4671);function X(...ae){return O(ae)}function O(ae){return 0===ae.length?d.y:1===ae.length?ae[0]:function(ie){return ae.reduce((ye,we)=>we(ye),ie)}}},7849:(bt,Te,F)=>{F.d(Te,{h:()=>O});var d=F(2416),X=F(3410);function O(ae){X.z.setTimeout(()=>{const{onUnhandledError:ue}=d.v;if(!ue)throw ae;ue(ae)})}},4532:(bt,Te,F)=>{function d(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Te,{z:()=>d})},655:(bt,Te,F)=>{function ae(fe,ge){var be={};for(var Se in fe)Object.prototype.hasOwnProperty.call(fe,Se)&&ge.indexOf(Se)<0&&(be[Se]=fe[Se]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Se=Object.getOwnPropertySymbols(fe);qe<Se.length;qe++)ge.indexOf(Se[qe])<0&&Object.prototype.propertyIsEnumerable.call(fe,Se[qe])&&(be[Se[qe]]=fe[Se[qe]])}return be}function Z(fe,ge,be,Se){return new(be||(be=Promise))(function(je,mt){function ft(Kt){try{tt(Se.next(Kt))}catch(Mt){mt(Mt)}}function Ut(Kt){try{tt(Se.throw(Kt))}catch(Mt){mt(Mt)}}function tt(Kt){Kt.done?je(Kt.value):function qe(je){return je instanceof be?je:new be(function(mt){mt(je)})}(Kt.value).then(ft,Ut)}tt((Se=Se.apply(fe,ge||[])).next())})}function Oe(fe){return this instanceof Oe?(this.v=fe,this):new Oe(fe)}function Ee(fe,ge,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Se=be.apply(fe,ge||[]),je=[];return qe={},mt("next"),mt("throw"),mt("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function mt(ln){Se[ln]&&(qe[ln]=function(Cn){return new Promise(function(Rn,Or){je.push([ln,Cn,Rn,Or])>1||ft(ln,Cn)})})}function ft(ln,Cn){try{!function Ut(ln){ln.value instanceof Oe?Promise.resolve(ln.value.v).then(tt,Kt):Mt(je[0][2],ln)}(Se[ln](Cn))}catch(Rn){Mt(je[0][3],Rn)}}function tt(ln){ft("next",ln)}function Kt(ln){ft("throw",ln)}function Mt(ln,Cn){ln(Cn),je.shift(),je.length&&ft(je[0][0],je[0][1])}}function Ge(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ge=fe[Symbol.asyncIterator];return ge?ge.call(fe):(fe=function pt(fe){var ge="function"==typeof Symbol&&Symbol.iterator,be=ge&&fe[ge],Se=0;if(be)return be.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Se>=fe.length&&(fe=void 0),{value:fe&&fe[Se++],done:!fe}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(fe),be={},Se("next"),Se("throw"),Se("return"),be[Symbol.asyncIterator]=function(){return this},be);function Se(je){be[je]=fe[je]&&function(mt){return new Promise(function(ft,Ut){!function qe(je,mt,ft,Ut){Promise.resolve(Ut).then(function(tt){je({value:tt,done:ft})},mt)}(ft,Ut,(mt=fe[je](mt)).done,mt.value)})}}}F.d(Te,{FC:()=>Ee,KL:()=>Ge,_T:()=>ae,mG:()=>Z,qq:()=>Oe})},4650:(bt,Te,F)=>{F.d(Te,{$8M:()=>Ea,$WT:()=>_r,$Z:()=>VE,AFp:()=>l0,ALo:()=>ci,AaK:()=>we,CHM:()=>iu,CRH:()=>Hg,CZH:()=>Ld,CqO:()=>aw,D6c:()=>Yb,EJc:()=>xb,EpF:()=>pg,F4k:()=>ow,FYo:()=>_v,FiY:()=>wu,GfV:()=>_E,Gpc:()=>H,JOm:()=>Dt,KtG:()=>su,LFG:()=>dn,LSH:()=>ud,Lbi:()=>Qg,Lck:()=>Un,MAs:()=>rw,MMx:()=>rc,MR2:()=>_C,NdJ:()=>yy,OlP:()=>tn,Oqu:()=>Iw,P3R:()=>jh,PXZ:()=>jb,Q6J:()=>py,QGY:()=>gg,QbO:()=>Xg,Qsj:()=>TC,R0b:()=>gs,RDi:()=>Lm,Rgc:()=>Lf,SBq:()=>Wh,Sil:()=>iS,Suo:()=>Ky,TTD:()=>bc,TgZ:()=>mf,VKq:()=>Ad,WLB:()=>By,X6Q:()=>im,XFs:()=>_t,Xpm:()=>Gi,Xts:()=>uv,Y36:()=>Jh,YKP:()=>$w,YNc:()=>tw,Yjl:()=>Zt,Yz7:()=>Mt,Z0I:()=>Or,ZZ4:()=>cc,_Bn:()=>jw,_UZ:()=>_f,_Vd:()=>qh,_c5:()=>vS,_uU:()=>Tg,aQg:()=>y_,c2e:()=>r_,cJS:()=>Cn,cg1:()=>xg,dDg:()=>Vb,dqk:()=>on,eFA:()=>nm,eJc:()=>s0,ekj:()=>bg,eoX:()=>a_,f3M:()=>Bn,g9A:()=>t_,h0i:()=>js,hGG:()=>__,hij:()=>Sg,iGM:()=>xd,ifc:()=>_e,ip1:()=>Jy,jDz:()=>zw,kL8:()=>MI,lG2:()=>Tt,lcZ:()=>Gu,lqb:()=>dd,lri:()=>o_,n5z:()=>Al,oAB:()=>te,oJD:()=>qp,oxw:()=>Jl,q4F:()=>vE,qLn:()=>Yp,qOj:()=>cy,qZA:()=>yf,rWj:()=>Lb,s9C:()=>_y,sBO:()=>cS,s_b:()=>Hy,soG:()=>Jg,tb:()=>Ku,tp0:()=>gt,uIk:()=>Yv,vHH:()=>pe,vpe:()=>es,wAp:()=>St,xi3:()=>Yw,xp6:()=>RE,z2F:()=>c_,zSh:()=>Yl,zs3:()=>Yh});var d=F(7579),X=F(727),O=F(9751),ae=F(6451),ue=F(3099);function ie(s){for(let o in s)if(s[o]===ie)return o;throw Error("Could not find renamed property on target object.")}function ye(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function we(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(we).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=ie({__forward_ref__:ie});function H(s){return s.__forward_ref__=H,s.toString=function(){return we(this())},s}function Z(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===H}function De(s){return s&&!!s.\u0275providers}const pt="https://g.co/ng/security#xss";class pe extends Error{constructor(o,u){super(Pe(o,u)),this.code=o}}function Pe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Ne(s){return"string"==typeof s?s:null==s?"":String(s)}function Ge(s,o){throw new pe(-201,!1)}function mt(s,o){null==s&&function ft(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Mt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Rn(s){return Zr(s,bi)||Zr(s,mo)}function Or(s){return null!==Rn(s)}function Zr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ws(s){return s&&(s.hasOwnProperty(aa)||s.hasOwnProperty(Fr))?s[aa]:null}const bi=ie({\u0275prov:ie}),aa=ie({\u0275inj:ie}),mo=ie({ngInjectableDef:ie}),Fr=ie({ngInjectorDef:ie});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let fi;function Ar(s){const o=fi;return fi=s,o}function Kr(s,o,u){const c=Rn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&_t.Optional?null:void 0!==o?o:void Ge(we(s))}const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Di={},pi="__NG_DI_FLAG__",yr="ngTempTokenPath",Yr="ngTokenPath",kn=/\n/gm,gi="\u0275",vn="__source";let Zs;function en(s){const o=Zs;return Zs=s,o}function is(s,o=_t.Default){if(void 0===Zs)throw new pe(-203,!1);return null===Zs?Kr(s,void 0,o):Zs.get(s,o&_t.Optional?null:void 0,o)}function dn(s,o=_t.Default){return(function vc(){return fi}()||is)(Z(s),o)}function Bn(s,o=_t.Default){return dn(s,er(o))}function er(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Hi(s){const o=[];for(let u=0;u<s.length;u++){const c=Z(s[u]);if(Array.isArray(c)){if(0===c.length)throw new pe(900,!1);let h,m=_t.Default;for(let v=0;v<c.length;v++){const b=c[v],C=zi(b);"number"==typeof C?-1===C?h=b.token:m|=C:h=b}o.push(dn(h,m))}else o.push(dn(c))}return o}function An(s,o){return s[pi]=o,s.prototype[pi]=o,s}function zi(s){return s[pi]}function U(s){return{toString:s}.toString()}var W=(()=>((W=W||{})[W.OnPush=0]="OnPush",W[W.Default=1]="Default",W))(),_e=(()=>{return(s=_e||(_e={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",_e;var s})();const J={},Le=[],xt=ie({\u0275cmp:ie}),nn=ie({\u0275dir:ie}),Wn=ie({\u0275pipe:ie}),xn=ie({\u0275mod:ie}),gn=ie({\u0275fac:ie}),Jt=ie({__NG_ELEMENT_ID__:ie});let Lr=0;function Gi(s){return U(()=>{const o=tl(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||_e.Emulated,id:"c"+Lr++,styles:s.styles||Le,_:null,schemas:s.schemas||null,tView:null};lp(u);const c=s.dependencies;return u.directiveDefs=yo(c,!1),u.pipeDefs=yo(c,!0),u})}function Za(s){return vt(s)||an(s)}function ce(s){return null!==s}function te(s){return U(()=>({type:s.type,bootstrap:s.bootstrap||Le,declarations:s.declarations||Le,imports:s.imports||Le,exports:s.exports||Le,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function yt(s,o){if(null==s)return J;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=c,o&&(o[h]=m)}return u}function Tt(s){return U(()=>{const o=tl(s);return lp(o),o})}function Zt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function vt(s){return s[xt]||null}function an(s){return s[nn]||null}function rn(s){return s[Wn]||null}function _r(s){const o=vt(s)||an(s)||rn(s);return null!==o&&o.standalone}function tr(s,o){const u=s[xn]||null;if(!u&&!0===o)throw new Error(`Type ${we(s)} does not have '\u0275mod' property.`);return u}function tl(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Le,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yt(s.inputs,o),outputs:yt(s.outputs)}}function lp(s){s.features?.forEach(o=>o(s))}function yo(s,o){if(!s)return null;const u=o?rn:Za;return()=>("function"==typeof s?s():s).map(c=>u(c)).filter(ce)}const Ti=0,Ye=1,Bt=2,Mn=3,Si=4,yn=5,nr=6,Es=7,jn=8,Ka=9,os=10,qt=11,Ya=12,_o=13,Is=14,vo=15,Zn=16,ua=17,bs=18,as=19,la=20,Mr=21,Tn=22,Qa=1,wc=2,ca=7,Ks=8,wo=9,vr=10;function yi(s){return Array.isArray(s)&&"object"==typeof s[Qa]}function _i(s){return Array.isArray(s)&&!0===s[Qa]}function Xa(s){return 0!=(4&s.flags)}function da(s){return s.componentOffset>-1}function Ec(s){return 1==(1&s.flags)}function Xr(s){return!!s.template}function rl(s){return 0!=(256&s[Bt])}function us(s,o){return s.hasOwnProperty(gn)?s[gn]:null}class Eo{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function bc(){return Ja}function Ja(s){return s.type.prototype.ngOnChanges&&(s.setInput=Dc),sh}function sh(){const s=fp(this),o=s?.current;if(o){const u=s.previous;if(u===J)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Dc(s,o,u,c){const h=this.declaredInputs[u],m=fp(s)||function eu(s,o){return s[Ys]=o}(s,{previous:J,current:null}),v=m.current||(m.current={}),b=m.previous,C=b[h];v[h]=new Eo(C&&C.currentValue,o,b===J),s[c]=o}bc.ngInherit=!0;const Ys="__ngSimpleChanges__";function fp(s){return s[Ys]||null}const Jr=function(s,o,u){};function wr(s){for(;Array.isArray(s);)s=s[Ti];return s}function Ts(s,o){return wr(o[s])}function Er(s,o){return wr(o[s.index])}function ah(s,o){return s.data[o]}function Ur(s,o){return s[o]}function lr(s,o){const u=o[s];return yi(u)?u:u[Ti]}function Ss(s){return 64==(64&s[Bt])}function Xs(s,o){return null==o?null:s[o]}function pa(s){s[bs]=0}function nu(s,o){s[yn]+=o;let u=s,c=s[Mn];for(;null!==c&&(1===o&&1===u[yn]||-1===o&&0===u[yn]);)c[yn]+=o,u=c,c=c[Mn]}const Vt={lFrame:Sc(null),bindingsEnabled:!0};function ll(){return Vt.bindingsEnabled}function de(){return Vt.lFrame.lView}function $t(){return Vt.lFrame.tView}function iu(s){return Vt.lFrame.contextLView=s,s[jn]}function su(s){return Vt.lFrame.contextLView=null,s}function cr(){let s=Io();for(;null!==s&&64===s.type;)s=s.parent;return s}function Io(){return Vt.lFrame.currentTNode}function ei(s,o){const u=Vt.lFrame;u.currentTNode=s,u.isParent=o}function hh(){return Vt.lFrame.isParent}function rr(){const s=Vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function bo(){return Vt.lFrame.bindingIndex++}function hl(s,o){const u=Vt.lFrame;u.bindingIndex=u.bindingRootIndex=s,ir(o)}function ir(s){Vt.lFrame.currentDirectiveIndex=s}function Tc(){return Vt.lFrame.currentQueryIndex}function fl(s){Vt.lFrame.currentQueryIndex=s}function ph(s){const o=s[Ye];return 2===o.type?o.declTNode:1===o.type?s[nr]:null}function pl(s,o,u){if(u&_t.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||u&_t.Host||(h=ph(m),null===h||(m=m[vo],10&h.type))););if(null===h)return!1;o=h,s=m}const c=Vt.lFrame=uu();return c.currentTNode=o,c.lView=s,!0}function gl(s){const o=uu(),u=s[Ye];Vt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function uu(){const s=Vt.lFrame,o=null===s?null:s.child;return null===o?Sc(s):o}function Sc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function lu(){const s=Vt.lFrame;return Vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const gh=lu;function ml(){const s=lu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Rr(){return Vt.lFrame.selectedIndex}function Ms(s){Vt.lFrame.selectedIndex=s}function Pn(){const s=Vt.lFrame;return ah(s.tView,s.selectedIndex)}function vl(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:P}=m;v&&(s.contentHooks??(s.contentHooks=[])).push(-u,v),b&&((s.contentHooks??(s.contentHooks=[])).push(u,b),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(u,b)),C&&(s.viewHooks??(s.viewHooks=[])).push(-u,C),M&&((s.viewHooks??(s.viewHooks=[])).push(u,M),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(u,M)),null!=P&&(s.destroyHooks??(s.destroyHooks=[])).push(u,P)}}function Ac(s,o,u){Rc(s,o,3,u)}function Mc(s,o,u,c){(3&s[Bt])===u&&Rc(s,o,u,c)}function yh(s,o){let u=s[Bt];(3&u)===o&&(u&=2047,u+=1,s[Bt]=u)}function Rc(s,o,u,c){const m=c??-1,v=o.length-1;let b=0;for(let C=void 0!==c?65535&s[bs]:0;C<v;C++)if("number"==typeof o[C+1]){if(b=o[C],null!=c&&b>=c)break}else o[C]<0&&(s[bs]+=65536),(b<m||-1==m)&&(ma(s,u,o,C),s[bs]=(4294901760&s[bs])+C+2),C++}function ma(s,o,u,c){const h=u[c]<0,m=u[c+1],b=s[h?-u[c]:u[c]];if(h){if(s[Bt]>>11<s[bs]>>16&&(3&s[Bt])===o){s[Bt]+=2048,Jr(4,b,m);try{m.call(b)}finally{Jr(5,b,m)}}}else{Jr(4,b,m);try{m.call(b)}finally{Jr(5,b,m)}}}const ya=-1;class Rs{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function _a(s,o,u){let c=0;for(;c<u.length;){const h=u[c];if("number"==typeof h){if(0!==h)break;c++;const m=u[c++],v=u[c++],b=u[c++];s.setAttribute(o,v,b,m)}else{const m=h,v=u[++c];So(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),c++}}return c}function xc(s){return 3===s||4===s||6===s}function So(s){return 64===s.charCodeAt(0)}function Ao(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?u=h:0===u||Il(s,u,h,null,-1===u||2===u?o[++c]:null)}}return s}function Il(s,o,u,c,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const b=s[m++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=m-1;break}}}for(;m<s.length;){const b=s[m];if("number"==typeof b)break;if(b===u){if(null===c)return void(null!==h&&(s[m+1]=h));if(c===s[m+1])return void(s[m+2]=h)}m++,null!==c&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,u),null!==c&&s.splice(m++,0,c),null!==h&&s.splice(m++,0,h)}function Mo(s){return s!==ya}function Js(s){return 32767&s}function Ro(s,o){let u=function _h(s){return s>>16}(s),c=o;for(;u>0;)c=c[vo],u--;return c}let bl=!0;function du(s){const o=bl;return bl=s,o}const Dl=255,vh=5;let xo=0;const xi={};function Pc(s,o){const u=wa(s,o);if(-1!==u)return u;const c=o[Ye];c.firstCreatePass&&(s.injectorIndex=o.length,va(c.data,s),va(o,null),va(c.blueprint,null));const h=wh(s,o),m=s.injectorIndex;if(Mo(h)){const v=Js(h),b=Ro(h,o),C=b[Ye].data;for(let M=0;M<8;M++)o[m+M]=b[v+M]|C[v+M]}return o[m+8]=h,m}function va(s,o){s.push(0,0,0,0,0,0,0,0,o)}function wa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function wh(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=o;for(;null!==h;){if(c=pu(h),null===c)return ya;if(u++,h=h[vo],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return ya}function wn(s,o,u){!function xs(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(Jt)&&(c=u[Jt]),null==c&&(c=u[Jt]=xo++);const h=c&Dl;o.data[s+(h>>vh)]|=1<<h}(s,o,u)}function Cl(s,o,u){if(u&_t.Optional||void 0!==s)return s;Ge()}function Nc(s,o,u,c){if(u&_t.Optional&&void 0===c&&(c=null),!(u&(_t.Self|_t.Host))){const h=s[Ka],m=Ar(void 0);try{return h?h.get(o,c,u&_t.Optional):Kr(o,c,u&_t.Optional)}finally{Ar(m)}}return Cl(c,0,u)}function Tl(s,o,u,c=_t.Default,h){if(null!==s){if(1024&o[Bt]){const v=function kc(s,o,u,c,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[Bt]&&!(256&v[Bt]);){const b=Sl(m,v,u,c|_t.Self,xi);if(b!==xi)return b;let C=m.parent;if(!C){const M=v[Mr];if(M){const P=M.get(u,xi,c);if(P!==xi)return P}C=pu(v),v=v[vo]}m=C}return h}(s,o,u,c,xi);if(v!==xi)return v}const m=Sl(s,o,u,c,xi);if(m!==xi)return m}return Nc(o,u,c,h)}function Sl(s,o,u,c,h){const m=function Oc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Jt)?s[Jt]:void 0;return"number"==typeof o?o>=0?o&Dl:vp:o}(u);if("function"==typeof m){if(!pl(o,s,c))return c&_t.Host?Cl(h,0,c):Nc(o,u,c,h);try{const v=m(c);if(null!=v||c&_t.Optional)return v;Ge()}finally{gh()}}else if("number"==typeof m){let v=null,b=wa(s,o),C=ya,M=c&_t.Host?o[Zn][nr]:null;for((-1===b||c&_t.SkipSelf)&&(C=-1===b?wh(s,o):o[b+8],C!==ya&&fu(c,!1)?(v=o[Ye],b=Js(C),o=Ro(C,o)):b=-1);-1!==b;){const P=o[Ye];if(hu(m,b,P.data)){const L=dr(b,o,u,v,c,M);if(L!==xi)return L}C=o[b+8],C!==ya&&fu(c,o[Ye].data[b+8]===M)&&hu(m,b,o)?(v=P,b=Js(C),o=Ro(C,o)):b=-1}}return h}function dr(s,o,u,c,h,m){const v=o[Ye],b=v.data[s+8],P=Po(b,v,u,null==c?da(b)&&bl:c!=v&&0!=(3&b.type),h&_t.Host&&m===b);return null!==P?Kn(o,v,P,b):xi}function Po(s,o,u,c,h){const m=s.providerIndexes,v=o.data,b=1048575&m,C=s.directiveStart,P=m>>20,q=h?b+P:s.directiveEnd;for(let Q=c?b:b+P;Q<q;Q++){const ve=v[Q];if(Q<C&&u===ve||Q>=C&&ve.type===u)return Q}if(h){const Q=v[C];if(Q&&Xr(Q)&&Q.type===u)return C}return null}function Kn(s,o,u,c){let h=s[u];const m=o.data;if(function Rm(s){return s instanceof Rs}(h)){const v=h;v.resolving&&function Oe(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new pe(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ne(s)}(m[u]));const b=du(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?Ar(v.injectImpl):null;pl(s,c,_t.Default);try{h=s[u]=v.factory(void 0,m,s,c),o.firstCreatePass&&u>=c.directiveStart&&function Mm(s,o,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(c){const v=Ja(o);(u.preOrderHooks??(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-s,h),m&&((u.preOrderHooks??(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],o)}finally{null!==C&&Ar(C),du(b),v.resolving=!1,gh()}}return h}function hu(s,o,u){return!!(u[o+(s>>vh)]&1<<s)}function fu(s,o){return!(s&_t.Self||s&_t.Host&&o)}class Ps{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return Tl(this._tNode,this._lView,o,er(c),u)}}function vp(){return new Ps(cr(),de())}function Al(s){return U(()=>{const o=s.prototype.constructor,u=o[gn]||No(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const m=h[gn]||No(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function No(s){return ze(s)?()=>{const o=No(Z(s));return o&&o()}:us(s)}function pu(s){const o=s[Ye],u=o.type;return 2===u?o.declTNode:1===u?s[nr]:null}function Ea(s){return function Eh(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const m=u[h];if(xc(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(m===o)return u[h+1];h+=2}}}return null}(cr(),s)}const Oo="__parameters__";function Fo(s,o,u){return U(()=>{const c=function ko(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(o);function h(...m){if(this instanceof h)return c.apply(this,m),this;const v=new h(...m);return b.annotation=v,b;function b(C,M,P){const L=C.hasOwnProperty(Oo)?C[Oo]:Object.defineProperty(C,Oo,{value:[]})[Oo];for(;L.length<=P;)L.push(null);return(L[P]=L[P]||[]).push(v),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class tn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Mt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cs(s,o){s.forEach(u=>Array.isArray(u)?cs(u,o):o(u))}function Dp(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Vo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ti(s,o,u){let c=vi(s,o);return c>=0?s[1|c]=u:(c=~c,function Uc(s,o,u,c){let h=s.length;if(h==o)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function sn(s,o){const u=vi(s,o);if(u>=0)return s[1|u]}function vi(s,o){return function Br(s,o,u){let c=0,h=s.length>>u;for(;h!==c;){const m=c+(h-c>>1),v=s[m<<u];if(o===v)return m<<u;v>o?h=m:c=m+1}return~(h<<u)}(s,o,1)}const wu=An(Fo("Optional"),8),gt=An(Fo("SkipSelf"),4);var Dt=(()=>((Dt=Dt||{})[Dt.Important=1]="Important",Dt[Dt.DashCase=2]="DashCase",Dt))();const Sh=new Map;let Qi=0;const K="__ngContext__";function re(s,o){yi(o)?(s[K]=o[la],function Mh(s){Sh.set(s[la],s)}(o)):s[K]=o}let Xi;function oo(s,o){return Xi(s,o)}function Kc(s){const o=s[Mn];return _i(o)?o[Mn]:o}function Yc(s){return Mp(s[_o])}function Go(s){return Mp(s[Si])}function Mp(s){for(;null!==s&&!_i(s);)s=s[Si];return s}function qo(s,o,u,c,h){if(null!=c){let m,v=!1;_i(c)?m=c:yi(c)&&(v=!0,c=c[Ti]);const b=wr(c);0===s&&null!==u?null==h?Xc(o,u,b):Ta(o,u,b,h||null,!0):1===s&&null!==u?Ta(o,u,b,h||null,!0):2===s?function Np(s,o,u){const c=Wo(s,o);c&&function Jc(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,b,v):3===s&&o.destroyNode(b),null!=m&&function rd(s,o,u,c,h){const m=u[ca];m!==wr(u)&&qo(o,s,c,m,h);for(let b=vr;b<u.length;b++){const C=u[b];nd(C[Ye],C,s,o,c,m)}}(o,s,m,u,h)}}function xp(s,o,u){return s.createElement(o,u)}function Om(s,o){const u=s[wo],c=u.indexOf(o),h=o[Mn];512&o[Bt]&&(o[Bt]&=-513,nu(h,-1)),u.splice(c,1)}function Qc(s,o){if(s.length<=vr)return;const u=vr+o,c=s[u];if(c){const h=c[ua];null!==h&&h!==s&&Om(h,c),o>0&&(s[u-1][Si]=c[Si]);const m=Vo(s,vr+o);!function W_(s,o){nd(s,o,o[qt],2,null,null),o[Ti]=null,o[nr]=null}(c[Ye],c);const v=m[as];null!==v&&v.detachView(m[Ye]),c[Mn]=null,c[Si]=null,c[Bt]&=-65}return c}function Ph(s,o){if(!(128&o[Bt])){const u=o[qt];u.destroyNode&&nd(s,o,u,3,null,null),function lE(s){let o=s[_o];if(!o)return Ca(s[Ye],s);for(;o;){let u=null;if(yi(o))u=o[_o];else{const c=o[vr];c&&(u=c)}if(!u){for(;o&&!o[Si]&&o!==s;)yi(o)&&Ca(o[Ye],o),o=o[Mn];null===o&&(o=s),yi(o)&&Ca(o[Ye],o),u=o&&o[Si]}o=u}}(o)}}function Ca(s,o){if(!(128&o[Bt])){o[Bt]&=-65,o[Bt]|=128,function Tu(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=o[u[c]];if(!(h instanceof Rs)){const m=u[c+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const b=h[m[v]],C=m[v+1];Jr(4,b,C);try{C.call(b)}finally{Jr(5,b,C)}}else{Jr(4,h,m);try{m.call(h)}finally{Jr(5,h,m)}}}}}(s,o),function K_(s,o){const u=s.cleanup,c=o[Es];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+3];v>=0?c[h=v]():c[h=-v].unsubscribe(),m+=2}else{const v=c[h=u[m+1]];u[m].call(v)}if(null!==c){for(let m=h+1;m<c.length;m++)(0,c[m])();o[Es]=null}}(s,o),1===o[Ye].type&&o[qt].destroy();const u=o[ua];if(null!==u&&_i(o[Mn])){u!==o[Mn]&&Om(u,o);const c=o[as];null!==c&&c.detachView(s)}!function I(s){Sh.delete(s[la])}(o)}}function Hl(s,o,u){return function Y_(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[Ti];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:m}=s.data[c.directiveStart+h];if(m===_e.None||m===_e.Emulated)return null}return Er(c,u)}}(s,o.parent,u)}function Ta(s,o,u,c,h){s.insertBefore(o,u,c,h)}function Xc(s,o,u){s.appendChild(o,u)}function km(s,o,u,c,h){null!==c?Ta(s,o,u,c,h):Xc(s,o,u)}function Wo(s,o){return s.parentNode(o)}let Pp,Sa,od,Gl,Su=function ed(s,o,u){return 40&s.type?Er(s,u):null};function Au(s,o,u,c){const h=Hl(s,c,o),m=o[qt],b=function Oh(s,o,u){return Su(s,o,u)}(c.parent||o[nr],c,o);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)km(m,h,u[C],b,!1);else km(m,h,u,b,!1);void 0!==Pp&&Pp(m,c,o,u,h)}function Fh(s,o){if(null!==o){const u=o.type;if(3&u)return Er(o,s);if(4&u)return Os(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Fh(s,c);{const h=s[o.index];return _i(h)?Os(-1,h):wr(h)}}if(32&u)return oo(o,s)()||wr(s[o.index]);{const c=Lh(s,o);return null!==c?Array.isArray(c)?c[0]:Fh(Kc(s[Zn]),c):Fh(s,o.next)}}return null}function Lh(s,o){return null!==o?s[Zn][nr].projection[o.projection]:null}function Os(s,o){const u=vr+s+1;if(u<o.length){const c=o[u],h=c[Ye].firstChild;if(null!==h)return Fh(c,h)}return o[ca]}function td(s,o,u,c,h,m,v){for(;null!=u;){const b=c[u.index],C=u.type;if(v&&0===o&&(b&&re(wr(b),c),u.flags|=2),32!=(32&u.flags))if(8&C)td(s,o,u.child,c,h,m,!1),qo(o,s,h,b,m);else if(32&C){const M=oo(u,c);let P;for(;P=M();)qo(o,s,h,P,m);qo(o,s,h,b,m)}else 16&C?kp(s,o,c,u,h,m):qo(o,s,h,b,m);u=v?u.projectionNext:u.next}}function nd(s,o,u,c,h,m){td(u,c,s.firstChild,o,h,m,!1)}function kp(s,o,u,c,h,m){const v=u[Zn],C=v[nr].projection[c.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)qo(o,s,h,C[M],m);else td(s,o,C,v[Mn],h,m,!0)}function hs(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function id(s,o,u){const{mergedAttrs:c,classes:h,styles:m}=u;null!==c&&_a(s,o,c),null!==h&&hs(s,o,h),null!==m&&function Fp(s,o,u){s.setAttribute(o,"style",u)}(s,o,m)}function zl(s){return function sd(){if(void 0===Sa&&(Sa=null,on.trustedTypes))try{Sa=on.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Sa}()?.createHTML(s)||s}function Lm(s){od=s}function Vp(){if(void 0===Gl&&(Gl=null,on.trustedTypes))try{Gl=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Gl}function Oi(s){return Vp()?.createHTML(s)||s}function Up(s){return Vp()?.createScriptURL(s)||s}class Um{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}function $r(s){return s instanceof Um?s.changingThisBreaksApplicationSecurity:s}function ki(s,o){const u=function ql(s){return s instanceof Um&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${pt})`)}return u===o}class Uh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(zl(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class uo{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=zl(o),u}}const Gp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wl(s){return(s=String(s)).match(Gp)?s:"unsafe:"+s}function ks(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function xu(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const Zl=ks("area,br,col,hr,img,wbr"),Bm=ks("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jm=ks("rp,rt"),g=xu(Zl,xu(Bm,ks("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xu(jm,ks("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xu(jm,Bm)),w=ks("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),B=xu(w,ks("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ks("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Y=ks("script,style,template");class Ae{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!g.hasOwnProperty(u))return this.sanitizedSomething=!0,!Y.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),v=m.name,b=v.toLowerCase();if(!B.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let C=m.value;w[b]&&(C=Wl(C)),this.buf.push(" ",v,'="',it(C),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();g.hasOwnProperty(u)&&!Zl.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(it(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const He=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nt=/([^\#-~ |!])/g;function it(s){return s.replace(/&/g,"&amp;").replace(He,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(nt,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nn;function ad(s){return"content"in s&&function iv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ln=(()=>((Ln=Ln||{})[Ln.NONE=0]="NONE",Ln[Ln.HTML=1]="HTML",Ln[Ln.STYLE=2]="STYLE",Ln[Ln.SCRIPT=3]="SCRIPT",Ln[Ln.URL=4]="URL",Ln[Ln.RESOURCE_URL=5]="RESOURCE_URL",Ln))();function qp(s){const o=Wp();return o?Oi(o.sanitize(Ln.HTML,s)||""):ki(s,"HTML")?Oi($r(s)):function lo(s,o){let u=null;try{Nn=Nn||function Vh(s){const o=new uo(s);return function Ru(){try{return!!(new window.DOMParser).parseFromString(zl(""),"text/html")}catch{return!1}}()?new Uh(o):o}(s);let c=o?String(o):"";u=Nn.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=u.innerHTML,u=Nn.getInertBodyElement(c)}while(c!==m);return zl((new Ae).sanitizeChildren(ad(u)||u))}finally{if(u){const c=ad(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(function Vm(){return void 0!==od?od:typeof document<"u"?document:void 0}(),Ne(s))}function ud(s){const o=Wp();return o?o.sanitize(Ln.URL,s)||"":ki(s,"URL")?$r(s):Wl(Ne(s))}function ld(s){const o=Wp();if(o)return Up(o.sanitize(Ln.RESOURCE_URL,s)||"");if(ki(s,"ResourceURL"))return Up($r(s));throw new pe(904,!1)}function jh(s,o,u){return function sv(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?ld:ud}(o,u)(s)}function Wp(){const s=de();return s&&s[Ya]}const uv=new tn("ENVIRONMENT_INITIALIZER"),cd=new tn("INJECTOR",-1),$h=new tn("INJECTOR_DEF_TYPES");class cE{get(o,u=Di){if(u===Di){const c=new Error(`NullInjectorError: No provider for ${we(o)}!`);throw c.name="NullInjectorError",c}return u}}function _C(s){return{\u0275providers:s}}function Zp(...s){return{\u0275providers:Hh(0,s),\u0275fromNgModule:!0}}function Hh(s,...o){const u=[],c=new Set;let h;return cs(o,m=>{const v=m;lv(v,u,[],c)&&(h||(h=[]),h.push(v))}),void 0!==h&&dE(h,u),u}function dE(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];cv(h,m=>{o.push(m)})}}function lv(s,o,u,c){if(!(s=Z(s)))return!1;let h=null,m=Ws(s);const v=!m&&vt(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const C=s.ngModule;if(m=Ws(C),!m)return!1;h=C}const b=c.has(h);if(v){if(b)return!1;if(c.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of C)lv(M,o,u,c)}}else{if(!m)return!1;{if(null!=m.imports&&!b){let M;c.add(h);try{cs(m.imports,P=>{lv(P,o,u,c)&&(M||(M=[]),M.push(P))})}finally{}void 0!==M&&dE(M,o)}if(!b){const M=us(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Le},{provide:$h,useValue:h,multi:!0},{provide:uv,useValue:()=>dn(h),multi:!0})}const C=m.providers;null==C||b||cv(C,P=>{o.push(P)})}}return h!==s&&void 0!==s.providers}function cv(s,o){for(let u of s)De(u)&&(u=u.\u0275providers),Array.isArray(u)?cv(u,o):o(u)}const vC=ie({provide:String,useValue:ie});function dv(s){return null!==s&&"object"==typeof s&&vC in s}function Pu(s){return"function"==typeof s}const Yl=new tn("Set Injector scope."),Gm={},EC={};let hv;function qm(){return void 0===hv&&(hv=new cE),hv}class dd{}class fE extends dd{get destroyed(){return this._destroyed}constructor(o,u,c,h){super(),this.parent=u,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gh(o,v=>this.processProvider(v)),this.records.set(cd,zh(void 0,this)),h.has("environment")&&this.records.set(dd,zh(void 0,this));const m=this.records.get(Yl);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get($h.multi,Le,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=en(this),c=Ar(void 0);try{return o()}finally{en(u),Ar(c)}}get(o,u=Di,c=_t.Default){this.assertNotDestroyed(),c=er(c);const h=en(this),m=Ar(void 0);try{if(!(c&_t.SkipSelf)){let b=this.records.get(o);if(void 0===b){const C=function mv(s){return"function"==typeof s||"object"==typeof s&&s instanceof tn}(o)&&Rn(o);b=C&&this.injectableDefInScope(C)?zh(fv(o),Gm):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&_t.Self?qm():this.parent).get(o,u=c&_t.Optional&&u===Di?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[yr]=v[yr]||[]).unshift(we(o)),h)throw v;return function Qr(s,o,u,c){const h=s[yr];throw o[vn]&&h.unshift(o[vn]),s.message=function j(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==gi?s.slice(2):s;let h=we(o);if(Array.isArray(o))h=o.map(we).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];m.push(v+":"+("string"==typeof b?JSON.stringify(b):we(b)))}h=`{${m.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(kn,"\n  ")}`}("\n"+s.message,h,u,c),s[Yr]=h,s[yr]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Ar(m),en(h)}}resolveInjectorInitializers(){const o=en(this),u=Ar(void 0);try{const c=this.get(uv.multi,Le,_t.Self);for(const h of c)h()}finally{en(o),Ar(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(we(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(o){let u=Pu(o=Z(o))?o:Z(o&&o.provide);const c=function bC(s){return dv(s)?zh(void 0,s.useValue):zh(pv(s),Gm)}(o);if(Pu(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=zh(void 0,Gm,!0),h.factory=()=>Hi(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===Gm&&(u.value=EC,u.value=u.factory()),"object"==typeof u.value&&u.value&&function pE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Z(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function fv(s){const o=Rn(s),u=null!==o?o.factory:us(s);if(null!==u)return u;if(s instanceof tn)throw new pe(204,!1);if(s instanceof Function)return function IC(s){const o=s.length;if(o>0)throw function Rl(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new pe(204,!1);const u=function kr(s){return s&&(s[bi]||s[mo])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new pe(204,!1)}function pv(s,o,u){let c;if(Pu(s)){const h=Z(s);return us(h)||fv(h)}if(dv(s))c=()=>Z(s.useValue);else if(function hE(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Hi(s.deps||[]));else if(function wC(s){return!(!s||!s.useExisting)}(s))c=()=>dn(Z(s.useExisting));else{const h=Z(s&&(s.useClass||s.provide));if(!function gv(s){return!!s.deps}(s))return us(h)||fv(h);c=()=>new h(...Hi(s.deps))}return c}function zh(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Gh(s,o){for(const u of s)Array.isArray(u)?Gh(u,o):u&&De(u)?Gh(u.\u0275providers,o):o(u)}class DC{}class gE{}class yE{resolveComponentFactory(o){throw function CC(s){const o=Error(`No component factory found for ${we(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let qh=(()=>{class s{}return s.NULL=new yE,s})();function Wm(){return Nu(cr(),de())}function Nu(s,o){return new Wh(Er(s,o))}let Wh=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Wm,s})();function Kp(s){return s instanceof Wh?s.nativeElement:s}class _v{}let TC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function SC(){const s=de(),u=lr(cr().index,s);return(yi(u)?u:s)[qt]}(),s})(),AC=(()=>{class s{}return s.\u0275prov=Mt({token:s,providedIn:"root",factory:()=>null}),s})();class _E{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const vE=new _E("15.2.9"),Zm={},vv="ngOriginalError";function wv(s){return s[vv]}class Yp{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&wv(o);for(;u&&wv(u);)u=wv(u);return u||null}}function Aa(s){return s instanceof Function?s():s}function CE(s,o,u){let c=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===c||s.charCodeAt(h+m)<=32)return h}u=h+1}}const Ev="ng-template";function Iv(s,o,u){let c=0,h=!0;for(;c<s.length;){let m=s[c++];if("string"==typeof m&&h){const v=s[c++];if(u&&"class"===m&&-1!==CE(v.toLowerCase(),o,0))return!0}else{if(1===m){for(;c<s.length&&"string"==typeof(m=s[c++]);)if(m.toLowerCase()===o)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function bv(s){return 4===s.type&&s.value!==Ev}function Zh(s,o,u){return o===(4!==s.type||u?s.value:Ev)}function Dv(s,o,u){let c=4;const h=s.attrs||[],m=function SE(s){for(let o=0;o<s.length;o++)if(xc(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const C=o[b];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!Zh(s,C,u)||""===C&&1===o.length){if(Zo(c))return!1;v=!0}}else{const M=8&c?C:o[++b];if(8&c&&null!==s.attrs){if(!Iv(s.attrs,M,u)){if(Zo(c))return!1;v=!0}continue}const L=TE(8&c?"class":C,h,bv(s),u);if(-1===L){if(Zo(c))return!1;v=!0;continue}if(""!==M){let q;q=L>m?"":h[L+1].toLowerCase();const Q=8&c?q:null;if(Q&&-1!==CE(Q,M,0)||2&c&&M!==q){if(Zo(c))return!1;v=!0}}}}else{if(!v&&!Zo(c)&&!Zo(C))return!1;if(v&&Zo(C))continue;v=!1,c=C|1&c}}return Zo(c)||v}function Zo(s){return 0==(1&s)}function TE(s,o,u,c){if(null===o)return-1;let h=0;if(c||!u){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function AE(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Xp(s,o,u=!1){for(let c=0;c<o.length;c++)if(Dv(s,o[c],u))return!0;return!1}function ME(s,o){return s?":not("+o.trim()+")":o}function FC(s){let o=s[0],u=1,c=2,h="",m=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&c){const b=s[++u];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Zo(v)&&(o+=ME(m,h),h=""),c=v,m=m||!Zo(c);u++}return""!==h&&(o+=ME(m,h)),o}const Ht={};function RE(s){xE($t(),de(),Rr()+s,!1)}function xE(s,o,u,c){if(!c)if(3==(3&o[Bt])){const m=s.preOrderCheckHooks;null!==m&&Ac(o,m,u)}else{const m=s.preOrderHooks;null!==m&&Mc(o,m,0,u)}Ms(u)}function NE(s,o=null,u=null,c){const h=Cv(s,o,u,c);return h.resolveInjectorInitializers(),h}function Cv(s,o=null,u=null,c,h=new Set){const m=[u||Le,Zp(s)];return c=c||("object"==typeof s?void 0:we(s)),new fE(m,o||qm(),c||null,h)}let Yh=(()=>{class s{static create(u,c){if(Array.isArray(u))return NE({name:""},c,u,"");{const h=u.name??"";return NE({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Di,s.NULL=new cE,s.\u0275prov=Mt({token:s,providedIn:"any",factory:()=>dn(cd)}),s.__NG_ELEMENT_ID__=-1,s})();function Jh(s,o=_t.Default){const u=de();return null===u?dn(s,o):Tl(cr(),u,Z(s),o)}function VE(){throw new Error("invalid")}function UE(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const m=u[c+1];if(-1!==m){const v=s.data[m];fl(u[c]),v.contentQueries(2,o[m],m)}}}function Xm(s,o,u,c,h,m,v,b,C,M,P){const L=o.blueprint.slice();return L[Ti]=h,L[Bt]=76|c,(null!==P||s&&1024&s[Bt])&&(L[Bt]|=1024),pa(L),L[Mn]=L[vo]=s,L[jn]=u,L[os]=v||s&&s[os],L[qt]=b||s&&s[qt],L[Ya]=C||s&&s[Ya]||null,L[Ka]=M||s&&s[Ka]||null,L[nr]=m,L[la]=function Ah(){return Qi++}(),L[Mr]=P,L[Zn]=2==o.type?s[Zn]:L,L}function ng(s,o,u,c,h){let m=s.data[o];if(null===m)m=function ef(s,o,u,c,h){const m=Io(),v=hh(),C=s.data[o]=function Yt(s,o,u,c,h,m){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C,C.prev=m)),C}(s,o,u,c,h),function fh(){return Vt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=c,m.attrs=h;const v=function cl(){const s=Vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ei(m,!0),m}function tf(s,o,u,c){if(0===u)return-1;const h=o.length;for(let m=0;m<u;m++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Vn(s,o,u){gl(o);try{const c=s.viewQuery;null!==c&&lf(1,c,u);const h=s.template;null!==h&&jE(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&UE(s,o),s.staticViewQueries&&lf(2,s.viewQuery,u);const m=s.components;null!==m&&function BE(s,o){for(let u=0;u<o.length;u++)af(s,o[u])}(o,m)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[Bt]&=-5,ml()}}function nf(s,o,u,c){const h=o[Bt];if(128!=(128&h)){gl(o);try{pa(o),function ls(s){return Vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&jE(s,o,u,2,c);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Ac(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Mc(o,M,0,null),yh(o,0)}if(function Fv(s){for(let o=Yc(s);null!==o;o=Go(o)){if(!o[wc])continue;const u=o[wo];for(let c=0;c<u.length;c++){const h=u[c];512&h[Bt]||nu(h[Mn],1),h[Bt]|=512}}}(o),function xa(s){for(let o=Yc(s);null!==o;o=Go(o))for(let u=vr;u<o.length;u++){const c=o[u],h=c[Ye];Ss(c)&&nf(h,c,h.template,c[jn])}}(o),null!==s.contentQueries&&UE(s,o),v){const M=s.contentCheckHooks;null!==M&&Ac(o,M)}else{const M=s.contentHooks;null!==M&&Mc(o,M,1),yh(o,1)}!function JC(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)Ms(~h);else{const m=h,v=u[++c],b=u[++c];hl(v,m),b(2,o[m])}}}finally{Ms(-1)}}(s,o);const b=s.components;null!==b&&function eT(s,o){for(let u=0;u<o.length;u++)WE(s,o[u])}(o,b);const C=s.viewQuery;if(null!==C&&lf(2,C,c),v){const M=s.viewCheckHooks;null!==M&&Ac(o,M)}else{const M=s.viewHooks;null!==M&&Mc(o,M,2),yh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Bt]&=-41,512&o[Bt]&&(o[Bt]&=-513,nu(o[Mn],-1))}finally{ml()}}}function jE(s,o,u,c,h){const m=Rr(),v=2&c;try{Ms(-1),v&&o.length>Tn&&xE(s,o,Tn,!1),Jr(v?2:0,h),u(c,h)}finally{Ms(m),Jr(v?3:1,h)}}function Rv(s,o,u){if(Xa(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function wi(s,o,u){ll()&&(function rT(s,o,u,c){const h=u.directiveStart,m=u.directiveEnd;da(u)&&function Fi(s,o,u){const c=Er(o,s),h=xv(u),m=s[os],v=uf(s,Xm(s,h,null,u.onPush?32:16,c,o,m,m.createRenderer(c,u),null,null,null));s[o.index]=v}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||Pc(u,o),re(c,o);const v=u.initialInputs;for(let b=h;b<m;b++){const C=s.data[b],M=Kn(o,s,b,u);re(M,o),null!==v&&qE(0,b-h,M,C,0,v),Xr(C)&&(lr(u.index,o)[jn]=Kn(o,s,b,u))}}(s,o,u,Er(u,o)),64==(64&u.flags)&&Ei(s,o,u))}function $E(s,o,u=Er){const c=o.localNames;if(null!==c){let h=o.index+1;for(let m=0;m<c.length;m+=2){const v=c[m+1],b=-1===v?u(o,s):s[v];s[h++]=b}}}function xv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=me(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function me(s,o,u,c,h,m,v,b,C,M){const P=Tn+c,L=P+h,q=function Ko(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:Ht);return u}(P,L),Q="function"==typeof M?M():M;return q[Ye]={type:s,blueprint:q,template:u,queries:null,viewQuery:b,declTNode:o,data:q.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Q,incompleteFirstPass:!1}}function Ou(s,o,u,c){const h=sy(o);null===u?h.push(c):(h.push(u),s.firstCreatePass&&oy(s).push(c,h.length-1))}function HE(s,o,u,c){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const m=s[h];null===c?ho(u,o,h,m):c.hasOwnProperty(h)&&ho(u,o,c[h],m)}return u}function ho(s,o,u,c){s.hasOwnProperty(u)?s[u].push(o,c):s[u]=[o,c]}function Ct(s,o,u,c,h,m,v,b){const C=Er(o,u);let P,M=o.inputs;!b&&null!=M&&(P=M[c])?(sg(s,u,P,c,h),da(o)&&function Jm(s,o){const u=lr(o,s);16&u[Bt]||(u[Bt]|=32)}(u,o.index)):3&o.type&&(c=function Pv(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,m.setProperty(C,c,h))}function Nv(s,o,u,c){if(ll()){const h=null===c?null:{"":-1},m=function ii(s,o){const u=s.directiveRegistry;let c=null,h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];if(Xp(o,v.selectors,!1))if(c||(c=[]),Xr(v))if(null!==v.findHostDirectiveDefs){const b=[];h=h||new Map,v.findHostDirectiveDefs(v,b,h),c.unshift(...b,v),Ma(s,o,b.length)}else c.unshift(v),Ma(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,c,h),c.push(v)}return null===c?null:[c,h]}(s,u);let v,b;null===m?v=b=null:[v,b]=m,null!==v&&ny(s,o,u,v,h,b),h&&function iT(s,o,u){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=u[o[h+1]];if(null==m)throw new pe(-301,!1);c.push(o[h],m)}}}(u,c,h)}u.mergedAttrs=Ao(u.mergedAttrs,u.attrs)}function ny(s,o,u,c,h,m){for(let M=0;M<c.length;M++)wn(Pc(u,o),s,c[M].type);!function Ov(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,c.length);for(let M=0;M<c.length;M++){const P=c[M];P.providersResolver&&P.providersResolver(P)}let v=!1,b=!1,C=tf(s,o,c.length,null);for(let M=0;M<c.length;M++){const P=c[M];u.mergedAttrs=Ao(u.mergedAttrs,P.hostAttrs),GE(s,u,o,C,P),zE(C,P,h),null!==P.contentQueries&&(u.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(u.flags|=64);const L=P.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(u.index),v=!0),!b&&(L.ngOnChanges||L.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(u.index),b=!0),C++}!function st(s,o,u){const h=o.directiveEnd,m=s.data,v=o.attrs,b=[];let C=null,M=null;for(let P=o.directiveStart;P<h;P++){const L=m[P],q=u?u.get(L):null,ve=q?q.outputs:null;C=HE(L.inputs,P,C,q?q.inputs:null),M=HE(L.outputs,P,M,ve);const Ve=null===C||null===v||bv(o)?null:kv(C,P,v);b.push(Ve)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=b,o.inputs=C,o.outputs=M}(s,u,m)}function Ei(s,o,u){const c=u.directiveStart,h=u.directiveEnd,m=u.index,v=function Am(){return Vt.lFrame.currentDirectiveIndex}();try{Ms(m);for(let b=c;b<h;b++){const C=s.data[b],M=o[b];ir(b),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&ry(C,M)}}finally{Ms(-1),ir(v)}}function ry(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ma(s,o,u){o.componentOffset=u,(s.components??(s.components=[])).push(o.index)}function zE(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;Xr(o)&&(u[""]=s)}}function GE(s,o,u,c,h){s.data[c]=h;const m=h.factory||(h.factory=us(h.type)),v=new Rs(m,Xr(h),Jh);s.blueprint[c]=v,u[c]=v,function tT(s,o,u,c,h){const m=h.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const b=~o.index;(function nT(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(v)!=b&&v.push(b),v.push(u,c,m)}}(s,o,c,tf(s,u,h.hostVars,Ht),h)}function Ra(s,o,u,c,h,m){const v=Er(s,o);!function sf(s,o,u,c,h,m,v){if(null==m)s.removeAttribute(o,h,u);else{const b=null==v?Ne(m):v(m,c||"",h);s.setAttribute(o,h,b,u)}}(o[qt],v,m,s.value,u,c,h)}function qE(s,o,u,c,h,m){const v=m[o];if(null!==v){const b=c.setInput;for(let C=0;C<v.length;){const M=v[C++],P=v[C++],L=v[C++];null!==b?c.setInput(u,L,M,P):u[P]=L}}}function kv(s,o,u){let c=null,h=0;for(;h<u.length;){const m=u[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===c&&(c=[]);const v=s[m];for(let b=0;b<v.length;b+=2)if(v[b]===o){c.push(m,v[b+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function rg(s,o,u,c){return[s,!0,!1,o,null,0,c,u,null,null]}function WE(s,o){const u=lr(o,s);if(Ss(u)){const c=u[Ye];48&u[Bt]?nf(c,u,c.template,u[jn]):u[yn]>0&&Lv(u)}}function Lv(s){for(let c=Yc(s);null!==c;c=Go(c))for(let h=vr;h<c.length;h++){const m=c[h];if(Ss(m))if(512&m[Bt]){const v=m[Ye];nf(v,m,v.template,m[jn])}else m[yn]>0&&Lv(m)}const u=s[Ye].components;if(null!==u)for(let c=0;c<u.length;c++){const h=lr(u[c],s);Ss(h)&&h[yn]>0&&Lv(h)}}function af(s,o){const u=lr(o,s),c=u[Ye];(function ZE(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),Vn(c,u,u[jn])}function uf(s,o){return s[_o]?s[Is][Si]=o:s[_o]=o,s[Is]=o,o}function ig(s){for(;s;){s[Bt]|=32;const o=Kc(s);if(rl(s)&&!o)return s;s=o}return null}function iy(s,o,u,c=!0){const h=o[os];h.begin&&h.begin();try{nf(s,o,s.template,u)}catch(v){throw c&&QE(o,v),v}finally{h.end&&h.end()}}function lf(s,o,u){fl(0),o(s,u)}function sy(s){return s[Es]||(s[Es]=[])}function oy(s){return s.cleanup||(s.cleanup=[])}function QE(s,o){const u=s[Ka],c=u?u.get(Yp,null):null;c&&c.handleError(o)}function sg(s,o,u,c,h){for(let m=0;m<u.length;){const v=u[m++],b=u[m++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,c,b):C[b]=h}}function ay(s,o,u){let c=u?s.styles:null,h=u?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?m=b:1==m?h=he(h,b):2==m&&(c=he(c,b+": "+o[++v]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}function Ql(s,o,u,c,h=!1){for(;null!==u;){const m=o[u.index];if(null!==m&&c.push(wr(m)),_i(m))for(let b=vr;b<m.length;b++){const C=m[b],M=C[Ye].firstChild;null!==M&&Ql(C[Ye],C,M,c)}const v=u.type;if(8&v)Ql(s,o,u.child,c);else if(32&v){const b=oo(u,o);let C;for(;C=b();)c.push(C)}else if(16&v){const b=Lh(o,u);if(Array.isArray(b))c.push(...b);else{const C=Kc(o[Zn]);Ql(C[Ye],C,b,c,!0)}}u=h?u.projectionNext:u.next}return c}class og{get rootNodes(){const o=this._lView,u=o[Ye];return Ql(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(o){this._lView[jn]=o}get destroyed(){return 128==(128&this._lView[Bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Mn];if(_i(o)){const u=o[Ks],c=u?u.indexOf(this):-1;c>-1&&(Qc(o,c),Vo(u,c))}this._attachedToViewContainer=!1}Ph(this._lView[Ye],this._lView)}onDestroy(o){Ou(this._lView[Ye],this._lView,null,o)}markForCheck(){ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bt]&=-65}reattach(){this._lView[Bt]|=64}detectChanges(){iy(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xh(s,o){nd(s,o,o[qt],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=o}}class ag extends og{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;iy(o[Ye],o,o[jn],!1)}checkNoChanges(){}get context(){return null}}class XE extends qh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=vt(o);return new cf(u,this.ngModule)}}function JE(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Vv{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){c=er(c);const h=this.injector.get(o,Zm,c);return h!==Zm||u===Zm?h:this.parentInjector.get(o,u,c)}}class cf extends gE{get inputs(){return JE(this.componentDef.inputs)}get outputs(){return JE(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function LC(s){return s.map(FC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,c,h){let m=(h=h||this.ngModule)instanceof dd?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Vv(o,m):o,b=v.get(_v,null);if(null===b)throw new pe(407,!1);const C=v.get(AC,null),M=b.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",L=c?function rf(s,o,u){return s.selectRootElement(o,u===_e.ShadowDom)}(M,c,this.componentDef.encapsulation):xp(M,P,function uy(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),q=this.componentDef.onPush?288:272,Q=me(0,null,null,1,0,null,null,null,null,null),ve=Xm(null,Q,null,q,null,null,b,M,C,v,null);let Ve,Xe;gl(ve);try{const dt=this.componentDef;let Pt,Re=null;dt.findHostDirectiveDefs?(Pt=[],Re=new Map,dt.findHostDirectiveDefs(dt,Pt,Re),Pt.push(dt)):Pt=[dt];const Wt=function ly(s,o){const u=s[Ye],c=Tn;return s[c]=o,ng(u,c,2,"#host",null)}(ve,L),qn=function Uv(s,o,u,c,h,m,v,b){const C=h[Ye];!function Bv(s,o,u,c){for(const h of s)o.mergedAttrs=Ao(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(ay(o,o.mergedAttrs,!0),null!==u&&id(c,u,o))}(c,s,o,v);const M=m.createRenderer(o,u),P=Xm(h,xv(u),null,u.onPush?32:16,h[s.index],s,m,M,b||null,null,null);return C.firstCreatePass&&Ma(C,s,c.length-1),uf(h,P),h[s.index]=P}(Wt,L,dt,Pt,ve,b,M);Xe=ah(Q,Tn),L&&function $v(s,o,u,c){if(c)_a(s,u,["ng-version",vE.full]);else{const{attrs:h,classes:m}=function VC(s){const o=[],u=[];let c=1,h=2;for(;c<s.length;){let m=s[c];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++c]):8===h&&u.push(m);else{if(!Zo(h))break;h=m}c++}return{attrs:o,classes:u}}(o.selectors[0]);h&&_a(s,u,h),m&&m.length>0&&hs(s,u,m.join(" "))}}(M,dt,L,c),void 0!==u&&function tI(s,o,u){const c=s.projection=[];for(let h=0;h<o.length;h++){const m=u[h];c.push(null!=m?Array.from(m):null)}}(Xe,this.ngContentSelectors,u),Ve=function jv(s,o,u,c,h,m){const v=cr(),b=h[Ye],C=Er(v,h);ny(b,h,v,u,null,c);for(let P=0;P<u.length;P++)re(Kn(h,b,v.directiveStart+P,v),h);Ei(b,h,v),C&&re(C,h);const M=Kn(h,b,v.directiveStart+v.componentOffset,v);if(s[jn]=h[jn]=M,null!==m)for(const P of m)P(M,o);return Rv(b,v,s),M}(qn,dt,Pt,Re,ve,[nI]),Vn(Q,ve,null)}finally{ml()}return new eI(this.componentType,Ve,Nu(Xe,ve),ve,Xe)}}class eI extends DC{constructor(o,u,c,h,m){super(),this.location=c,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new ag(h),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const m=this._rootLView;sg(m[Ye],m,h,o,u),ig(lr(this._tNode.index,m))}}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function nI(){const s=cr();vl(de()[Ye],s)}function cy(s){let o=function rI(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let h;if(Xr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new pe(903,!1);h=o.\u0275dir}if(h){if(u){c.push(h);const v=s;v.inputs=ug(s.inputs),v.declaredInputs=ug(s.declaredInputs),v.outputs=ug(s.outputs);const b=h.hostBindings;b&&Hv(s,b);const C=h.viewQuery,M=h.contentQueries;if(C&&sI(s,C),M&&aT(s,M),ye(s.inputs,h.inputs),ye(s.declaredInputs,h.declaredInputs),ye(s.outputs,h.outputs),Xr(h)&&h.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const b=m[v];b&&b.ngInherit&&b(s),b===cy&&(u=!1)}}o=Object.getPrototypeOf(o)}!function iI(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Ao(h.hostAttrs,u=Ao(u,h.hostAttrs))}}(c)}function ug(s){return s===J?{}:s===Le?[]:s}function sI(s,o){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{o(c,h),u(c,h)}:o}function aT(s,o){const u=s.contentQueries;s.contentQueries=u?(c,h,m)=>{o(c,h,m),u(c,h,m)}:o}function Hv(s,o){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{o(c,h),u(c,h)}:o}function hy(s){return!!Zv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Zv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Yo(s,o,u){return s[o]=u}function Hr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Yv(s,o,u,c){const h=de();return Hr(h,bo(),o)&&($t(),Ra(Pn(),h,s,o,u,c)),Yv}function fd(s,o,u,c){return Hr(s,bo(),u)?o+Ne(u)+c:Ht}function tw(s,o,u,c,h,m,v,b){const C=de(),M=$t(),P=s+Tn,L=M.firstCreatePass?function fy(s,o,u,c,h,m,v,b,C){const M=o.consts,P=ng(o,s,4,v||null,Xs(M,b));Nv(o,u,P,Xs(M,C)),vl(o,P);const L=P.tView=me(2,P,c,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,P),L.queries=o.queries.embeddedTView(P)),P}(P,M,C,o,u,c,h,m,v):M.data[P];ei(L,!1);const q=C[qt].createComment("");Au(M,C,q,L),re(q,C),uf(C,C[P]=rg(q,C,q,L)),Ec(L)&&wi(M,C,L),null!=v&&$E(C,L,b)}function rw(s){return Ur(function Sm(){return Vt.lFrame.contextLView}(),Tn+s)}function py(s,o,u){const c=de();return Hr(c,bo(),o)&&Ct($t(),Pn(),c,s,o,c[qt],u,!1),py}function md(s,o,u,c,h){const v=h?"class":"style";sg(s,u,o.inputs[v],v,c)}function mf(s,o,u,c){const h=de(),m=$t(),v=Tn+s,b=h[qt],C=m.firstCreatePass?function iw(s,o,u,c,h,m){const v=o.consts,C=ng(o,s,2,c,Xs(v,h));return Nv(o,u,C,Xs(v,m)),null!==C.attrs&&ay(C,C.attrs,!1),null!==C.mergedAttrs&&ay(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(v,m,h,o,u,c):m.data[v],M=h[v]=xp(b,o,function mh(){return Vt.lFrame.currentNamespace}()),P=Ec(C);return ei(C,!0),id(b,M,C),32!=(32&C.flags)&&Au(m,h,M,C),0===function lh(){return Vt.lFrame.elementDepthCount}()&&re(M,h),function ul(){Vt.lFrame.elementDepthCount++}(),P&&(wi(m,h,C),Rv(m,C,h)),null!==c&&$E(h,C),mf}function yf(){let s=cr();hh()?function dl(){Vt.lFrame.isParent=!1}():(s=s.parent,ei(s,!1));const o=s;!function ch(){Vt.lFrame.elementDepthCount--}();const u=$t();return u.firstCreatePass&&(vl(u,s),Xa(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function cu(s){return 0!=(8&s.flags)}(o)&&md(u,o,de(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Co(s){return 0!=(16&s.flags)}(o)&&md(u,o,de(),o.stylesWithoutHost,!1),yf}function _f(s,o,u,c){return mf(s,o,u,c),yf(),_f}function pg(){return de()}function gg(s){return!!s&&"function"==typeof s.then}function ow(s){return!!s&&"function"==typeof s.subscribe}const aw=ow;function yy(s,o,u,c){const h=de(),m=$t(),v=cr();return function uw(s,o,u,c,h,m,v){const b=Ec(c),M=s.firstCreatePass&&oy(s),P=o[jn],L=sy(o);let q=!0;if(3&c.type||v){const Ve=Er(c,o),Xe=v?v(Ve):Ve,dt=L.length,Pt=v?Wt=>v(wr(Wt[c.index])):c.index;let Re=null;if(!v&&b&&(Re=function mg(s,o,u,c){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===u&&h[m+1]===c){const b=o[Es],C=h[m+2];return b.length>C?b[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,c.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=m,Re.__ngLastListenerFn__=m,q=!1;else{m=vf(c,o,P,m,!1);const Wt=u.listen(Xe,h,m);L.push(m,Wt),M&&M.push(h,Pt,dt,dt+1)}}else m=vf(c,o,P,m,!1);const Q=c.outputs;let ve;if(q&&null!==Q&&(ve=Q[h])){const Ve=ve.length;if(Ve)for(let Xe=0;Xe<Ve;Xe+=2){const qn=o[ve[Xe]][ve[Xe+1]].subscribe(m),mr=L.length;L.push(m,qn),M&&M.push(h,c.index,mr,-(mr+1))}}}(m,h,h[qt],v,s,o,c),yy}function yg(s,o,u,c){try{return Jr(6,o,u),!1!==u(c)}catch(h){return QE(s,h),!1}finally{Jr(7,o,u)}}function vf(s,o,u,c,h){return function m(v){if(v===Function)return c;ig(s.componentOffset>-1?lr(s.index,o):o);let C=yg(o,u,c,v),M=m.__ngNextListenerFn__;for(;M;)C=yg(o,u,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Jl(s=1){return function pp(s){return(Vt.lFrame.contextLView=function yl(s,o){for(;s>0;)o=o[vo],s--;return o}(s,Vt.lFrame.contextLView))[jn]}(s)}function _y(s,o,u){return vy(s,"",o,"",u),_y}function vy(s,o,u,c,h){const m=de(),v=fd(m,o,u,c);return v!==Ht&&Ct($t(),Pn(),m,s,v,m[qt],h,!1),vy}function tc(s,o){return s<<17|o<<2}function fo(s){return s>>17&32767}function dw(s){return 2|s}function yd(s){return(131068&s)>>2}function hw(s,o){return-131069&s|o<<2}function _d(s){return 1|s}function wd(s,o,u,c,h){const m=s[u+1],v=null===o;let b=c?fo(m):yd(m),C=!1;for(;0!==b&&(!1===C||v);){const P=s[b+1];pT(s[b],o)&&(C=!0,s[b+1]=c?_d(P):dw(P)),b=c?fo(P):yd(P)}C&&(s[u+1]=c?dw(m):_d(m))}function pT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&vi(s,o)>=0}function bg(s,o){return function _n(s,o,u,c){const h=de(),m=$t(),v=function Ri(s){const o=Vt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);m.firstUpdatePass&&function mI(s,o,u,c){const h=s.data;if(null===h[u+1]){const m=h[Rr()],v=function gI(s,o){return o>=s.expandoStartIndex}(s,u);(function Ew(s,o){return 0!=(s.flags&(o?8:16))})(m,c)&&null===o&&!v&&(o=!1),o=function _T(s,o,u,c){const h=function ga(s){const o=Vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(u=Ef(u=wf(null,s,o,u,c),o.attrs,c),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(u=wf(h,s,o,u,c),null===m){let C=function yI(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==yd(c))return s[fo(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=wf(null,s,o,C[1],c),C=Ef(C,o.attrs,c),function _I(s,o,u,c){s[fo(u?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else m=function vI(s,o,u){let c;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)c=Ef(c,s[m].hostAttrs,u);return Ef(c,o.attrs,u)}(s,o,c)}return void 0!==m&&(c?o.residualClasses=m:o.residualStyles=m),u}(h,m,o,c),function dI(s,o,u,c,h,m){let v=m?o.classBindings:o.styleBindings,b=fo(v),C=yd(v);s[c]=u;let P,M=!1;if(Array.isArray(u)?(P=u[1],(null===P||vi(u,P)>0)&&(M=!0)):P=u,h)if(0!==C){const q=fo(s[b+1]);s[c+1]=tc(q,b),0!==q&&(s[q+1]=hw(s[q+1],c)),s[b+1]=function cI(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=tc(b,0),0!==b&&(s[b+1]=hw(s[b+1],c)),b=c;else s[c+1]=tc(C,0),0===b?b=c:s[C+1]=hw(s[C+1],c),C=c;M&&(s[c+1]=dw(s[c+1])),wd(s,P,c,!0),wd(s,P,c,!1),function hI(s,o,u,c,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&vi(m,o)>=0&&(u[c+1]=_d(u[c+1]))}(o,P,s,c,m),v=tc(b,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,u,v,c)}}(m,s,v,c),o!==Ht&&Hr(h,v,o)&&function If(s,o,u,c,h,m,v,b){if(!(3&o.type))return;const C=s.data,M=C[b+1],P=function hT(s){return 1==(1&s)}(M)?ww(C,o,u,h,yd(M),v):void 0;bf(P)||(bf(m)||function dT(s){return 2==(2&s)}(M)&&(m=ww(C,null,u,h,b,v)),function ao(s,o,u,c,h){if(o)h?s.addClass(u,c):s.removeClass(u,c);else{let m=-1===c.indexOf("-")?void 0:Dt.DashCase;null==h?s.removeStyle(u,c,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Dt.Important),s.setStyle(u,c,h,m))}}(c,v,Ts(Rr(),u),h,m))}(m,m.data[Rr()],h,h[qt],s,h[v+1]=function Iy(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=we($r(s)))),s}(o,u),c,v)}(s,o,null,!0),bg}function wf(s,o,u,c,h){let m=null;const v=u.directiveEnd;let b=u.directiveStylingLast;for(-1===b?b=u.directiveStart:b++;b<v&&(m=o[b],c=Ef(c,m.hostAttrs,h),m!==s);)b++;return null!==s&&(u.directiveStylingLast=b),c}function Ef(s,o,u){const c=u?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ti(s,v,!!u||o[++m]))}return void 0===s?null:s}function ww(s,o,u,c,h,m){const v=null===o;let b;for(;h>0;){const C=s[h],M=Array.isArray(C),P=M?C[1]:C,L=null===P;let q=u[h+1];q===Ht&&(q=L?Le:void 0);let Q=L?sn(q,c):P===c?q:void 0;if(M&&!bf(Q)&&(Q=sn(C,c)),bf(Q)&&(b=Q,v))return b;const ve=s[h+1];h=v?fo(ve):yd(ve)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(b=sn(C,c))}return b}function bf(s){return void 0!==s}function Tg(s,o=""){const u=de(),c=$t(),h=s+Tn,m=c.firstCreatePass?ng(c,h,1,o,null):c.data[h],v=u[h]=function $l(s,o){return s.createText(o)}(u[qt],o);Au(c,u,v,m),ei(m,!1)}function Iw(s){return Sg("",s,""),Iw}function Sg(s,o,u){const c=de(),h=fd(c,s,o,u);return h!==Ht&&function Pa(s,o,u){const c=Ts(o,s);!function Rp(s,o,u){s.setValue(o,u)}(s[qt],c,u)}(c,Rr(),h),Sg}const Va=void 0;var Sf=["en",[["a","p"],["AM","PM"],Va],[["AM","PM"],Va,Va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Va,"{1} 'at' {0}",Va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AI(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Af={};function xg(s){const o=function ET(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=xw(o);if(u)return u;const c=o.split("-")[0];if(u=xw(c),u)return u;if("en"===c)return Sf;throw new pe(701,!1)}function MI(s){return xg(s)[St.PluralCase]}function xw(s){return s in Af||(Af[s]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[s]),Af[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Dd="en-US";let Fe=Dd;function Bw(s,o,u,c,h){if(s=Z(s),Array.isArray(s))for(let m=0;m<s.length;m++)Bw(s[m],o,u,c,h);else{const m=$t(),v=de();let b=Pu(s)?s:Z(s.provide),C=pv(s);const M=cr(),P=1048575&M.providerIndexes,L=M.directiveStart,q=M.providerIndexes>>20;if(Pu(s)||!s.multi){const Q=new Rs(C,h,Jh),ve=Fy(b,o,h?P:P+q,L);-1===ve?(wn(Pc(M,v),m,b),ky(m,s,o.length),o.push(b),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),u.push(Q),v.push(Q)):(u[ve]=Q,v[ve]=Q)}else{const Q=Fy(b,o,P+q,L),ve=Fy(b,o,P,P+q),Xe=ve>=0&&u[ve];if(h&&!Xe||!h&&!(Q>=0&&u[Q])){wn(Pc(M,v),m,b);const dt=function ui(s,o,u,c,h){const m=new Rs(s,u,Jh);return m.multi=[],m.index=o,m.componentProviders=0,GI(m,h,c&&!u),m}(h?$T:qI,u.length,h,c,C);!h&&Xe&&(u[ve].providerFactory=dt),ky(m,s,o.length,0),o.push(b),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),u.push(dt),v.push(dt)}else ky(m,s,Q>-1?Q:ve,GI(u[h?ve:Q],C,!h&&c));!h&&c&&Xe&&u[ve].componentProviders++}}}function ky(s,o,u,c){const h=Pu(o),m=function zm(s){return!!s.useClass}(o);if(h||m){const C=(m?Z(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const P=M.indexOf(u);-1===P?M.push(u,[c,C]):M[P+1].push(c,C)}else M.push(u,C)}}}function GI(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Fy(s,o,u,c){for(let h=u;h<c;h++)if(o[h]===s)return h;return-1}function qI(s,o,u,c){return Lg(this.multi,[])}function $T(s,o,u,c){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=Kn(u,u[Ye],this.providerFactory.index,c);m=b.slice(0,v),Lg(h,m);for(let C=v;C<b.length;C++)m.push(b[C])}else m=[],Lg(h,m);return m}function Lg(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function jw(s,o=[]){return u=>{u.providersResolver=(c,h)=>function jT(s,o,u){const c=$t();if(c.firstCreatePass){const h=Xr(s);Bw(u,c.data,c.blueprint,h,!0),Bw(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class js{}class $w{}function Un(s,o){return new li(s,o??null)}class li extends js{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new XE(this);const c=tr(o);this._bootstrapComponents=Aa(c.bootstrap),this._r3Injector=Cv(o,u,[{provide:js,useValue:this},{provide:qh,useValue:this.componentFactoryResolver}],we(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class On extends $w{constructor(o){super(),this.moduleType=o}create(o){return new li(this.moduleType,o)}}class WI extends js{constructor(o,u,c){super(),this.componentFactoryResolver=new XE(this),this.instance=null;const h=new fE([...o,{provide:js,useValue:this},{provide:qh,useValue:this.componentFactoryResolver}],u||qm(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function rc(s,o,u=null){return new WI(s,o,u).injector}let ps=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=Hh(0,u.type),h=c.length>0?rc([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Mt({token:s,providedIn:"environment",factory:()=>new s(dn(dd))}),s})();function zw(s){s.getStandaloneInjector=o=>o.get(ps).getOrCreateStandaloneInjector(s)}function Ad(s,o,u,c){return Ww(de(),rr(),s,o,u,c)}function By(s,o,u,c,h){return JI(de(),rr(),s,o,u,c,h)}function zu(s,o){const u=s[o];return u===Ht?void 0:u}function Ww(s,o,u,c,h,m){const v=o+u;return Hr(s,v,h)?Yo(s,v+1,m?c.call(m,h):c(h)):zu(s,v+1)}function JI(s,o,u,c,h,m,v){const b=o+u;return function ku(s,o,u,c){const h=Hr(s,o,u);return Hr(s,o+1,c)||h}(s,b,h,m)?Yo(s,b+2,v?c.call(v,h,m):c(h,m)):zu(s,b+2)}function ci(s,o){const u=$t();let c;const h=s+Tn;u.firstCreatePass?(c=function tb(s,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(s===c.name)return c}}(o,u.pipeRegistry),u.data[h]=c,c.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(h,c.onDestroy)):c=u.data[h];const m=c.factory||(c.factory=us(c.type)),v=Ar(Jh);try{const b=du(!1),C=m();return du(b),function nw(s,o,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=c}(u,de(),h,C),C}finally{Ar(v)}}function Gu(s,o,u){const c=s+Tn,h=de(),m=Ur(h,c);return Ff(h,c)?Ww(h,rr(),o,m.transform,u,m):m.transform(u)}function Yw(s,o,u,c){const h=s+Tn,m=de(),v=Ur(m,h);return Ff(m,h)?JI(m,rr(),o,v.transform,u,c,v):v.transform(u,c)}function Ff(s,o){return s[Ye].data[o].pure}function In(s){return o=>{setTimeout(s,void 0,o)}}const es=class un extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let h=o,m=u||(()=>null),v=c;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),m=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(m=In(m),h&&(h=In(h)),v&&(v=In(v)));const b=super.subscribe({next:h,error:m,complete:v});return o instanceof X.w0&&o.add(b),b}};function Qw(){return this._results[Symbol.iterator]()}class jg{get changes(){return this._changes||(this._changes=new es)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=jg.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Qw)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const h=function Wi(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Vc(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],m=o[c];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lf=(()=>{class s{}return s.__NG_ELEMENT_ID__=ib,s})();const Xw=Lf,rb=class extends Xw{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tView,h=Xm(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);h[ua]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[as];return null!==v&&(h[as]=v.createEmbeddedView(c)),Vn(c,h,o),new og(h)}};function ib(){return $g(cr(),de())}function $g(s,o){return 4&s.type?new rb(o,s,Nu(s,o)):null}let Hy=(()=>{class s{}return s.__NG_ELEMENT_ID__=zT,s})();function zT(){return ob(cr(),de())}const GT=Hy,Jw=class extends GT{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Nu(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const o=wh(this._hostTNode,this._hostLView);if(Mo(o)){const u=Ro(o,this._hostLView),c=Js(o);return new Ps(u[Ye].data[c+8],u)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=sb(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(o,u,c){let h,m;"number"==typeof c?h=c:null!=c&&(h=c.index,m=c.injector);const v=o.createEmbeddedView(u||{},m);return this.insert(v,h),v}createComponent(o,u,c,h,m){const v=o&&!function Ml(s){return"function"==typeof s}(o);let b;if(v)b=u;else{const L=u||{};b=L.index,c=L.injector,h=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const C=v?o:new cf(vt(o)),M=c||this.parentInjector;if(!m&&null==C.ngModule){const q=(v?M:this.parentInjector).get(dd,null);q&&(m=q)}const P=C.create(M,h,void 0,m);return this.insert(P.hostView,b),P}insert(o,u){const c=o._lView,h=c[Ye];if(function Cc(s){return _i(s[Mn])}(c)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const L=c[Mn],q=new Jw(L,L[nr],L[Mn]);q.detach(q.indexOf(o))}}const m=this._adjustIndex(u),v=this._lContainer;!function Cu(s,o,u,c){const h=vr+c,m=u.length;c>0&&(u[h-1][Si]=o),c<m-vr?(o[Si]=u[h],Dp(u,vr+c,o)):(u.push(o),o[Si]=null),o[Mn]=u;const v=o[ua];null!==v&&u!==v&&function Z_(s,o){const u=s[wo];o[Zn]!==o[Mn][Mn][Zn]&&(s[wc]=!0),null===u?s[wo]=[o]:u.push(o)}(v,o);const b=o[as];null!==b&&b.insertView(s),o[Bt]|=64}(h,c,v,m);const b=Os(m,v),C=c[qt],M=Wo(C,v[ca]);return null!==M&&function Nm(s,o,u,c,h,m){c[Ti]=h,c[nr]=o,nd(s,c,u,1,h,m)}(h,v[nr],C,c,M,b),o.attachToViewContainerRef(),Dp(zy(v),m,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=sb(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=Qc(this._lContainer,u);c&&(Vo(zy(this._lContainer),u),Ph(c[Ye],c))}detach(o){const u=this._adjustIndex(o,-1),c=Qc(this._lContainer,u);return c&&null!=Vo(zy(this._lContainer),u)?new og(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function sb(s){return s[Ks]}function zy(s){return s[Ks]||(s[Ks]=[])}function ob(s,o){let u;const c=o[s.index];if(_i(c))u=c;else{let h;if(8&s.type)h=wr(c);else{const m=o[qt];h=m.createComment("");const v=Er(s,o);Ta(m,Wo(m,v),h,function Fm(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=u=rg(c,o,h,s),uf(o,u)}return new Jw(u,s,o)}class e0{constructor(o){this.queryList=o,this.matches=null}clone(){return new e0(this.queryList)}setDirty(){this.queryList.setDirty()}}class t0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let m=0;m<c;m++){const v=u.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new t0(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==zg(o,u).matches&&this.queries[u].setDirty()}}class Gy{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class qu{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,m=this.getByIndex(c).embeddedTView(o,h);m&&(m.indexInDeclarationView=c,null!==u?u.push(m):u=[m])}return null!==u?new qu(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Rd{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Rd(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(o,u,qy(u,m)),this.matchTNodeWithReadOption(o,u,Po(u,o,m,!1,!1))}else c===Lf?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Po(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Wh||h===Hy||h===Lf&&4&u.type)this.addMatch(u.index,-2);else{const m=Po(u,o,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function qy(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function ab(s,o,u,c){return-1===u?function Wy(s,o){return 11&s.type?Nu(s,o):4&s.type?$g(s,o):null}(o,s):-2===u?function ub(s,o,u){return u===Wh?Nu(o,s):u===Lf?$g(o,s):u===Hy?ob(o,s):void 0}(s,o,c):Kn(s,s[Ye],u,o)}function Ba(s,o,u,c){const h=o[as].queries[c];if(null===h.matches){const m=s.data,v=u.matches,b=[];for(let C=0;C<v.length;C+=2){const M=v[C];b.push(M<0?null:ab(o,m[M],v[C+1],u.metadata.read))}h.matches=b}return h.matches}function Zy(s,o,u,c){const h=s.queries.getByIndex(u),m=h.matches;if(null!==m){const v=Ba(s,o,h,u);for(let b=0;b<m.length;b+=2){const C=m[b];if(C>0)c.push(v[b/2]);else{const M=m[b+1],P=o[-C];for(let L=vr;L<P.length;L++){const q=P[L];q[ua]===q[Mn]&&Zy(q[Ye],q,M,c)}if(null!==P[wo]){const L=P[wo];for(let q=0;q<L.length;q++){const Q=L[q];Zy(Q[Ye],Q,M,c)}}}}}return c}function xd(s){const o=de(),u=$t(),c=Tc();fl(c+1);const h=zg(u,c);if(s.dirty&&function al(s){return 4==(4&s[Bt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Zy(u,o,c,[]):Ba(u,o,h,c);s.reset(m,Kp),s.notifyOnChanges()}return!0}return!1}function Ky(s,o,u,c){const h=$t();if(h.firstCreatePass){const m=cr();(function Ui(s,o,u){null===s.queries&&(s.queries=new qu),s.queries.track(new Rd(o,u))})(h,new Gy(o,u,c),m.index),function r0(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function oc(s,o,u){const c=new jg(4==(4&u));Ou(s,o,c,c.destroy),null===o[as]&&(o[as]=new t0),o[as].queries.push(new e0(c))}(h,de(),u)}function Hg(){return function n0(s,o){return s[as].queries[o].queryList}(de(),Tc())}function zg(s,o){return s.queries.getByIndex(o)}function s0(s){return!!tr(s)}function Yg(...s){}const Jy=new tn("Application Initializer");let Ld=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Yg,this.reject=Yg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(gg(m))u.push(m);else if(aw(m)){const v=new Promise((b,C)=>{m.subscribe({complete:b,error:C})});u.push(v)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(dn(Jy,8))},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const l0=new tn("AppId",{providedIn:"root",factory:function Mb(){return`${e_()}${e_()}${e_()}`}});function e_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const t_=new tn("Platform Initializer"),Qg=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xg=new tn("AnimationModuleType");let r_=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Jg=new tn("LocaleId",{providedIn:"root",factory:()=>Bn(Jg,_t.Optional|_t.SkipSelf)||function Rb(){return typeof $localize<"u"&&$localize.locale||Dd}()}),xb=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rS{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let iS=(()=>{class s{compileModuleSync(u){return new On(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),m=Aa(tr(u).declarations).reduce((v,b)=>{const C=vt(b);return C&&v.push(new cf(C)),v},[]);return new rS(c,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const h0=(()=>Promise.resolve(0))();function i_(s){typeof Zone>"u"?h0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class gs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new es(!1),this.onMicrotaskEmpty=new es(!1),this.onStable=new es(!1),this.onError=new es(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function em(){let s=on.requestAnimationFrame,o=on.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ob(s){const o=()=>{!function Nb(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(on,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,s_(s),s.isCheckStableRunning=!0,Ud(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),s_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,m,v,b)=>{try{return kb(s),u.invokeTask(h,m,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Fb(s)}},onInvoke:(u,c,h,m,v,b,C)=>{try{return kb(s),u.invoke(h,m,v,b,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Fb(s)}},onHasTask:(u,c,h,m)=>{u.hasTask(h,m),c===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,s_(s),Ud(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,c,h,m)=>(u.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gs.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new pe(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,Pb,Yg,Yg);try{return m.runTask(v,u,c)}finally{m.cancelTask(v)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const Pb={};function Ud(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function s_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function kb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Fb(s){s._nesting--,Ud(s)}class tm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new es,this.onMicrotaskEmpty=new es,this.onStable=new es,this.onError=new es}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,h){return o.apply(u,c)}}const o_=new tn(""),Lb=new tn("");let f0,Vb=(()=>{class s{constructor(u,c,h){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,f0||(function Ub(s){f0=s}(h),h.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),i_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())i_(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(dn(gs),dn(a_),dn(Lb))},s.\u0275prov=Mt({token:s,factory:s.\u0275fac}),s})(),a_=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return f0?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ha=!1;let uc=null;const Bb=new tn("AllowMultipleToken"),p0=new tn("PlatformDestroyListeners"),Ku=new tn("appBootstrapListener");class jb{constructor(o,u){this.name=o,this.token=u}}function nm(s,o,u=[]){const c=`Platform: ${o}`,h=new tn(c);return(m=[])=>{let v=jd();if(!v||v.injector.get(Bb,!1)){const b=[...u,...m,{provide:h,useValue:!0}];s?s(b):function Yu(s){if(uc&&!uc.get(Bb,!1))throw new pe(400,!1);uc=s;const o=s.get(g0);(function Hb(s){const o=s.get(t_,null);o&&o.forEach(u=>u())})(s)}(function lc(s=[],o){return Yh.create({name:o,providers:[{provide:Yl,useValue:"platform"},{provide:p0,useValue:new Set([()=>uc=null])},...s]})}(b,c))}return function Bd(s){const o=jd();if(!o)throw new pe(401,!1);return o}()}}function jd(){return uc?.get(g0)??null}let g0=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const h=function l_(s,o){let u;return u="noop"===s?new tm:("zone.js"===s?void 0:s)||new gs(o),u}(c?.ngZone,function u_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),m=[{provide:gs,useValue:h}];return h.run(()=>{const v=Yh.create({providers:m,parent:this.injector,name:u.moduleType.name}),b=u.create(v),C=b.injector.get(Yp,null);if(!C)throw new pe(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:P=>{C.handleError(P)}});b.onDestroy(()=>{rm(this._modules,b),M.unsubscribe()})}),function m0(s,o,u){try{const c=u();return gg(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(C,h,()=>{const M=b.injector.get(Ld);return M.runInitializers(),M.donePromise.then(()=>(function pr(s){mt(s,"Expected localeId to be defined"),"string"==typeof s&&(Fe=s.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Jg,Dd)||Dd),this._moduleDoBootstrap(b),b))})})}bootstrapModule(u,c=[]){const h=y0({},c);return function $f(s,o,u){const c=new On(u);return Promise.resolve(c)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const c=u.injector.get(c_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new pe(-403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(p0,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(dn(Yh))},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function y0(s,o){return Array.isArray(o)?o.reduce(y0,s):{...s,...o}}let c_=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,c,h){this._zone=u,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new O.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new O.y(b=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{gs.assertNotInAngularZone(),i_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{C.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(m,v.pipe((0,ue.B)()))}bootstrap(u,c){const h=u instanceof gE;if(!this._injector.get(Ld).done){!h&&_r(u);throw new pe(405,Ha)}let v;v=h?u:this._injector.get(qh).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const b=function aS(s){return s.isBoundToModule}(v)?void 0:this._injector.get(js),M=v.create(Yh.NULL,[],c||v.selector,b),P=M.location.nativeElement,L=M.injector.get(o_,null);return L?.registerApplication(P),M.onDestroy(()=>{this.detachView(M.hostView),rm(this.components,M),L?.unregisterApplication(P)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;rm(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const c=this._injector.get(Ku,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>rm(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new pe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(dn(gs),dn(dd),dn(Yp))},s.\u0275prov=Mt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function rm(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function im(){return!1}let cS=(()=>{class s{}return s.__NG_ELEMENT_ID__=dS,s})();function dS(s){return function sm(s,o,u){if(da(s)&&!u){const c=lr(s.index,o);return new og(c,c)}return 47&s.type?new og(o[Zn],o):null}(cr(),de(),16==(16&s))}class C0{constructor(){}supports(o){return hy(o)}create(o){return new qb(o)}}const ji=(s,o)=>o;class qb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ji}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,h=0,m=null;for(;u||c;){const v=!c||u&&u.currentIndex<Xu(c,h,m)?u:c,b=Xu(v,h,m),C=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{m||(m=[]);const M=b-h,P=C-h;if(M!=P){for(let q=0;q<M;q++){const Q=q<m.length?m[q]:m[q]=0,ve=Q+q;P<=ve&&ve<M&&(m[q]=Q+1)}m[v.previousIndex]=P-M}}b!==C&&o(v,b,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!hy(o))throw new pe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)m=o[b],v=this._trackByFn(b,m),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,m,v,b)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,b),c=!0),u=u._next}else h=0,function Wv(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,b=>{v=this._trackByFn(h,b),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,b,v,h)),Object.is(u.item,b)||this._addIdentityChange(u,b)):(u=this._mismatch(u,b,v,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,m,h)):o=this._addAfter(new g_(u,c),m,h),o}_verifyReinsertion(o,u,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class g_{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class m_{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class T0{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new m_,this.map.set(u,c)),c.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xu(s,o,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+o+h}class Hd{constructor(){}supports(o){return o instanceof Map||Zv(o)}create(){return new Wb}}class Wb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Zv(o)))throw new pe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const c=new zd(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class zd{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zb(){return new cc([new C0])}let cc=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Zb()),deps:[[s,new gt,new wu]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new pe(901,!1)}}return s.\u0275prov=Mt({token:s,providedIn:"root",factory:Zb}),s})();function Ju(){return new y_([new Hd])}let y_=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Ju()),deps:[[s,new gt,new wu]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new pe(901,!1)}}return s.\u0275prov=Mt({token:s,providedIn:"root",factory:Ju}),s})();const vS=nm(null,"core",[]);let __=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(dn(c_))},s.\u0275mod=te({type:s}),s.\u0275inj=Cn({}),s})();function Yb(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(bt,Te,F)=>{F.d(Te,{Z:()=>Qe});var d=F(2090),X=F(4859),O=F(6881),ae=F(1877);class ue{constructor(pe,Pe){this._delegate=pe,this.firebase=Pe,(0,O._addComponent)(pe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(pe,Pe=O._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(pe);return!Be.isInitialized()&&"EXPLICIT"===(null===(Ne=Be.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Pe})}_removeServiceInstance(pe,Pe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Pe)}_addComponent(pe){(0,O._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,O._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function he(){const pt=function we(pt){const pe={},Pe={__esModule:!0,initializeApp:function Oe(ke,ot={}){const se=O.initializeApp(ke,ot);if((0,d.r3)(pe,se.name))return pe[se.name];const Rt=new pt(se,Pe);return pe[se.name]=Rt,Rt},app:Be,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ie(ke){const ot=ke.name,se=ot.replace("-compat","");if(O._registerComponent(ke)&&"PUBLIC"===ke.type){const Rt=(rt=Be())=>{if("function"!=typeof rt[se])throw ye.create("invalid-app-argument",{appName:ot});return rt[se]()};void 0!==ke.serviceProps&&(0,d.ZB)(Rt,ke.serviceProps),Pe[se]=Rt,pt.prototype[se]=function(...rt){return this._getService.bind(this,ot).apply(this,ke.multipleInstances?rt:[])}}return"PUBLIC"===ke.type?Pe[se]:null},removeApp:function Ne(ke){delete pe[ke]},useAsService:function Ge(ke,ot){return"serverAuth"===ot?null:ot},modularAPIs:O}};function Be(ke){if(!(0,d.r3)(pe,ke=ke||O._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ke});return pe[ke]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Ee(){return Object.keys(pe).map(ke=>pe[ke])}}),Be.App=pt,Pe}(ue);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function pe(Pe){(0,d.ZB)(pt,Pe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),pt}(),H=new ae.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=z;!function De(pt){(0,O.registerVersion)("@firebase/app-compat","0.2.10",pt)}()},6881:(bt,Te,F)=>{F.r(Te),F.d(Te,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Zs,_DEFAULT_ENTRY_NAME:()=>Kr,_addComponent:()=>at,_addOrOverwriteComponent:()=>Lt,_apps:()=>on,_clearComponents:()=>Yr,_components:()=>cn,_getProvider:()=>pi,_registerComponent:()=>Di,_removeServiceInstance:()=>yr,deleteApp:()=>Ci,getApp:()=>is,getApps:()=>dn,initializeApp:()=>en,onLog:()=>Hi,registerVersion:()=>er,setLogLevel:()=>An});var d=F(5861),X=F(4859),O=F(1877),ae=F(2090);const ue=(ce,te)=>te.some(xe=>ce instanceof xe);let ie,ye;const z=new WeakMap,H=new WeakMap,Z=new WeakMap,ze=new WeakMap,De=new WeakMap;let pe={get(ce,te,xe){if(ce instanceof IDBTransaction){if("done"===te)return H.get(ce);if("objectStoreNames"===te)return ce.objectStoreNames||Z.get(ce);if("store"===te)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return Oe(ce[te])},set:(ce,te,xe)=>(ce[te]=xe,!0),has:(ce,te)=>ce instanceof IDBTransaction&&("done"===te||"store"===te)||te in ce};function Be(ce){return"function"==typeof ce?function Ne(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...te){return ce.apply(Ee(this),te),Oe(z.get(this))}:function(...te){return Oe(ce.apply(Ee(this),te))}:function(te,...xe){const yt=ce.call(Ee(this),te,...xe);return Z.set(yt,te.sort?te.sort():[te]),Oe(yt)}}(ce):(ce instanceof IDBTransaction&&function pt(ce){if(H.has(ce))return;const te=new Promise((xe,yt)=>{const Tt=()=>{ce.removeEventListener("complete",Zt),ce.removeEventListener("error",vt),ce.removeEventListener("abort",vt)},Zt=()=>{xe(),Tt()},vt=()=>{yt(ce.error||new DOMException("AbortError","AbortError")),Tt()};ce.addEventListener("complete",Zt),ce.addEventListener("error",vt),ce.addEventListener("abort",vt)});H.set(ce,te)}(ce),ue(ce,function we(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,pe):ce)}function Oe(ce){if(ce instanceof IDBRequest)return function Qe(ce){const te=new Promise((xe,yt)=>{const Tt=()=>{ce.removeEventListener("success",Zt),ce.removeEventListener("error",vt)},Zt=()=>{xe(Oe(ce.result)),Tt()},vt=()=>{yt(ce.error),Tt()};ce.addEventListener("success",Zt),ce.addEventListener("error",vt)});return te.then(xe=>{xe instanceof IDBCursor&&z.set(xe,ce)}).catch(()=>{}),De.set(te,ce),te}(ce);if(ze.has(ce))return ze.get(ce);const te=Be(ce);return te!==ce&&(ze.set(ce,te),De.set(te,ce)),te}const Ee=ce=>De.get(ce),ke=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],se=new Map;function Rt(ce,te){if(!(ce instanceof IDBDatabase)||te in ce||"string"!=typeof te)return;if(se.get(te))return se.get(te);const xe=te.replace(/FromIndex$/,""),yt=te!==xe,Tt=ot.includes(xe);if(!(xe in(yt?IDBIndex:IDBObjectStore).prototype)||!Tt&&!ke.includes(xe))return;const Zt=function(){var vt=(0,d.Z)(function*(an,...rn){const _r=this.transaction(an,Tt?"readwrite":"readonly");let tr=_r.store;return yt&&(tr=tr.index(rn.shift())),(yield Promise.all([tr[xe](...rn),Tt&&_r.done]))[0]});return function(rn){return vt.apply(this,arguments)}}();return se.set(te,Zt),Zt}!function Pe(ce){pe=ce(pe)}(ce=>({...ce,get:(te,xe,yt)=>Rt(te,xe)||ce.get(te,xe,yt),has:(te,xe)=>!!Rt(te,xe)||ce.has(te,xe)}));class rt{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function Xt(ce){return"VERSION"===ce.getComponent()?.type}(xe)){const yt=xe.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(xe=>xe).join(" ")}}const ht="@firebase/app",ge=new O.Yd("@firebase/app"),Kr="[DEFAULT]",rs={[ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,cn=new Map;function at(ce,te){try{ce.container.addComponent(te)}catch(xe){ge.debug(`Component ${te.name} failed to register with FirebaseApp ${ce.name}`,xe)}}function Lt(ce,te){ce.container.addOrOverwriteComponent(te)}function Di(ce){const te=ce.name;if(cn.has(te))return ge.debug(`There were multiple attempts to register component ${te}.`),!1;cn.set(te,ce);for(const xe of on.values())at(xe,ce);return!0}function pi(ce,te){const xe=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),ce.container.getProvider(te)}function yr(ce,te,xe=Kr){pi(ce,te).clearInstance(xe)}function Yr(){cn.clear()}const gi=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vn{constructor(te,xe,yt){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}const Zs="9.22.0";function en(ce,te={}){let xe=ce;"object"!=typeof te&&(te={name:te});const yt=Object.assign({name:Kr,automaticDataCollectionEnabled:!1},te),Tt=yt.name;if("string"!=typeof Tt||!Tt)throw gi.create("bad-app-name",{appName:String(Tt)});if(xe||(xe=(0,ae.aH)()),!xe)throw gi.create("no-options");const Zt=on.get(Tt);if(Zt){if((0,ae.vZ)(xe,Zt.options)&&(0,ae.vZ)(yt,Zt.config))return Zt;throw gi.create("duplicate-app",{appName:Tt})}const vt=new X.H0(Tt);for(const rn of cn.values())vt.addComponent(rn);const an=new vn(xe,yt,vt);return on.set(Tt,an),an}function is(ce=Kr){const te=on.get(ce);if(!te&&ce===Kr&&(0,ae.aH)())return en();if(!te)throw gi.create("no-app",{appName:ce});return te}function dn(){return Array.from(on.values())}function Ci(ce){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(ce){const te=ce.name;on.has(te)&&(on.delete(te),yield Promise.all(ce.container.getProviders().map(xe=>xe.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function er(ce,te,xe){var yt;let Tt=null!==(yt=rs[ce])&&void 0!==yt?yt:ce;xe&&(Tt+=`-${xe}`);const Zt=Tt.match(/\s|\//),vt=te.match(/\s|\//);if(Zt||vt){const an=[`Unable to register library "${Tt}" with version "${te}":`];return Zt&&an.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Zt&&vt&&an.push("and"),vt&&an.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void ge.warn(an.join(" "))}Di(new X.wA(`${Tt}-version`,()=>({library:Tt,version:te}),"VERSION"))}function Hi(ce,te){if(null!==ce&&"function"!=typeof ce)throw gi.create("invalid-log-argument");(0,O.Am)(ce,te)}function An(ce){(0,O.Ub)(ce)}const zi="firebase-heartbeat-database",Qr=1,j="firebase-heartbeat-store";let U=null;function W(){return U||(U=function Ie(ce,te,{blocked:xe,upgrade:yt,blocking:Tt,terminated:Zt}={}){const vt=indexedDB.open(ce,te),an=Oe(vt);return yt&&vt.addEventListener("upgradeneeded",rn=>{yt(Oe(vt.result),rn.oldVersion,rn.newVersion,Oe(vt.transaction),rn)}),xe&&vt.addEventListener("blocked",rn=>xe(rn.oldVersion,rn.newVersion,rn)),an.then(rn=>{Zt&&rn.addEventListener("close",()=>Zt()),Tt&&rn.addEventListener("versionchange",_r=>Tt(_r.oldVersion,_r.newVersion,_r))}).catch(()=>{}),an}(zi,Qr,{upgrade:(ce,te)=>{0===te&&ce.createObjectStore(j)}}).catch(ce=>{throw gi.create("idb-open",{originalErrorMessage:ce.message})})),U}function J(){return(J=(0,d.Z)(function*(ce){try{return yield(yield W()).transaction(j).objectStore(j).get(nn(ce))}catch(te){if(te instanceof ae.ZR)ge.warn(te.message);else{const xe=gi.create("idb-get",{originalErrorMessage:te?.message});ge.warn(xe.message)}}})).apply(this,arguments)}function Le(ce,te){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(ce,te){try{const yt=(yield W()).transaction(j,"readwrite");yield yt.objectStore(j).put(te,nn(ce)),yield yt.done}catch(xe){if(xe instanceof ae.ZR)ge.warn(xe.message);else{const yt=gi.create("idb-set",{originalErrorMessage:xe?.message});ge.warn(yt.message)}}})).apply(this,arguments)}function nn(ce){return`${ce.name}!${ce.options.appId}`}class gn{constructor(te){this.container=te,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new Gi(xe),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var te=this;return(0,d.Z)(function*(){const yt=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=Jt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!te._heartbeatsCache.heartbeats.some(Zt=>Zt.date===Tt))return te._heartbeatsCache.heartbeats.push({date:Tt,agent:yt}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Zt=>{const vt=new Date(Zt.date).valueOf();return Date.now()-vt<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,d.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const xe=Jt(),{heartbeatsToSend:yt,unsentEntries:Tt}=function Lr(ce,te=1024){const xe=[];let yt=ce.slice();for(const Tt of ce){const Zt=xe.find(vt=>vt.agent===Tt.agent);if(Zt){if(Zt.dates.push(Tt.date),ss(xe)>te){Zt.dates.pop();break}}else if(xe.push({agent:Tt.agent,dates:[Tt.date]}),ss(xe)>te){xe.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:xe,unsentEntries:yt}}(te._heartbeatsCache.heartbeats),Zt=(0,ae.L)(JSON.stringify({version:2,heartbeats:yt}));return te._heartbeatsCache.lastSentHeartbeatDate=xe,Tt.length>0?(te._heartbeatsCache.heartbeats=Tt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Zt})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class Gi{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,d.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function _e(ce){return J.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var xe=this;return(0,d.Z)(function*(){var yt;if(yield xe._canUseIndexedDBPromise){const Zt=yield xe.read();return Le(xe.app,{lastSentHeartbeatDate:null!==(yt=te.lastSentHeartbeatDate)&&void 0!==yt?yt:Zt.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var xe=this;return(0,d.Z)(function*(){var yt;if(yield xe._canUseIndexedDBPromise){const Zt=yield xe.read();return Le(xe.app,{lastSentHeartbeatDate:null!==(yt=te.lastSentHeartbeatDate)&&void 0!==yt?yt:Zt.lastSentHeartbeatDate,heartbeats:[...Zt.heartbeats,...te.heartbeats]})}})()}}function ss(ce){return(0,ae.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function Za(ce){Di(new X.wA("platform-logger",te=>new rt(te),"PRIVATE")),Di(new X.wA("heartbeat",te=>new gn(te),"PRIVATE")),er(ht,"0.9.10",ce),er(ht,"0.9.10","esm2017"),er("fire-js","")}("")},4859:(bt,Te,F)=>{F.d(Te,{H0:()=>we,wA:()=>O});var d=F(5861),X=F(2090);class O{constructor(z,H,Z){this.name=z,this.instanceFactory=H,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ae="[DEFAULT]";class ue{constructor(z,H){this.name=z,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const H=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(H)){const Z=new X.BH;if(this.instancesDeferred.set(H,Z),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&Z.resolve(ze)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(z){var H;const Z=this.normalizeInstanceIdentifier(z?.identifier),ze=null!==(H=z?.optional)&&void 0!==H&&H;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(De){if(ze)return null;throw De}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ye(he){return"EAGER"===he.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[H,Z]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const De=this.getOrInitializeService({instanceIdentifier:ze});Z.resolve(De)}catch{}}}}clearInstance(z=ae){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,d.Z)(function*(){const H=Array.from(z.instances.values());yield Promise.all([...H.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...H.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ae){return this.instances.has(z)}getOptions(z=ae){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:H={}}=z,Z=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Z,options:H});for(const[De,Qe]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(De)&&Qe.resolve(ze);return ze}onInit(z,H){var Z;const ze=this.normalizeInstanceIdentifier(H),De=null!==(Z=this.onInitCallbacks.get(ze))&&void 0!==Z?Z:new Set;De.add(z),this.onInitCallbacks.set(ze,De);const Qe=this.instances.get(ze);return Qe&&z(Qe,ze),()=>{De.delete(z)}}invokeOnInitCallbacks(z,H){const Z=this.onInitCallbacks.get(H);if(Z)for(const ze of Z)try{ze(z,H)}catch{}}getOrInitializeService({instanceIdentifier:z,options:H={}}){let Z=this.instances.get(z);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(he=z,he===ae?void 0:he),options:H}),this.instances.set(z,Z),this.instancesOptions.set(z,H),this.invokeOnInitCallbacks(Z,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Z)}catch{}var he;return Z||null}normalizeInstanceIdentifier(z=ae){return this.component?this.component.multipleInstances?z:ae:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const H=this.getProvider(z.name);if(H.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);H.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const H=new ue(z,this);return this.providers.set(z,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,Te,F)=>{F.d(Te,{Am:()=>he,Ub:()=>we,Yd:()=>ye,in:()=>X});const d=[];var X=(()=>{return(z=X||(X={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",X;var z})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,ue={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ie=(z,H,...Z)=>{if(H<z.logLevel)return;const ze=(new Date).toISOString(),De=ue[H];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[De](`[${ze}]  ${z.name}:`,...Z)};class ye{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=ie,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in X))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...H),this._logHandler(this,X.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...H),this._logHandler(this,X.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,X.INFO,...H),this._logHandler(this,X.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,X.WARN,...H),this._logHandler(this,X.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...H),this._logHandler(this,X.ERROR,...H)}}function we(z){d.forEach(H=>{H.setLogLevel(z)})}function he(z,H){for(const Z of d){let ze=null;H&&H.level&&(ze=O[H.level]),Z.userLogHandler=null===z?null:(De,Qe,...pt)=>{const pe=pt.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Qe>=(ze??De.logLevel)&&z({level:X[Qe].toLowerCase(),message:pe,args:pt,type:De.name})}}}},259:(bt,Te,F)=>{F.d(Te,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=F(6881);(0,d.registerVersion)("firebase","9.22.0","app")},9260:(bt,Te,F)=>{F.d(Te,{Z:()=>d.Z});var d=F(3942);d.Z.registerVersion("firebase","9.22.0","app-compat")},2644:(bt,Te,F)=>{F.r(Te);var d=F(5861),X=F(3942),O=F(2090),ae=F(6881),ue=F(655),ie=F(1877),ye=F(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z_EMAIL_SIGNIN="EMAIL_SIGNIN",Z_PASSWORD_RESET="PASSWORD_RESET",Z_RECOVER_EMAIL="RECOVER_EMAIL",Z_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Z_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Z_VERIFY_EMAIL="VERIFY_EMAIL";const Qe=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},pt=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ie.Yd("@firebase/auth");function Oe(_,...f){Ne.logLevel<=ie.in.ERROR&&Ne.error(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}function Ee(_,...f){throw ot(_,...f)}function Ie(_,...f){return ot(_,...f)}function Ge(_,f,g){const w=Object.assign(Object.assign({},pt()),{[f]:g});return new O.LL("auth","Firebase",w).create(f,{appName:_.name})}function ke(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ee(_,"argument-error"),Ge(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(_,...f){if("string"!=typeof _){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return pe.create(_,...f)}function se(_,f,...g){if(!_)throw ot(f,...g)}function Rt(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Oe(f),new Error(f)}function rt(_,f){_||Rt(f)}function Xt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ht(){return"http:"===fe()||"https:"===fe()}function fe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Se{constructor(f,g){this.shortDelay=f,this.longDelay=g,rt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(_,f){rt(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class je{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ft=new Se(3e4,6e4);function Ut(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function tt(_,f,g,w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,d.Z)(function*(_,f,g,w,S={}){return Mt(_,S,(0,d.Z)(function*(){let x={},B={};w&&("GET"===f?B=w:x={body:JSON.stringify(w)});const Y=(0,O.xO)(Object.assign({key:_.config.apiKey},B)).slice(1),Ae=yield _._getAdditionalHeaders();return Ae["Content-Type"]="application/json",_.languageCode&&(Ae["X-Firebase-Locale"]=_.languageCode),je.fetch()(Or(_,_.config.apiHost,g,Y),Object.assign({method:f,headers:Ae,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Mt(_,f,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(_,f,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},mt),f);try{const S=new Zr(_),x=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const B=yield x.json();if("needConfirmation"in B)throw kr(_,"account-exists-with-different-credential",B);if(x.ok&&!("errorMessage"in B))return B;{const Y=x.ok?B.errorMessage:B.error.message,[Ae,He]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw kr(_,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ae)throw kr(_,"email-already-in-use",B);if("USER_DISABLED"===Ae)throw kr(_,"user-disabled",B);const nt=w[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw Ge(_,nt,He);Ee(_,nt)}}catch(S){if(S instanceof O.ZR)throw S;Ee(_,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Cn(_,f,g,w){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(_,f,g,w,S={}){const x=yield tt(_,f,g,w,S);return"mfaPendingCredential"in x&&Ee(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Or(_,f,g,w){const S=`${f}${g}?${w}`;return _.config.emulator?qe(_.config,S):`${_.config.apiScheme}://${S}`}class Zr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ie(this.auth,"network-request-failed")),ft.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kr(_,f,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=Ie(_,f,w);return S.customData._tokenResponse=g,S}function bi(){return(bi=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function mo(){return(mo=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function fi(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Kr(){return(Kr=(0,d.Z)(function*(_,f=!1){const g=(0,O.m9)(_),w=yield g.getIdToken(f),S=on(w);se(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,B=x?.sign_in_provider;return{claims:S,token:w,authTime:fi(rs(S.auth_time)),issuedAtTime:fi(rs(S.iat)),expirationTime:fi(rs(S.exp)),signInProvider:B||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function rs(_){return 1e3*Number(_)}function on(_){const[f,g,w]=_.split(".");if(void 0===f||void 0===g||void 0===w)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(g);return S?JSON.parse(S):(Oe("Failed to decode base64 JWT payload"),null)}catch(S){return Oe("Caught error parsing JWT payload as JSON",S?.toString()),null}}function at(_,f){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof O.ZR&&function Di({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}class pi{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class yr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yr(_){return kn.apply(this,arguments)}function kn(){return kn=(0,d.Z)(function*(_){var f;const g=_.auth,w=yield _.getIdToken(),S=yield at(_,function Fr(_,f){return _t.apply(this,arguments)}(g,{idToken:w}));se(S?.users.length,g,"internal-error");const x=S.users[0];_._notifyReloadListener(x);const B=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?function en(_){return _.map(f=>{var{providerId:g}=f,w=(0,ue._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(x.providerUserInfo):[],Y=function Zs(_,f){return[..._.filter(w=>!f.some(S=>S.providerId===w.providerId)),...f]}(_.providerData,B),nt=!!_.isAnonymous&&!(_.email&&x.passwordHash||Y?.length),it={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:Y,metadata:new yr(x.createdAt,x.lastLoginAt),isAnonymous:nt};Object.assign(_,it)}),kn.apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(_){const f=(0,O.m9)(_);yield Yr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(_,f){const g=yield Mt(_,{},(0,d.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:x}=_.config,B=Or(_,S,"/v1/token",`key=${x}`),Y=yield _._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(B,{method:"POST",headers:Y,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){se(f.idToken,"internal-error"),se(typeof f.idToken<"u","internal-error"),se(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function cn(_){const f=on(_);return se(f,"internal-error"),se(typeof f.exp<"u","internal-error"),se(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,d.Z)(function*(){return se(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:B}=yield function is(_,f){return dn.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(S,x,Number(B))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:S,expirationTime:x}=g,B=new Ci;return w&&(se("string"==typeof w,"internal-error",{appName:f}),B.refreshToken=w),S&&(se("string"==typeof S,"internal-error",{appName:f}),B.accessToken=S),x&&(se("number"==typeof x,"internal-error",{appName:f}),B.expirationTime=x),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ci,this.toJSON())}_performRefresh(){return Rt("not implemented")}}function Bn(_,f){se("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class er{constructor(f){var{uid:g,auth:w,stsTokenManager:S}=f,x=(0,ue._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new yr(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,d.Z)(function*(){const w=yield at(g,g.stsTokenManager.getToken(g.auth,f));return se(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function Ar(_){return Kr.apply(this,arguments)}(this,f)}reload(){return function gi(_){return vn.apply(this,arguments)}(this)}_assign(f){this!==f&&(se(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new er(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,d.Z)(function*(){let S=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield Yr(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,d.Z)(function*(){const g=yield f.getIdToken();return yield at(f,function Ws(_,f){return bi.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,S,x,B,Y,Ae,He,nt;const it=null!==(w=g.displayName)&&void 0!==w?w:void 0,Nn=null!==(S=g.email)&&void 0!==S?S:void 0,lo=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,ad=null!==(B=g.photoURL)&&void 0!==B?B:void 0,iv=null!==(Y=g.tenantId)&&void 0!==Y?Y:void 0,Ln=null!==(Ae=g._redirectEventId)&&void 0!==Ae?Ae:void 0,qp=null!==(He=g.createdAt)&&void 0!==He?He:void 0,Hm=null!==(nt=g.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:ud,emailVerified:ld,isAnonymous:Ji,providerData:Bh,stsTokenManager:Kl}=g;se(ud&&Kl,f,"internal-error");const sv=Ci.fromJSON(this.name,Kl);se("string"==typeof ud,f,"internal-error"),Bn(it,f.name),Bn(Nn,f.name),se("boolean"==typeof ld,f,"internal-error"),se("boolean"==typeof Ji,f,"internal-error"),Bn(lo,f.name),Bn(ad,f.name),Bn(iv,f.name),Bn(Ln,f.name),Bn(qp,f.name),Bn(Hm,f.name);const jh=new er({uid:ud,auth:f,email:Nn,emailVerified:ld,displayName:it,isAnonymous:Ji,photoURL:ad,phoneNumber:lo,tenantId:iv,stsTokenManager:sv,createdAt:qp,lastLoginAt:Hm});return Bh&&Array.isArray(Bh)&&(jh.providerData=Bh.map(ov=>Object.assign({},ov))),Ln&&(jh._redirectEventId=Ln),jh}static _fromIdTokenResponse(f,g,w=!1){return(0,d.Z)(function*(){const S=new Ci;S.updateFromServerResponse(g);const x=new er({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:w});return yield Yr(x),x})()}}const Hi=new Map;function An(_){rt(_ instanceof Function,"Expected a class definition");let f=Hi.get(_);return f?(rt(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Hi.set(_,f),f)}const Qr=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,d.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,d.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,d.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function j(_,f,g){return`firebase:${_}:${f}:${g}`}class U{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:S,name:x}=this.auth;this.fullUserKey=j(this.userKey,S.apiKey,x),this.fullPersistenceKey=j("persistence",S.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?er._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,d.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,d.Z)(function*(){if(!g.length)return new U(An(Qr),f,w);const S=(yield Promise.all(g.map(function(){var He=(0,d.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return He.apply(this,arguments)}}()))).filter(He=>He);let x=S[0]||An(Qr);const B=j(w,f.config.apiKey,f.name);let Y=null;for(const He of g)try{const nt=yield He._get(B);if(nt){const it=er._fromJSON(f,nt);He!==x&&(Y=it),x=He;break}}catch{}const Ae=S.filter(He=>He._shouldAllowMigration);return x._shouldAllowMigration&&Ae.length?(x=Ae[0],Y&&(yield x._set(B,Y.toJSON())),yield Promise.all(g.map(function(){var He=(0,d.Z)(function*(nt){if(nt!==x)try{yield nt._remove(B)}catch{}});return function(nt){return He.apply(this,arguments)}}())),new U(x,f,w)):new U(x,f,w)})()}}function W(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(xt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(_e(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Wn(f))return"Blackberry";if(xn(f))return"Webos";if(J(f))return"Safari";if((f.includes("chrome/")||Le(f))&&!f.includes("edge/"))return"Chrome";if(nn(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function _e(_=(0,O.z$)()){return/firefox\//i.test(_)}function J(_=(0,O.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Le(_=(0,O.z$)()){return/crios\//i.test(_)}function xt(_=(0,O.z$)()){return/iemobile/i.test(_)}function nn(_=(0,O.z$)()){return/android/i.test(_)}function Wn(_=(0,O.z$)()){return/blackberry/i.test(_)}function xn(_=(0,O.z$)()){return/webos/i.test(_)}function gn(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ss(_=(0,O.z$)()){return gn(_)||nn(_)||xn(_)||Wn(_)||/windows phone/i.test(_)||xt(_)}function ce(_,f=[]){let g;switch(_){case"Browser":g=W((0,O.z$)());break;case"Worker":g=`${W((0,O.z$)())}-${_}`;break;default:g=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${w}`}function xe(){return(xe=(0,d.Z)(function*(_){return(yield tt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yt(_,f){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(_,f){return tt(_,"GET","/v2/recaptchaConfig",Ut(_,f))})).apply(this,arguments)}function Zt(_){return void 0!==_&&void 0!==_.getResponse}function vt(_){return void 0!==_&&void 0!==_.enterprise}class an{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function _r(_){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=S=>{const x=Ie("internal-error");x.customData=S,g(x)},w.type="text/javascript",w.charset="UTF-8",function rn(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function tr(_){return`__${_}${Math.floor(1e6*Math.random())}`}const yo="NO_RECAPTCHA";class Ti{constructor(f){this.type="recaptcha-enterprise",this.auth=yn(f)}verify(f="verify",g=!1){var w=this;return(0,d.Z)(function*(){function x(){return x=(0,d.Z)(function*(Y){if(!g){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var Ae=(0,d.Z)(function*(He,nt){yt(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(it=>{if(void 0!==it.recaptchaKey){const Nn=new an(it);return null==Y.tenantId?Y._agentRecaptchaConfig=Nn:Y._tenantRecaptchaConfigs[Y.tenantId]=Nn,He(Nn.siteKey)}nt(new Error("recaptcha Enterprise site key undefined"))}).catch(it=>{nt(it)})});return function(He,nt){return Ae.apply(this,arguments)}}())}),x.apply(this,arguments)}function B(Y,Ae,He){const nt=window.grecaptcha;vt(nt)?nt.enterprise.ready(()=>{nt.enterprise.execute(Y,{action:f}).then(it=>{Ae(it)}).catch(()=>{Ae(yo)})}):He(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,Ae)=>{(function S(Y){return x.apply(this,arguments)})(w.auth).then(He=>{if(!g&&vt(window.grecaptcha))B(He,Y,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));_r("https://www.google.com/recaptcha/enterprise.js?render="+He).then(()=>{B(He,Y,Ae)}).catch(nt=>{Ae(nt)})}}).catch(He=>{Ae(He)})})})()}}function Ye(_,f,g){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(_,f,g,w=!1){const S=new Ti(_);let x;try{x=yield S.verify(g)}catch{x=yield S.verify(g,!0)}const B=Object.assign({},f);return Object.assign(B,w?{captchaResp:x}:{captchaResponse:x}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class Mn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=x=>new Promise((B,Y)=>{try{B(f(x))}catch(Ae){Y(Ae)}});w.onAbort=g,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,d.Z)(function*(){if(g.auth.currentUser===f)return;const w=[];try{for(const S of g.queue)yield S(f),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const x of w)try{x()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Si{constructor(f,g,w,S){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nr(this),this.idTokenSubscription=new nr(this),this.beforeStateQueue=new Mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=An(g)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,x;if(!w._deleted&&(w.persistenceManager=yield U.create(w,f),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(x=w.currentUser)||void 0===x?void 0:x.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,d.Z)(function*(){var w;const S=yield g.assertedPersistence.getCurrentUser();let x=S,B=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Y=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ae=x?._redirectEventId,He=yield g.tryRedirectSignIn(f);(!Y||Y===Ae)&&He?.user&&(x=He.user,B=!0)}if(!x)return g.directlySetCurrentUser(null);if(!x._redirectEventId){if(B)try{yield g.beforeStateQueue.runMiddleware(x)}catch(Y){x=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Y))}return x?g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)}return se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var g=this;return(0,d.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,d.Z)(function*(){try{yield Yr(f)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,d.Z)(function*(){const w=f?(0,O.m9)(f):null;return w&&se(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return f&&se(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,d.Z)(function*(){yield g.assertedPersistence.setPersistence(An(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const g=yield yt(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new an(g);null==f.tenantId?f._agentRecaptchaConfig=w:f._tenantRecaptchaConfigs[f.tenantId]=w,w.emailPasswordEnabled&&new Ti(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,d.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,d.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&An(f)||g._popupRedirectResolver;se(w,g,"argument-error"),g.redirectPersistenceManager=yield U.create(g,[An(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,d.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,d.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,d.Z)(function*(){if(f===g.currentUser)return g.queue((0,d.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,S){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),B=this._isInitialized?Promise.resolve():this._initializationPromise;return se(B,this,"internal-error"),B.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,w,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,d.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();S&&(w["X-Firebase-Client"]=S);const x=yield f._getAppCheckToken();return x&&(w["X-Firebase-AppCheck"]=x),w})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var g;const w=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function Be(_,...f){Ne.logLevel<=ie.in.WARN&&Ne.warn(`Auth (${ae.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function yn(_){return(0,O.m9)(_)}class nr{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function os(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Ya(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Is{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Rt("not implemented")}_getIdTokenResponse(f){return Rt("not implemented")}_linkToIdToken(f,g){return Rt("not implemented")}_getReauthenticationResolver(f){return Rt("not implemented")}}function vo(_,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:resetPassword",Ut(_,f))})).apply(this,arguments)}function ua(_,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:update",Ut(_,f))})).apply(this,arguments)}function Mr(_,f){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(_,f){return Cn(_,"POST","/v1/accounts:signInWithPassword",Ut(_,f))})).apply(this,arguments)}function mi(_,f){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:sendOobCode",Ut(_,f))})).apply(this,arguments)}function ca(){return(ca=(0,d.Z)(function*(_,f){return mi(_,f)})).apply(this,arguments)}function Ks(_,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(_,f){return mi(_,f)})).apply(this,arguments)}function vr(_,f){return nl.apply(this,arguments)}function nl(){return(nl=(0,d.Z)(function*(_,f){return mi(_,f)})).apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(_,f){return mi(_,f)})).apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(_,f){return Cn(_,"POST","/v1/accounts:signInWithEmailLink",Ut(_,f))})).apply(this,arguments)}function Xr(){return(Xr=(0,d.Z)(function*(_,f){return Cn(_,"POST","/v1/accounts:signInWithEmailLink",Ut(_,f))})).apply(this,arguments)}class rl extends Is{constructor(f,g,w,S=null){super("password",w),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new rl(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new rl(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,d.Z)(function*(){var w;switch(g.signInMethod){case"password":const S={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=f._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const x=yield Ye(f,S,"signInWithPassword");return Mr(f,x)}return Mr(f,S).catch(function(){var x=(0,d.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield Ye(f,S,"signInWithPassword");return Mr(f,Y)}return Promise.reject(B)});return function(B){return x.apply(this,arguments)}}());case"emailLink":return function Xa(_,f){return da.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ee(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return ua(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ec(_,f){return Xr.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Ee(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qi(_,f){return th.apply(this,arguments)}function th(){return(th=(0,d.Z)(function*(_,f){return Cn(_,"POST","/v1/accounts:signInWithIdp",Ut(_,f))})).apply(this,arguments)}class Ds extends Is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Ds(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ee("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:S}=g,x=(0,ue._T)(g,["providerId","signInMethod"]);if(!w||!S)return null;const B=new Ds(w,S);return B.idToken=x.idToken||void 0,B.accessToken=x.accessToken||void 0,B.secret=x.secret,B.nonce=x.nonce,B.pendingToken=x.pendingToken||null,B}_getIdTokenResponse(f){return qi(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,qi(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qi(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function Ic(){return(Ic=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:sendVerificationCode",Ut(_,f))})).apply(this,arguments)}function nh(){return(nh=(0,d.Z)(function*(_,f){return Cn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ut(_,f))})).apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(_,f){const g=yield Cn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ut(_,f));if(g.temporaryProof)throw kr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const rh={USER_NOT_FOUND:"user-not-found"};function sl(){return(sl=(0,d.Z)(function*(_,f){return Cn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ut(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),rh)})).apply(this,arguments)}class Ai extends Is{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Ai({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Ai({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Dm(_,f){return nh.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Cm(_,f){return il.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function j_(_,f){return sl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:x}=f;return w||g||S||x?new Ai({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:x}):null}}class ha{constructor(f){var g,w,S,x,B,Y;const Ae=(0,O.zd)((0,O.pd)(f)),He=null!==(g=Ae.apiKey)&&void 0!==g?g:null,nt=null!==(w=Ae.oobCode)&&void 0!==w?w:null,it=function dp(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ae.mode)&&void 0!==S?S:null);se(He&&nt&&it,"argument-error"),this.apiKey=He,this.operation=it,this.code=nt,this.continueUrl=null!==(x=Ae.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(B=Ae.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(Y=Ae.tenantId)&&void 0!==Y?Y:null}static parseLink(f){const g=function ih(_){const f=(0,O.zd)((0,O.pd)(_)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,w=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(w?(0,O.zd)((0,O.pd)(w)).link:null)||w||g||f||_}(f);try{return new ha(g)}catch{return null}}}let hp=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return rl._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=ha.parseLink(w);return se(S,"argument-error"),rl._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Cs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class us extends Cs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Eo extends us{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return se("providerId"in g&&"signInMethod"in g,"argument-error"),Ds._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return se(f.idToken||f.accessToken,"argument-error"),Ds._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Eo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Eo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:x,nonce:B,providerId:Y}=f;if(!w&&!S&&!g&&!x||!Y)return null;try{return new Eo(Y)._credential({idToken:g,accessToken:w,nonce:B,pendingToken:x})}catch{return null}}}let bc=(()=>{class _ extends us{constructor(){super("facebook.com")}static credential(g){return Ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ja=(()=>{class _ extends us{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return _.credential(w,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),sh=(()=>{class _ extends us{constructor(){super("github.com")}static credential(g){return Ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ys extends Is{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return qi(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,qi(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qi(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:S,pendingToken:x}=g;return w&&S&&x&&w===S?new Ys(w,x):null}static _create(f,g){return new Ys(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class eu extends Cs{constructor(f){se(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return eu.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return eu.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Ys.fromJSON(f);return se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Ys._create(w,g)}catch{return null}}}let ol=(()=>{class _ extends us{constructor(){super("twitter.com")}static credential(g,w){return Ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return _.credential(w,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Qs(_,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(_,f){return Cn(_,"POST","/v1/accounts:signUp",Ut(_,f))})).apply(this,arguments)}class Vr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,S=!1){return(0,d.Z)(function*(){const x=yield er._fromIdTokenResponse(f,w,S),B=tu(w);return new Vr({user:x,providerId:B,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const S=tu(w);return new Vr({user:f,providerId:S,_tokenResponse:w,operationType:g})})()}}function tu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function fa(){return(fa=(0,d.Z)(function*(_){var f;const g=yn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Vr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Qs(g,{returnSecureToken:!0}),S=yield Vr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ts extends O.ZR{constructor(f,g,w,S){var x;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Ts.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,S){return new Ts(f,g,w,S)}}function Er(_,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Ts._fromErrorAndOperation(_,x,f,w):x})}function oh(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Ur(){return Ur=(0,d.Z)(function*(_,f){const g=(0,O.m9)(_);yield Ss(!0,g,f);const{providerUserInfo:w}=yield function aa(_,f){return mo.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=oh(w||[]);return g.providerData=g.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ur.apply(this,arguments)}function lr(_,f){return al.apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(_,f,g=!1){const w=yield at(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Vr._forOperation(_,"link",w)})).apply(this,arguments)}function Ss(_,f,g){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,d.Z)(function*(_,f,g){yield Yr(f);const S=!1===_?"provider-already-linked":"no-such-provider";se(oh(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function Xs(_,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(_,f,g=!1){const{auth:w}=_,S="reauthenticate";try{const x=yield at(_,Er(w,S,f,_),g);se(x.idToken,w,"internal-error");const B=on(x.idToken);se(B,w,"internal-error");const{sub:Y}=B;return se(_.uid===Y,w,"user-mismatch"),Vr._forOperation(_,S,x)}catch(x){throw"auth/user-not-found"===x?.code&&Ee(w,"user-mismatch"),x}})).apply(this,arguments)}function nu(_,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(_,f,g=!1){const w="signIn",S=yield Er(_,w,f),x=yield Vr._fromIdTokenResponse(_,w,S);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function ru(_,f){return uh.apply(this,arguments)}function uh(){return(uh=(0,d.Z)(function*(_,f){return nu(yn(_),f)})).apply(this,arguments)}function lh(_,f){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(_,f){const g=(0,O.m9)(_);return yield Ss(!1,g,f.providerId),lr(g,f)})).apply(this,arguments)}function ch(_,f){return ll.apply(this,arguments)}function ll(){return(ll=(0,d.Z)(function*(_,f){return Xs((0,O.m9)(_),f)})).apply(this,arguments)}function dh(){return(dh=(0,d.Z)(function*(_,f){return Cn(_,"POST","/v1/accounts:signInWithCustomToken",Ut(_,f))})).apply(this,arguments)}function $t(){return $t=(0,d.Z)(function*(_,f){const g=yn(_),w=yield function Tm(_,f){return dh.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),S=yield Vr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S}),$t.apply(this,arguments)}class iu{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?su._fromServerResponse(f,g):"totpInfo"in g?cr._fromServerResponse(f,g):Ee(f,"internal-error")}}class su extends iu{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new su(g)}}class cr extends iu{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new cr(g)}}function Io(_,f,g){var w;se((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),se(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(se(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(se(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ei(){return ei=(0,d.Z)(function*(_,f,g){var w;const S=yn(_),x={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const B=yield Ye(S,x,"getOobCode",!0);g&&Io(S,B,g),yield Ks(S,B)}else g&&Io(S,x,g),yield Ks(S,x).catch(function(){var B=(0,d.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ae=yield Ye(S,x,"getOobCode",!0);g&&Io(S,Ae,g),yield Ks(S,Ae)}});return function(Y){return B.apply(this,arguments)}}())}),ei.apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(_,f,g){yield vo((0,O.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function As(){return As=(0,d.Z)(function*(_,f){yield function as(_,f){return la.apply(this,arguments)}((0,O.m9)(_),{oobCode:f})}),As.apply(this,arguments)}function ou(_,f){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(_,f){const g=(0,O.m9)(_),w=yield vo(g,{oobCode:f}),S=w.requestType;switch(se(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(w.mfaInfo,g,"internal-error");default:se(w.email,g,"internal-error")}let x=null;return w.mfaInfo&&(x=iu._fromServerResponse(yn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(_,f){const{data:g}=yield ou((0,O.m9)(_),f);return g.email})).apply(this,arguments)}function Ri(){return Ri=(0,d.Z)(function*(_,f,g){var w;const S=yn(_),x={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const He=yield Ye(S,x,"signUpPassword");B=Qs(S,He)}else B=Qs(S,x).catch(function(){var He=(0,d.Z)(function*(nt){if("auth/missing-recaptcha-token"===nt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const it=yield Ye(S,x,"signUpPassword");return Qs(S,it)}return Promise.reject(nt)});return function(nt){return He.apply(this,arguments)}}());const Y=yield B.catch(He=>Promise.reject(He)),Ae=yield Vr._fromIdTokenResponse(S,"signIn",Y);return yield S._updateCurrentUser(Ae.user),Ae}),Ri.apply(this,arguments)}function hl(){return hl=(0,d.Z)(function*(_,f,g){var w;const S=yn(_),x={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(Y,Ae){se(Ae.handleCodeInApp,S,"argument-error"),Ae&&Io(S,Y,Ae)}if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Y=yield Ye(S,x,"getOobCode",!0);B(Y,g),yield vr(S,Y)}else B(x,g),yield vr(S,x).catch(function(){var Y=(0,d.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const He=yield Ye(S,x,"getOobCode",!0);B(He,g),yield vr(S,He)}});return function(Ae){return Y.apply(this,arguments)}}())}),hl.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(_,f,g){const w=(0,O.m9)(_),S=hp.credentialWithLink(f,g||Xt());return se(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ru(w,S)})).apply(this,arguments)}function fl(){return(fl=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:createAuthUri",Ut(_,f))})).apply(this,arguments)}function pl(){return pl=(0,d.Z)(function*(_,f){const w={identifier:f,continueUri:ht()?Xt():"http://localhost"},{signinMethods:S}=yield function Tc(_,f){return fl.apply(this,arguments)}((0,O.m9)(_),w);return S||[]}),pl.apply(this,arguments)}function uu(){return uu=(0,d.Z)(function*(_,f){const g=(0,O.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Io(g.auth,S,f);const{email:x}=yield function wc(_,f){return ca.apply(this,arguments)}(g.auth,S);x!==_.email&&(yield _.reload())}),uu.apply(this,arguments)}function lu(){return lu=(0,d.Z)(function*(_,f,g){const w=(0,O.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Io(w.auth,x,g);const{email:B}=yield function yi(_,f){return _i.apply(this,arguments)}(w.auth,x);B!==_.email&&(yield _.reload())}),lu.apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(_,f){return tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function yl(){return yl=(0,d.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,O.m9)(_),x={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield at(w,function gh(_,f){return ml.apply(this,arguments)}(w.auth,x));w.displayName=B.displayName||null,w.photoURL=B.photoUrl||null;const Y=w.providerData.find(({providerId:Ae})=>"password"===Ae);Y&&(Y.displayName=w.displayName,Y.photoURL=w.photoURL),yield w._updateTokensIfNecessary(B)}),yl.apply(this,arguments)}function Pn(_,f,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,d.Z)(function*(_,f,g){const{auth:w}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const B=yield at(_,ua(w,x));yield _._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class Do{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class mp extends Do{constructor(f,g,w,S){super(f,g,w),this.username=S}}class mh extends Do{constructor(f,g){super(f,"facebook.com",g)}}class Mm extends mp{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class vl extends Do{constructor(f,g){super(f,"google.com",g)}}class Ac extends mp{constructor(f,g,w){super(f,"twitter.com",g,w)}}function Mc(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function gp(_){var f,g;if(!_)return null;const{providerId:w}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const B=null===(g=null===(f=on(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new Do(x,"anonymous"!==B&&"custom"!==B?B:null)}if(!w)return null;switch(w){case"facebook.com":return new mh(x,S);case"github.com":return new Mm(x,S);case"google.com":return new vl(x,S);case"twitter.com":return new Ac(x,S,_.screenName||null);case"custom":case"anonymous":return new Do(x,null);default:return new Do(x,w,S)}}(g)}class Co{constructor(f,g,w){this.type=f,this.credential=g,this.auth=w}static _fromIdtoken(f,g){return new Co("enroll",f,g)}static _fromMfaPendingCredential(f){return new Co("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Co._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Co._fromIdtoken(f.multiFactorSession.idToken)}return null}}class To{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=yn(f),S=g.customData._serverResponse,x=(S.mfaInfo||[]).map(Y=>iu._fromServerResponse(w,Y));se(S.mfaPendingCredential,w,"internal-error");const B=Co._fromMfaPendingCredential(S.mfaPendingCredential);return new To(B,x,function(){var Y=(0,d.Z)(function*(Ae){const He=yield Ae._process(w,B);delete S.mfaInfo,delete S.mfaPendingCredential;const nt=Object.assign(Object.assign({},S),{idToken:He.idToken,refreshToken:He.refreshToken});switch(g.operationType){case"signIn":const it=yield Vr._fromIdTokenResponse(w,g.operationType,nt);return yield w._updateCurrentUser(it.user),it;case"reauthenticate":return se(g.user,w,"internal-error"),Vr._forOperation(g.user,g.operationType,nt);default:Ee(w,"internal-error")}});return function(Ae){return Y.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,d.Z)(function*(){return g.signInResolver(f)})()}}class Mo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>iu._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Mo(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Co._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var w=this;return(0,d.Z)(function*(){const S=f,x=yield w.getSession(),B=yield at(w.user,S._process(w.user.auth,x,g));return yield w.user._updateTokensIfNecessary(B),w.user.reload()})()}unenroll(f){var g=this;return(0,d.Z)(function*(){const w="string"==typeof f?f:f.uid,S=yield g.user.getIdToken();try{const x=yield at(g.user,function Il(_,f){return tt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==w),yield g.user._updateTokensIfNecessary(x),yield g.user.reload()}catch(x){throw x}})()}}const Js=new WeakMap,Ro="__sak";class bl{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ro,"1"),this.storage.removeItem(Ro),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const xo=(()=>{class _ extends bl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function du(){const _=(0,O.z$)();return J(_)||gn(_)}()&&function Za(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),x=this.localCache[w];S!==x&&g(w,x,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Y,Ae,He)=>{this.notifyListeners(Y,He)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(S);if(g.newValue!==Y)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const x=()=>{const Y=this.storage.getItem(S);!w&&this.localCache[S]===Y||this.notifyListeners(S,Y)},B=this.storage.getItem(S);!function Gi(){return(0,O.w1)()&&10===document.documentMode}()||B===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,x=this;return(0,d.Z)(function*(){yield S().call(x,g,w),x.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,d.Z)(function*(){const x=yield w().call(S,g);return S.localCache[g]=JSON.stringify(x),x})()}_remove(g){var w=()=>super._remove,S=this;return(0,d.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),xs=(()=>{class _ extends bl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let va=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(x=>x.isListeningto(g));if(w)return w;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,d.Z)(function*(){const S=g,{eventId:x,eventType:B,data:Y}=S.data,Ae=w.handlersMap[B];if(!Ae?.size)return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:B});const He=Array.from(Ae).map(function(){var it=(0,d.Z)(function*(Nn){return Nn(S.origin,Y)});return function(Nn){return it.apply(this,arguments)}}()),nt=yield function Pc(_){return Promise.all(_.map(function(){var f=(0,d.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(He);S.ports[0].postMessage({status:"done",eventId:x,eventType:B,response:nt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function wa(_="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return _+g}class wh{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var S=this;return(0,d.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let B,Y;return new Promise((Ae,He)=>{const nt=wa("",20);x.port1.start();const it=setTimeout(()=>{He(new Error("unsupported_event"))},w);Y={messageChannel:x,onMessage(Nn){const lo=Nn;if(lo.data.eventId===nt)switch(lo.data.status){case"ack":clearTimeout(it),B=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ae(lo.data.response);break;default:clearTimeout(it),clearTimeout(B),He(new Error("invalid_response"))}}},S.handlers.add(Y),x.port1.addEventListener("message",Y.onMessage),S.target.postMessage({eventType:f,eventId:nt,data:g},[x.port2])}).finally(()=>{Y&&S.removeMessageHandler(Y)})})()}}function wn(){return window}function Cl(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function Tl(){return(Tl=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Po="firebaseLocalStorageDb",Kn=1,Oc="firebaseLocalStorage",hu="fbase_key";class fu{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ps(_,f){return _.transaction([Oc],f?"readwrite":"readonly").objectStore(Oc)}function Al(){const _=indexedDB.open(Po,Kn);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Oc,{keyPath:hu})}catch(S){g(S)}}),_.addEventListener("success",(0,d.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Oc)?f(w):(w.close(),yield function vp(){const _=indexedDB.deleteDatabase(Po);return new fu(_).toPromise()}(),f(yield Al()))}))})}function No(_,f,g){return kc.apply(this,arguments)}function kc(){return(kc=(0,d.Z)(function*(_,f,g){const w=Ps(_,!0).put({[hu]:f,value:g});return new fu(w).toPromise()})).apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(_,f){const g=Ps(_,!1).get(f),w=yield new fu(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function eo(_,f){const g=Ps(_,!0).delete(f);return new fu(g).toPromise()}const ko=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.Z)(function*(){return g.db||(g.db=yield Al()),g.db})()}_withRetries(g){var w=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const x=yield w._openDb();return yield g(x)}catch(x){if(S++>3)throw x;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.Z)(function*(){return Cl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.Z)(function*(){g.receiver=va._getInstance(function dr(){return Cl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(S,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(S,x){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function Nc(){return Tl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new wh(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);x&&null!==(w=x[0])&&void 0!==w&&w.fulfilled&&null!==(S=x[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Sl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Al();return yield No(g,Ro,"1"),yield eo(g,Ro),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(x=>No(x,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,d.Z)(function*(){const S=yield w._withRetries(x=>function pu(_,f){return Ea.apply(this,arguments)}(x,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(S=>eo(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.Z)(function*(){const w=yield g._withRetries(B=>{const Y=Ps(B,!1).getAll();return new fu(Y).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:B,value:Y}of w)x.add(B),JSON.stringify(g.localCache[B])!==JSON.stringify(Y)&&(g.notifyListeners(B,Y),S.push(B));for(const B of Object.keys(g.localCache))g.localCache[B]&&!x.has(B)&&(g.notifyListeners(B,null),S.push(B));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const x of Array.from(S))x(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),mu=1e12;class Fc{constructor(f){this.auth=f,this.counter=mu,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Lc(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||mu;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||mu))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,d.Z)(function*(){var w;return null===(w=g._widgets.get(f||mu))||void 0===w||w.execute(),""})()}}class Lc{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;se(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function z_(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ip=tr("rcb"),G_=new Se(3e4,6e4);class q_{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=wn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return se(function bp(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Zt(wn().grecaptcha)?Promise.resolve(wn().grecaptcha):new Promise((w,S)=>{const x=wn().setTimeout(()=>{S(Ie(f,"network-request-failed"))},G_.get());wn()[Ip]=()=>{wn().clearTimeout(x),delete wn()[Ip];const Y=wn().grecaptcha;if(!Y||!Zt(Y))return void S(Ie(f,"internal-error"));const Ae=Y.render;Y.render=(He,nt)=>{const it=Ae(He,nt);return this.counter++,it},this.hostLanguage=g,w(Y)},_r(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Ip,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),S(Ie(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=wn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hr{load(f){return(0,d.Z)(function*(){return new Fc(f)})()}clearedOneInstance(){}}const yu="recaptcha",Ml={theme:"light",type:"image"};class Vc{constructor(f,g=Object.assign({},Ml),w){this.parameters=g,this.type=yu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(w),this.isInvisible="invisible"===this.parameters.size,se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;se(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hr:new q_,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(x=>{const B=Y=>{Y&&(f.tokenChangeListeners.delete(B),x(Y))};f.tokenChangeListeners.add(B),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=wn()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){se(ht()&&!Cl(),f.auth,"internal-error"),yield function Wi(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function te(_){return xe.apply(this,arguments)}(f.auth);se(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cs{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Ai._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Vo(){return(Vo=(0,d.Z)(function*(_,f,g){const w=yn(_),S=yield Pl(w,f,(0,O.m9)(g));return new cs(S,x=>ru(w,x))})).apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(_,f,g){const w=(0,O.m9)(_);yield Ss(!1,w,"phone");const S=yield Pl(w.auth,f,(0,O.m9)(g));return new cs(S,x=>lh(w,x))})).apply(this,arguments)}function Uc(){return(Uc=(0,d.Z)(function*(_,f,g){const w=(0,O.m9)(_),S=yield Pl(w.auth,f,(0,O.m9)(g));return new cs(S,x=>ch(w,x))})).apply(this,arguments)}function Pl(_,f,g){return ti.apply(this,arguments)}function ti(){return ti=(0,d.Z)(function*(_,f,g){var w;const S=yield g.verify();try{let x;if(se("string"==typeof S,_,"argument-error"),se(g.type===yu,_,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const B=x.session;if("phoneNumber"in x)return se("enroll"===B.type,_,"internal-error"),(yield function _a(_,f){return tt(_,"POST","/v2/accounts/mfaEnrollment:start",Ut(_,f))}(_,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{se("signin"===B.type,_,"internal-error");const Y=(null===(w=x.multiFactorHint)||void 0===w?void 0:w.uid)||x.multiFactorUid;return se(Y,_,"missing-multi-factor-info"),(yield function Fo(_,f){return tt(_,"POST","/v2/accounts/mfaSignIn:start",Ut(_,f))}(_,{mfaPendingCredential:B.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function bm(_,f){return Ic.apply(this,arguments)}(_,{phoneNumber:x.phoneNumber,recaptchaToken:S});return B}}finally{g._reset()}}),ti.apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(_,f){yield lr((0,O.m9)(_),f)})).apply(this,arguments)}let lt=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=yn(g)}verifyPhoneNumber(g,w){return Pl(this.auth,g,(0,O.m9)(w))}static credential(g,w){return Ai._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?Ai._fromTokenResponse(w,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Br(_,f){return f?An(f):(se(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Fn extends Is{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qi(f,this._buildIdpRequest())}_linkToIdToken(f,g){return qi(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return qi(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function bh(_){return nu(_.auth,new Fn(_),_.bypassAuthState)}function _u(_){const{auth:f,user:g}=_;return se(g,f,"internal-error"),Xs(g,new Fn(_),_.bypassAuthState)}function ni(_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,d.Z)(function*(_){const{auth:f,user:g}=_;return se(g,f,"internal-error"),lr(g,new Fn(_),_.bypassAuthState)})).apply(this,arguments)}class Bc{constructor(f,g,w,S,x=!1){this.auth=f,this.resolver=w,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,d.Z)(function*(w,S){f.pendingPromise={resolve:w,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:x,tenantId:B,error:Y,type:Ae}=f;if(Y)return void g.reject(Y);const He={auth:g.auth,requestUri:w,sessionId:S,tenantId:B||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ae)(He))}catch(nt){g.reject(nt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return bh;case"linkViaPopup":case"linkViaRedirect":return ni;case"reauthViaPopup":case"reauthViaRedirect":return _u;default:Ee(this.auth,"internal-error")}}resolve(f){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pi=new Se(2e3,1e4);function vu(){return(vu=(0,d.Z)(function*(_,f,g){const w=yn(_);ke(_,f,Cs);const S=Br(w,g);return new Ol(w,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(_,f,g){const w=(0,O.m9)(_);ke(w.auth,f,Cs);const S=Br(w.auth,g);return new Ol(w.auth,"reauthViaPopup",f,S,w).executeNotNull()})).apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(_,f,g){const w=(0,O.m9)(_);ke(w.auth,f,Cs);const S=Br(w.auth,g);return new Ol(w.auth,"linkViaPopup",f,S,w).executeNotNull()})).apply(this,arguments)}let Ol=(()=>{class _ extends Bc{constructor(g,w,S,x,B){super(g,w,x,B),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.Z)(function*(){const w=yield g.execute();return se(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,d.Z)(function*(){rt(1===g.filter.length,"Popup operations only handle one event");const w=wa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Ie(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Pi.get())};g()}}return _.currentPopupAction=null,_})();const no="pendingRedirect",ro=new Map;class Ir extends Bc{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,d.Z)(function*(){let w=ro.get(g.auth._key());if(!w){try{const x=(yield function $c(_,f){return Hc.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(x)}catch(S){w=()=>Promise.reject(S)}ro.set(g.auth._key(),w)}return g.bypassAuthState||ro.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const S=yield w.auth._redirectUserForId(f.eventId);if(S)return w.user=S,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Hc(){return(Hc=(0,d.Z)(function*(_,f){const g=ba(f),w=Fl(_);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function Uo(_,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(_,f){return Fl(_)._set(ba(f),"true")})).apply(this,arguments)}function Dh(_,f){ro.set(_._key(),f)}function Fl(_){return An(_._redirectPersistence)}function ba(_){return j(no,_.config.apiKey,_.name)}function Ch(_,f,g){return function Tp(_,f,g){return Eu.apply(this,arguments)}(_,f,g)}function Eu(){return(Eu=(0,d.Z)(function*(_,f,g){const w=yn(_);ke(_,f,Cs),yield w._initializationPromise;const S=Br(w,g);return yield Uo(S,w),S._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Iu(_,f,g){return function Zi(_,f,g){return bu.apply(this,arguments)}(_,f,g)}function bu(){return(bu=(0,d.Z)(function*(_,f,g){const w=(0,O.m9)(_);ke(w.auth,f,Cs),yield w.auth._initializationPromise;const S=Br(w.auth,g);yield Uo(S,w.auth);const x=yield Yn(w);return S._openRedirect(w.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function xr(_,f,g){return function zc(_,f,g){return Gc.apply(this,arguments)}(_,f,g)}function Gc(){return(Gc=(0,d.Z)(function*(_,f,g){const w=(0,O.m9)(_);ke(w.auth,f,Cs),yield w.auth._initializationPromise;const S=Br(w.auth,g);yield Ss(!1,w,f.providerId),yield Uo(S,w.auth);const x=yield Yn(w);return S._openRedirect(w.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function io(){return(io=(0,d.Z)(function*(_,f){return yield yn(_)._initializationPromise,jo(_,f,!1)})).apply(this,arguments)}function jo(_,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,d.Z)(function*(_,f,g=!1){const w=yn(_),S=Br(w,f),B=yield new Ir(w,S,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield w._persistUserIfCurrent(B.user),yield w._setRedirectUser(null,f)),B})).apply(this,arguments)}function Yn(_){return $o.apply(this,arguments)}function $o(){return($o=(0,d.Z)(function*(_){const f=wa(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Da{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function br(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ds(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!ds(f)){const S=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ie(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(f))}saveEventToCache(f){this.cachedEventUids.add(Ki(f)),this.lastProcessedEventTime=Date.now()}}function Ki(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function ds({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Ho(_){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,d.Z)(function*(_,f={}){return tt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Ll=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vl=/^https?/;function Ns(){return(Ns=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Ho(_);for(const g of f)try{if(Wc(g))return}catch{}Ee(_,"unauthorized-domain")})).apply(this,arguments)}function Wc(_){const f=Xt(),{protocol:g,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const B=new URL(_);return""===B.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===w}if(!Vl.test(g))return!1;if(Ll.test(_))return w===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Bl=new Se(3e4,6e4);function Dt(){const _=wn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let jl=null;const Th=new Se(5e3,15e3),Sh="__/auth/iframe",Qi="emulator/auth/iframe",Ah={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rh(_){const f=_.config;se(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?qe(f,Qi):`https://${_.config.authDomain}/${Sh}`,w={apiKey:f.apiKey,appName:_.name,v:ae.SDK_VERSION},S=Mh.get(_.config.apiHost);S&&(w.eid=S);const x=_._getFrameworks();return x.length&&(w.fw=x.join(",")),`${g}?${(0,O.xO)(w).slice(1)}`}function D(){return D=(0,d.Z)(function*(_){const f=yield function Ni(_){return jl=jl||function Yi(_){return new Promise((f,g)=>{var w,S,x;function B(){Dt(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dt(),g(Ie(_,"network-request-failed"))},timeout:Bl.get()})}if(null!==(S=null===(w=wn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)f(gapi.iframes.getContext());else{if(null===(x=wn().gapi)||void 0===x||!x.load){const Y=tr("iframefcb");return wn()[Y]=()=>{gapi.load?B():g(Ie(_,"network-request-failed"))},_r(`https://apis.google.com/js/api.js?onload=${Y}`).catch(Ae=>g(Ae))}B()}}).catch(f=>{throw jl=null,f})}(_),jl}(_),g=wn().gapi;return se(g,_,"internal-error"),f.open({where:document.body,url:Rh(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ah,dontclear:!0},w=>new Promise(function(){var S=(0,d.Z)(function*(x,B){yield w.restyle({setHideOnLeave:!1});const Y=Ie(_,"network-request-failed"),Ae=wn().setTimeout(()=>{B(Y)},Th.get());function He(){wn().clearTimeout(Ae),x(w)}w.ping(He).then(He,()=>{B(Y)})});return function(x,B){return S.apply(this,arguments)}}()))}),D.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N=500,G=600,K="_blank",re="http://localhost";class We{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Nt="__/auth/handler",Ot="emulator/auth/handler",jr=encodeURIComponent("fac");function En(_,f,g,w,S,x){return jt.apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(_,f,g,w,S,x){se(_.config.authDomain,_,"auth-domain-config-required"),se(_.config.apiKey,_,"invalid-api-key");const B={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:ae.SDK_VERSION,eventId:S};if(f instanceof Cs){f.setDefaultLanguage(_.languageCode),B.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[nt,it]of Object.entries(x||{}))B[nt]=it}if(f instanceof us){const nt=f.getScopes().filter(it=>""!==it);nt.length>0&&(B.scopes=nt.join(","))}_.tenantId&&(B.tid=_.tenantId);const Y=B;for(const nt of Object.keys(Y))void 0===Y[nt]&&delete Y[nt];const Ae=yield _._getAppCheckToken(),He=Ae?`#${jr}=${encodeURIComponent(Ae)}`:"";return`${function so({config:_}){return _.emulator?qe(_,Ot):`https://${_.authDomain}/${Nt}`}(_)}?${(0,O.xO)(Y).slice(1)}${He}`})).apply(this,arguments)}const zo="webStorageSupport",Xi=class Dr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=jo,this._overrideRedirectResult=Dh}_openPopup(f,g,w,S){var x=this;return(0,d.Z)(function*(){var B;rt(null===(B=x.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Y=yield En(f,g,w,Xt(),S);return function $e(_,f,g,w=N,S=G){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),B=Math.max((window.screen.availWidth-w)/2,0).toString();let Y="";const Ae=Object.assign(Object.assign({},A),{width:w.toString(),height:S.toString(),top:x,left:B}),He=(0,O.z$)().toLowerCase();g&&(Y=Le(He)?K:g),_e(He)&&(f=f||re,Ae.scrollbars="yes");const nt=Object.entries(Ae).reduce((Nn,[lo,ad])=>`${Nn}${lo}=${ad},`,"");if(function Lr(_=(0,O.z$)()){var f;return gn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(He)&&"_self"!==Y)return function ct(_,f){const g=document.createElement("a");g.href=_,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",Y),new We(null);const it=window.open(f||"",Y,nt);se(it,_,"popup-blocked");try{it.focus()}catch{}return new We(it)}(f,Y,wa())})()}_openRedirect(f,g,w,S){var x=this;return(0,d.Z)(function*(){return yield x._originValidation(f),function Eh(_){wn().location.href=_}(yield En(f,g,w,Xt(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:x}=this.eventManagers[g];return S?Promise.resolve(S):(rt(x,"If manager is not set, promise should be"),x)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,d.Z)(function*(){const w=yield function I(_){return D.apply(this,arguments)}(f),S=new Da(f);return w.register("authEvent",x=>(se(x?.authEvent,f,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=w,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(zo,{type:zo},S=>{var x;const B=null===(x=S?.[0])||void 0===x?void 0:x[zo];void 0!==B&&g(!!B),Ee(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ul(_){return Ns.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ss()||J()||gn()}};class oo{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return Rt("unexpected MultiFactorSessionType")}}}class Zc extends oo{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Zc(f)}_finalizeEnroll(f,g,w){return function xc(_,f){return tt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(_,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Ep(_,f){return tt(_,"POST","/v2/accounts/mfaSignIn:finalize",Ut(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kc=(()=>{class _{constructor(){}static assertion(g){return Zc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Mp="@firebase/auth";class $l{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,d.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Cu(){return window}(0,O.Pz)("authIdTokenMaxAge"),function Pm(_){(0,ae._registerComponent)(new ye.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),x=f.getProvider("app-check-internal"),{apiKey:B,authDomain:Y}=w.options;se(B&&!B.includes(":"),"invalid-api-key",{appName:w.name});const Ae={apiKey:B,authDomain:Y,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(_)},He=new Si(w,S,x,Ae);return function jn(_,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(An);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,f?.popupRedirectResolver)}(He,g),He},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ye.wA("auth-internal",f=>{const g=yn(f.getProvider("auth").getImmediate());return new $l(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Mp,"0.23.2",function Rp(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ae.registerVersion)(Mp,"0.23.2","esm2017")}("Browser");const Z_=2e3;function Qc(){return Qc=(0,d.Z)(function*(_,f,g){var w;const{BuildInfo:S}=Cu();rt(f.sessionId,"AuthEvent did not contain a session ID");const x=yield function Ta(_){return Xc.apply(this,arguments)}(f.sessionId),B={};return gn()?B.ibi=S.packageName:nn()?B.apn=S.packageName:Ee(_,"operation-not-supported-in-this-environment"),S.displayName&&(B.appDisplayName=S.displayName),B.sessionId=x,En(_,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,B)}),Qc.apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(_){const{BuildInfo:f}=Cu(),g={};gn()?g.iosBundleId=f.packageName:nn()?g.androidPackageName=f.packageName:Ee(_,"operation-not-supported-in-this-environment"),yield Ho(_,g)})).apply(this,arguments)}function Hl(){return(Hl=(0,d.Z)(function*(_,f,g){const{cordova:w}=Cu();let S=()=>{};try{yield new Promise((x,B)=>{let Y=null;function Ae(){var it;x();const Nn=null===(it=w.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof Nn&&Nn(),"function"==typeof g?.close&&g.close()}function He(){Y||(Y=window.setTimeout(()=>{B(Ie(_,"redirect-cancelled-by-user"))},Z_))}function nt(){"visible"===document?.visibilityState&&He()}f.addPassiveListener(Ae),document.addEventListener("resume",He,!1),nn()&&document.addEventListener("visibilitychange",nt,!1),S=()=>{f.removePassiveListener(Ae),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",nt,!1),Y&&window.clearTimeout(Y)}})}finally{S()}})).apply(this,arguments)}function Xc(){return(Xc=(0,d.Z)(function*(_){const f=function km(_){if(rt(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let w=0;w<_.length;w++)g[w]=_.charCodeAt(w);return g}(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Jc=20;class Nh extends Da{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function Oh(_){return ed.apply(this,arguments)}function ed(){return(ed=(0,d.Z)(function*(_){const f=yield kh()._get(Au(_));return f&&(yield kh()._remove(Au(_))),f})).apply(this,arguments)}function Pp(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<Jc;g++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function kh(){return An(xo)}function Au(_){return j("authEvent",_.config.apiKey,_.name)}function Os(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,O.zd)(g.join("?"))}const nd=class td{constructor(){this._redirectPersistence=xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jo,this._overrideRedirectResult=Dh}_initialize(f){var g=this;return(0,d.Z)(function*(){const w=f._key();let S=g.eventManagers.get(w);return S||(S=new Nh(f),g.eventManagers.set(w,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){Ee(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,S){var x=this;return(0,d.Z)(function*(){!function Y_(_){var f,g,w,S,x,B,Y,Ae,He,nt;const it=Cu();se("function"==typeof(null===(f=it?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(typeof(null===(g=it?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(x=null===(S=null===(w=it?.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===x?void 0:x.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(Ae=null===(Y=null===(B=it?.cordova)||void 0===B?void 0:B.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===Ae?void 0:Ae.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(nt=null===(He=it?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===nt?void 0:nt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield x._initialize(f);yield B.initialized(),B.resetRedirect(),function kl(){ro.clear()}(),yield x._originValidation(f);const Y=function Wo(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Pp(),postBody:null,tenantId:_.tenantId,error:Ie(_,"no-auth-event")}}(f,w,S);yield function Fm(_,f){return kh()._set(Au(_),f)}(f,Y);const Ae=yield function Om(_,f,g){return Qc.apply(this,arguments)}(f,Y,g),He=yield function K_(_){const{cordova:f}=Cu();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let S=null;w?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function Jt(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Ae);return function Tu(_,f,g){return Hl.apply(this,arguments)}(f,B,He)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ph(_){return Ca.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:S,BuildInfo:x}=Cu(),B=setTimeout((0,d.Z)(function*(){yield Oh(f),g.onEvent(Op())}),500),Y=function(){var nt=(0,d.Z)(function*(it){clearTimeout(B);const Nn=yield Oh(f);let lo=null;Nn&&it?.url&&(lo=function Su(_,f){var g,w;const S=function Lh(_){const f=Os(_),g=f.link?decodeURIComponent(f.link):void 0,w=Os(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Os(S).link||S||w||g||_}(f);if(S.includes("/__/auth/callback")){const x=Os(S),B=x.firebaseError?function Fh(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,Y=null===(w=null===(g=B?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ae=Y?Ie(Y):null;return Ae?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(Nn,it.url)),g.onEvent(lo||Op())});return function(Nn){return nt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,Y);const Ae=S,He=`${x.packageName.toLowerCase()}://`;Cu().handleOpenURL=function(){var nt=(0,d.Z)(function*(it){if(it.toLowerCase().startsWith(He)&&Y({url:it}),"function"==typeof Ae)try{Ae(it)}catch(Nn){console.error(Nn)}});return function(it){return nt.apply(this,arguments)}}()}};function Op(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}const Fp=1e3;function hs(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Sa(_=(0,O.z$)()){return!("file:"!==hs()&&"ionic:"!==hs()&&"capacitor:"!==hs()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function J_(){try{const _=self.localStorage,f=wa();if(_)return _.setItem(f,"1"),_.removeItem(f),!function X_(_=(0,O.z$)()){return function zl(){return(0,O.w1)()&&11===document?.documentMode}()||function Q_(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch{return Lp()&&(0,O.hl)()}return!1}function Lp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function od(){return(function id(){return"http:"===hs()||"https:"===hs()}()||(0,O.ru)()||Sa())&&!function sd(){return(0,O.b$)()||(0,O.UG)()}()&&J_()&&!Lp()}function Lm(){return Sa()&&typeof document<"u"}function Gl(){return(Gl=(0,d.Z)(function*(){return!!Lm()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},Fp);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Oi={LOCAL:"local",NONE:"none",SESSION:"session"},Mu=se,Up="persistence";function Bp(_){return jp.apply(this,arguments)}function jp(){return(jp=(0,d.Z)(function*(_){yield _._initializationPromise;const f=$p(),g=j(Up,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function $p(){var _;try{return(null===(_=function Vp(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Hp=se;class $r{constructor(){this.browserResolver=An(Xi),this.cordovaResolver=An(nd),this.underlyingResolver=null,this._redirectPersistence=xs,this._completeRedirectFn=jo,this._overrideRedirectResult=Dh}_initialize(f){var g=this;return(0,d.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,S){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,w,S)})()}_openRedirect(f,g,w,S){var x=this;return(0,d.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,w,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Lm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Vm(){return Gl.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ki(_){return _.unwrap()}function tv(_){return rv(_)}function rv(_){const{_tokenResponse:f}=_ instanceof O.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return lt.credentialFromResult(_);const g=f.providerId;if(!g||g===he.PASSWORD)return null;let w;switch(g){case he.GOOGLE:w=Ja;break;case he.FACEBOOK:w=bc;break;case he.GITHUB:w=sh;break;case he.TWITTER:w=ol;break;default:const{oauthIdToken:S,oauthAccessToken:x,oauthTokenSecret:B,pendingToken:Y,nonce:Ae}=f;return x||B||S||Y?Y?g.startsWith("saml.")?Ys._create(g,Y):Ds._fromParams({providerId:g,signInMethod:g,pendingToken:Y,idToken:S,accessToken:x}):new Eo(g).credential({idToken:S,accessToken:x,rawNonce:Ae}):null}return _ instanceof O.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function fr(_,f){return f.catch(g=>{throw g instanceof O.ZR&&function nv(_,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Uh(_,function El(_,f){var g;const w=(0,O.m9)(_),S=f;return se(f.customData.operationType,w,"argument-error"),se(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),To._fromError(w,S)}(_,f));else if(w){const S=rv(f),x=f;S&&(x.credential=S,x.tenantId=w.tenantId||void 0,x.email=w.email||void 0,x.phoneNumber=w.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:tv(g),additionalUserInfo:Mc(g),user:uo.getOrCreate(S)}})}function zp(_,f){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,d.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>fr(_,g.confirm(w))}})).apply(this,arguments)}class Uh{constructor(f,g){this.resolver=g,this.auth=function ql(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return fr(ki(this.auth),this.resolver.resolveSignIn(f))}}class uo{constructor(f){this._delegate=f,this.multiFactor=function _h(_){const f=(0,O.m9)(_);return Js.has(f)||Js.set(f,Mo._fromUser(f)),Js.get(f)}(f)}static getOrCreate(f){return uo.USER_MAP.has(f)||uo.USER_MAP.set(f,new uo(f)),uo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,d.Z)(function*(){return fr(g.auth,lh(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,d.Z)(function*(){return zp(w.auth,function Rl(_,f,g){return xl.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,d.Z)(function*(){return fr(g.auth,function gt(_,f,g){return jc.apply(this,arguments)}(g._delegate,f,$r))})()}linkWithRedirect(f){var g=this;return(0,d.Z)(function*(){return yield Bp(yn(g.auth)),xr(g._delegate,f,$r)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,d.Z)(function*(){return fr(g.auth,ch(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return zp(this.auth,function Cp(_,f,g){return Uc.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return fr(this.auth,function wu(_,f,g){return to.apply(this,arguments)}(this._delegate,f,$r))}reauthenticateWithRedirect(f){var g=this;return(0,d.Z)(function*(){return yield Bp(yn(g.auth)),Iu(g._delegate,f,$r)})()}sendEmailVerification(f){return function gl(_,f){return uu.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,d.Z)(function*(){return yield function ah(_,f){return Ur.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Rr(_,f){return Pn((0,O.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Ms(_,f){return Pn((0,O.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function sn(_,f){return vi.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function pp(_,f){return yl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Sc(_,f,g){return lu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}uo.USER_MAP=new WeakMap;const Ru=se;let Gp=(()=>{class _{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Ru(S,"invalid-api-key",{appName:g.name}),Ru(S,"invalid-api-key",{appName:g.name});const x=typeof window<"u"?$r:void 0;this._delegate=w.initialize({options:{persistence:ks(S,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Ka(_,f,g){const w=yn(_);se(w._canInitEmulator,w,"emulator-config-failed"),se(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const S=!!g?.disableWarnings,x=os(f),{host:B,port:Y}=function qt(_){const f=os(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const x=S[1];return{host:x,port:Ya(w.substr(x.length+1))}}{const[x,B]=w.split(":");return{host:x,port:Ya(B)}}}(f);w.config.emulator={url:`${x}//${B}${null===Y?"":`:${Y}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:B,port:Y,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function _o(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,w)}applyActionCode(g){return function Sm(_,f){return As.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ou(this._delegate,g)}confirmPasswordReset(g,w){return function hh(_,f,g){return dl.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var S=this;return(0,d.Z)(function*(){return fr(S._delegate,function bo(_,f,g){return Ri.apply(this,arguments)}(S._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ph(_,f){return pl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Am(_,f){return"EMAIL_SIGNIN"===ha.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,d.Z)(function*(){Ru(od(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function $n(_,f){return io.apply(this,arguments)}(g._delegate,$r);return w?fr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function kp(_,f){yn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,S){const{next:x,error:B,complete:Y}=Wl(g,w,S);return this._delegate.onAuthStateChanged(x,B,Y)}onIdTokenChanged(g,w,S){const{next:x,error:B,complete:Y}=Wl(g,w,S);return this._delegate.onIdTokenChanged(x,B,Y)}sendSignInLinkToEmail(g,w){return function au(_,f,g){return hl.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function cl(_,f,g){return ei.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,d.Z)(function*(){let S;switch(function Um(_,f){Mu(Object.values(Oi).includes(f),_,"invalid-persistence-type"),(0,O.b$)()?Mu(f!==Oi.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?Mu(f===Oi.NONE,_,"unsupported-persistence-type"):Lp()?Mu(f===Oi.NONE||f===Oi.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):Mu(f===Oi.NONE||J_(),_,"unsupported-persistence-type")}(w._delegate,g),g){case Oi.SESSION:S=xs;break;case Oi.LOCAL:S=(yield An(ko)._isAvailable())?ko:xo;break;case Oi.NONE:S=Qr;break;default:return Ee("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return fr(this._delegate,function wr(_){return fa.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return fr(this._delegate,ru(this._delegate,g))}signInWithCustomToken(g){return fr(this._delegate,function de(_,f){return $t.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return fr(this._delegate,function fh(_,f,g){return ru((0,O.m9)(_),hp.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return fr(this._delegate,function ir(_,f,g){return ga.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return zp(this._delegate,function Dp(_,f,g){return Vo.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,d.Z)(function*(){return Ru(od(),w._delegate,"operation-not-supported-in-this-environment"),fr(w._delegate,function Ia(_,f,g){return vu.apply(this,arguments)}(w._delegate,g,$r))})()}signInWithRedirect(g){var w=this;return(0,d.Z)(function*(){return Ru(od(),w._delegate,"operation-not-supported-in-this-environment"),yield Bp(w._delegate),Ch(w._delegate,g,$r)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Mi(_,f){return ls.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Oi,_})();function Wl(_,f,g){let w=_;"function"!=typeof _&&({next:w,error:f,complete:g}=_);const S=w;return{next:B=>S(B&&uo.getOrCreate(B)),error:f,complete:g}}function ks(_,f){const g=function ev(_,f){const g=$p();if(!g)return[];const w=j(Up,_,f);switch(g.getItem(w)){case Oi.NONE:return[Qr];case Oi.LOCAL:return[ko,xs];case Oi.SESSION:return[xs];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(ko)&&g.push(ko),typeof window<"u")for(const w of[xo,xs])g.includes(w)||g.push(w);return g.includes(Qr)||g.push(Qr),g}class xu{constructor(){this.providerId="phone",this._delegate=new lt(ki(X.Z.auth()))}static credential(f,g){return lt.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}xu.PHONE_SIGN_IN_METHOD=lt.PHONE_SIGN_IN_METHOD,xu.PROVIDER_ID=lt.PROVIDER_ID;const Zl=se;class Bm{constructor(f,g,w=X.Z.app()){var S;Zl(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Vc(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $m(_){_.INTERNAL.registerComponent(new ye.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new Gp(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Z_EMAIL_SIGNIN,PASSWORD_RESET:Z_PASSWORD_RESET,RECOVER_EMAIL:Z_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Z_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Z_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Z_VERIFY_EMAIL}},EmailAuthProvider:hp,FacebookAuthProvider:bc,GithubAuthProvider:sh,GoogleAuthProvider:Ja,OAuthProvider:Eo,SAMLAuthProvider:eu,PhoneAuthProvider:xu,PhoneMultiFactorGenerator:Kc,RecaptchaVerifier:Bm,TwitterAuthProvider:ol,Auth:Gp,AuthCredential:Is,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(X.Z)},5861:(bt,Te,F)=>{function d(O,ae,ue,ie,ye,we,he){try{var z=O[we](he),H=z.value}catch(Z){return void ue(Z)}z.done?ae(H):Promise.resolve(H).then(ie,ye)}function X(O){return function(){var ae=this,ue=arguments;return new Promise(function(ie,ye){var we=O.apply(ae,ue);function he(H){d(we,ie,ye,he,z,"next",H)}function z(H){d(we,ie,ye,he,z,"throw",H)}he(void 0)})}}F.d(Te,{Z:()=>X})}},bt=>{bt(bt.s=3176)}]);